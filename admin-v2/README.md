# PriceHunter Admin v2

PriceHunter 관리자 대시보드 v2 - 작업 중심의 고도화된 관리자 인터페이스

## 주요 특징

### 1. 작업 중심 UX
- **오늘 해야 할 일 리스트**: 신규 의뢰, 미답변 문의, 승인 대기 후기를 한눈에 확인
- **핵심 통계 카드**: 신규 의뢰 수, 미답변 문의 수, 승인 대기 후기 수, 오늘 처리 완료 건수
- **우선순위 기반 정렬**: 중요한 작업부터 처리할 수 있도록 구성

### 2. 좌측 리스트 + 우측 상세 패널 구조
- 화면 전환 없이 빠른 작업 처리
- 리스트에서 항목 클릭 시 우측에 상세 정보 표시
- 상태 변경, 메모 추가, 이력 확인을 한 화면에서 처리

### 3. 고도화된 검색 및 필터
- **전역 검색**: 이메일, 이름, ID, 제목 등 모든 데이터를 한 번에 검색
- **저장 가능한 필터**: 자주 사용하는 필터 조건을 저장하여 빠르게 적용
- **실시간 필터링**: 필터 변경 시 즉시 결과 반영

### 4. 이력 타임라인 및 내부 메모
- **이력 타임라인**: 상태 변경, 답변 완료 등 주요 이벤트를 시간 순으로 표시
- **내부 메모**: 운영자들끼리 공유하는 코멘트 기능
- **작성자 및 시간 추적**: 모든 변경 사항을 추적 가능

### 5. 알림 센터
- 실시간 알림 수신
- 신규 의뢰, 미답변 문의 등 주요 이벤트 알림
- 알림 클릭 시 해당 항목으로 바로 이동

### 6. 모듈화된 아키텍처
- **도메인 서비스 레이어**: Requests, Inquiries, Users, Reviews 등 도메인별 서비스 분리
- **Firebase 추상화**: Firebase 직접 사용 대신 래퍼를 통해 접근
- **재사용 가능한 컴포넌트**: TodoList, DataTable, DetailPanel, FilterBar 등

## 파일 구조

```
admin-v2/
├── main.js                    # 메인 애플리케이션
├── services/                  # 도메인 서비스 레이어
│   ├── requests-service.js    # 의뢰 서비스
│   ├── inquiries-service.js   # 문의 서비스
│   ├── users-service.js       # 회원 서비스
│   └── reviews-service.js     # 후기 서비스
├── components/                # UI 컴포넌트
│   ├── todo-list.js          # 할 일 리스트
│   ├── data-table.js         # 데이터 테이블
│   ├── detail-panel.js       # 상세 패널
│   ├── filter-bar.js        # 필터 바
│   └── notification-center.js # 알림 센터
└── utils/                    # 유틸리티
    └── firebase-wrapper.js   # Firebase 래퍼
```

## 사용 방법

### 1. 접속
`admin-dashboard-v2.html` 파일을 브라우저에서 열거나 웹 서버를 통해 접속합니다.

### 2. 로그인
- 관리자 이메일과 비밀번호로 로그인
- Firebase Authentication을 통해 인증

### 3. 대시보드
- 로그인 후 대시보드 화면에서 오늘 할 일을 확인
- 통계 카드로 주요 지표 확인
- 할 일 리스트에서 항목 클릭 시 해당 섹션으로 이동

### 4. 의뢰 관리
- 좌측 사이드바에서 "의뢰 관리" 클릭
- 필터를 사용하여 원하는 의뢰만 표시
- 의뢰 클릭 시 우측에 상세 정보 표시
- 상태 변경, 메모 추가, 이력 확인 가능

### 5. 문의 관리
- "1:1 문의" 섹션에서 미답변 문의 확인
- 문의 클릭 시 상세 정보 및 답변 작성
- 내부 메모로 팀원과 정보 공유

### 6. 후기 관리
- "후기 관리" 섹션에서 승인 대기 후기 확인
- 후기 승인/거부 처리
- 내부 메모로 검수 사항 기록

### 7. 필터 저장
- 필터 조건 설정 후 "필터 저장" 버튼 클릭
- 저장된 필터는 다음에 빠르게 적용 가능

### 8. 전역 검색
- 상단 검색 바에서 이메일, 이름, ID, 제목 등으로 검색
- 검색 결과가 있으면 해당 항목으로 자동 이동

## 주요 기능 상세

### 내부 메모
각 항목(의뢰, 문의, 회원, 후기)에 내부 메모를 추가할 수 있습니다.
- 운영자들끼리만 볼 수 있는 코멘트
- 작성자와 시간이 자동으로 기록됨
- 예: "이 고객은 자주 환불 요청함", "다음 의뢰 시 쿠폰 제공 추천"

### 이력 타임라인
모든 주요 이벤트가 시간 순으로 기록됩니다.
- 상태 변경
- 답변 완료
- 승인/거부
- 담당자 변경 등

### 알림 센터
주요 이벤트 발생 시 알림을 받습니다.
- 신규 의뢰 생성
- 미답변 문의
- 승인 대기 후기
- 처리 완료 등

## 기술 스택

- **Frontend**: Vanilla JavaScript (ES6 Modules)
- **UI Framework**: Tailwind CSS
- **Backend**: Firebase (Firestore, Authentication)
- **아키텍처**: 모듈화된 서비스 레이어 패턴

## 향후 개선 사항

1. **역할 기반 권한 관리**: Super Admin, CS 전담, 마케팅 등 역할별 권한 설정
2. **배치 액션**: 여러 항목을 선택하여 일괄 처리
3. **고급 통계**: 일/주/월별 통계, 재의뢰 비율 등
4. **감사 로그**: 중요한 작업의 상세 로그 기록
5. **데이터 내보내기**: CSV, Excel 형식으로 데이터 내보내기

## 문제 해결

### Firebase 초기화 실패
- 브라우저 콘솔에서 오류 확인
- CSP 헤더 설정 확인
- Firebase 설정값 확인

### 데이터가 표시되지 않음
- Firebase 인증 상태 확인
- Firestore 규칙 확인
- 네트워크 탭에서 요청 상태 확인

### 필터가 작동하지 않음
- 필터 바가 제대로 렌더링되었는지 확인
- 브라우저 콘솔에서 오류 확인

## 라이선스

PriceHunter 프로젝트의 일부입니다.

