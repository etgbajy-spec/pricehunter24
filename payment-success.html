<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex, nofollow" />
    <title>ê²°ì œ ì„±ê³µ - PriceHunter</title>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N7R437NT77"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-N7R437NT77');
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      /* í…ìŠ¤íŠ¸ ì„ íƒ ë° í¸ì§‘ ë°©ì§€ */
      body {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      
      /* ë²„íŠ¼ê³¼ ë§í¬ëŠ” í…ìŠ¤íŠ¸ ì„ íƒ í—ˆìš© */
      button, a {
        -webkit-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        user-select: text;
      }
      body { font-family: 'Noto Sans KR', sans-serif; }
      .fade-in { animation: fadeIn 0.7s; }
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      .success-bg { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
      .card-shadow { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
      .checkmark { animation: checkmark 0.5s ease-in-out; }
      @keyframes checkmark { 0% { transform: scale(0); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
    </style>
  </head>
  <body class="success-bg min-h-screen py-8 px-4">
    <div class="max-w-2xl mx-auto">
      <!-- ì„±ê³µ ë©”ì‹œì§€ -->
      <div class="bg-white rounded-3xl card-shadow p-8 text-center fade-in mb-6">
        <div class="text-6xl mb-4 checkmark">âœ…</div>
        <h1 class="text-3xl font-bold text-gray-800 mb-2">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
        <p class="text-gray-600 mb-6">ì•ˆì „í•œ êµ¬ë§¤ë¥¼ ë„ì™€ë“œë ¤ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>
        
        <!-- ì£¼ë¬¸ ë²ˆí˜¸ -->
        <div class="bg-gradient-to-r from-emerald-50 to-blue-50 rounded-xl p-4 mb-6">
          <div class="text-sm text-gray-600 mb-1">ì£¼ë¬¸ ë²ˆí˜¸</div>
          <div id="order-number" class="text-xl font-bold text-emerald-600"></div>
        </div>

        <!-- ì£¼ë¬¸ ì •ë³´ -->
        <div class="text-left">
          <h2 class="text-lg font-bold text-gray-800 mb-4">ğŸ“¦ ì£¼ë¬¸ ì •ë³´</h2>
          <div class="space-y-3 mb-6">
            <div class="flex justify-between">
              <span class="text-gray-600">ìƒí’ˆëª…</span>
              <span id="product-name" class="font-semibold text-gray-800"></span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">ê²°ì œ ê¸ˆì•¡</span>
              <span id="payment-amount" class="font-bold text-emerald-600"></span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">ê²°ì œ ë°©ë²•</span>
              <span id="payment-method" class="font-semibold text-gray-800"></span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">ì£¼ë¬¸ ì¼ì‹œ</span>
              <span id="order-date" class="font-semibold text-gray-800"></span>
            </div>
          </div>

          <!-- ë°°ì†¡ ì •ë³´ -->
          <h3 class="text-lg font-bold text-gray-800 mb-4">ğŸšš ë°°ì†¡ ì •ë³´</h3>
          <div class="bg-gray-50 rounded-xl p-4 mb-6">
            <div class="mb-2">
              <span class="text-gray-600">ìˆ˜ë ¹ì¸:</span>
              <span id="recipient-name" class="font-semibold text-gray-800 ml-2"></span>
            </div>
            <div class="mb-2">
              <span class="text-gray-600">ì—°ë½ì²˜:</span>
              <span id="recipient-phone" class="font-semibold text-gray-800 ml-2"></span>
            </div>
            <div>
              <span class="text-gray-600">ë°°ì†¡ì§€:</span>
              <span id="shipping-address" class="font-semibold text-gray-800 ml-2"></span>
            </div>
          </div>

          <!-- ë°°ì†¡ ìƒíƒœ -->
          <div class="bg-blue-50 rounded-xl p-4 mb-6">
            <div class="flex items-center mb-2">
              <div class="w-3 h-3 bg-blue-500 rounded-full mr-3"></div>
              <span class="font-semibold text-blue-800">ë°°ì†¡ ì¤€ë¹„ ì¤‘</span>
            </div>
            <div class="text-sm text-blue-600">
              ì£¼ë¬¸ í™•ì¸ í›„ 1-2ì¼ ë‚´ì— ë°°ì†¡ë©ë‹ˆë‹¤.
            </div>
          </div>
        </div>
      </div>

      <!-- ì¶”ê°€ ê¸°ëŠ¥ -->
      <div class="bg-white rounded-2xl card-shadow p-6 fade-in">
        <h3 class="text-lg font-bold text-gray-800 mb-4">ğŸ“‹ ì¶”ê°€ ê¸°ëŠ¥</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <button onclick="downloadReceipt()" class="flex items-center justify-center p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition">
            <div class="text-2xl mr-3">ğŸ“„</div>
            <div class="text-left">
              <div class="font-semibold text-gray-800">ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œ</div>
              <div class="text-sm text-gray-500">ì£¼ë¬¸ ë‚´ì—­ í™•ì¸</div>
            </div>
          </button>
          <button onclick="goToOrderHistory()" class="flex items-center justify-center p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition">
            <div class="text-2xl mr-3">ğŸ“‹</div>
            <div class="text-left">
              <div class="font-semibold text-gray-800">ì£¼ë¬¸ ë‚´ì—­</div>
              <div class="text-sm text-gray-500">ì „ì²´ ì£¼ë¬¸ í™•ì¸</div>
            </div>
          </button>
          <button onclick="contactSupport()" class="flex items-center justify-center p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition">
            <div class="text-2xl mr-3">ğŸ’¬</div>
            <div class="text-left">
              <div class="font-semibold text-gray-800">ê³ ê° ì§€ì›</div>
              <div class="text-sm text-gray-500">ë¬¸ì˜ì‚¬í•­ ë„ì›€</div>
            </div>
          </button>
          <button onclick="goToHome()" class="flex items-center justify-center p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition">
            <div class="text-2xl mr-3">ğŸ </div>
            <div class="text-left">
              <div class="font-semibold text-gray-800">í™ˆìœ¼ë¡œ</div>
              <div class="text-sm text-gray-500">ë©”ì¸ í˜ì´ì§€</div>
            </div>
          </button>
        </div>
      </div>

      <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
      <div class="bg-white rounded-2xl card-shadow p-6 mt-6 fade-in">
        <h3 class="text-lg font-bold text-gray-800 mb-4">â„¹ï¸ ì•ˆë‚´ì‚¬í•­</h3>
        <div class="space-y-3 text-sm text-gray-600">
          <div class="flex items-start">
            <div class="text-blue-500 mr-2 mt-1">â€¢</div>
            <div>ì£¼ë¬¸ í™•ì¸ ì´ë©”ì¼ì´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
          </div>
          <div class="flex items-start">
            <div class="text-blue-500 mr-2 mt-1">â€¢</div>
            <div>ë°°ì†¡ ì‹œì‘ ì‹œ SMSë¡œ ì•Œë¦¼ì„ ë“œë¦½ë‹ˆë‹¤.</div>
          </div>
          <div class="flex items-start">
            <div class="text-blue-500 mr-2 mt-1">â€¢</div>
            <div>ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ê³ ê° ì§€ì›ì„ ì´ìš©í•´ì£¼ì„¸ìš”.</div>
          </div>
          <div class="flex items-start">
            <div class="text-blue-500 mr-2 mt-1">â€¢</div>
            <div>ì£¼ë¬¸ ë²ˆí˜¸ë¥¼ ê¸°ì–µí•´ë‘ì‹œë©´ ì£¼ë¬¸ ì¡°íšŒê°€ í¸ë¦¬í•©ë‹ˆë‹¤.</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì£¼ë¬¸ ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
      function getOrderInfo() {
        const urlParams = new URLSearchParams(window.location.search);
        const orderNumber = urlParams.get('order');

        if (!orderNumber) {
          alert('ì£¼ë¬¸ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          window.location.href = 'index.html';
          return;
        }

        // ì£¼ë¬¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        const orderData = localStorage.getItem('order-' + orderNumber);
        if (!orderData) {
          alert('ì£¼ë¬¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          window.location.href = 'index.html';
          return;
        }

        const order = JSON.parse(orderData);

        // ì£¼ë¬¸ ì •ë³´ í‘œì‹œ
        document.getElementById('order-number').textContent = order.orderNumber;
        document.getElementById('product-name').textContent = order.productName;
        document.getElementById('payment-amount').textContent = order.price;
        document.getElementById('payment-method').textContent = getPaymentMethodText(order.paymentMethod);
        document.getElementById('order-date').textContent = new Date(order.orderDate).toLocaleString();
        
        document.getElementById('recipient-name').textContent = order.recipient.name;
        document.getElementById('recipient-phone').textContent = order.recipient.phone;
        document.getElementById('shipping-address').textContent = order.recipient.address;
      }

      // ê²°ì œ ë°©ë²• í…ìŠ¤íŠ¸ ë³€í™˜
      function getPaymentMethodText(method) {
        const methods = {
          'card': 'ğŸ’³ ì‹ ìš©ì¹´ë“œ',
          'bank': 'ğŸ¦ ê³„ì¢Œì´ì²´',
          'kakao': 'ğŸ’› ì¹´ì¹´ì˜¤í˜ì´',
          'naver': 'ğŸŸ¢ ë„¤ì´ë²„í˜ì´'
        };
        return methods[method] || method;
      }

      // ì˜ìˆ˜ì¦ ë‹¤ìš´ë¡œë“œ
      function downloadReceipt() {
        const urlParams = new URLSearchParams(window.location.search);
        const orderNumber = urlParams.get('order');
        const orderData = localStorage.getItem('order-' + orderNumber);
        
        if (orderData) {
          const order = JSON.parse(orderData);
          
          // ì˜ìˆ˜ì¦ ë‚´ìš© ìƒì„±
          const receipt = `
PriceHunter ì˜ìˆ˜ì¦
==================
ì£¼ë¬¸ë²ˆí˜¸: ${order.orderNumber}
ì£¼ë¬¸ì¼ì‹œ: ${new Date(order.orderDate).toLocaleString()}
ìƒí’ˆëª…: ${order.productName}
ê²°ì œê¸ˆì•¡: ${order.price}
ê²°ì œë°©ë²•: ${getPaymentMethodText(order.paymentMethod)}

ë°°ì†¡ì •ë³´:
ìˆ˜ë ¹ì¸: ${order.recipient.name}
ì—°ë½ì²˜: ${order.recipient.phone}
ì£¼ì†Œ: ${order.recipient.address}

ê°ì‚¬í•©ë‹ˆë‹¤!
          `;
          
          // ë‹¤ìš´ë¡œë“œ (ì‹¤ì œë¡œëŠ” PDF ìƒì„±)
          const blob = new Blob([receipt], { type: 'text/plain' });
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = `receipt-${orderNumber}.txt`;
          a.click();
          window.URL.revokeObjectURL(url);
        }
      }

      // ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€ë¡œ ì´ë™
      function goToOrderHistory() {
        alert('ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
        // ì‹¤ì œë¡œëŠ” ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€ë¡œ ì´ë™
        // window.location.href = 'order-history.html';
      }

      // ê³ ê° ì§€ì› í˜ì´ì§€ë¡œ ì´ë™
      function contactSupport() {
        alert('ê³ ê° ì§€ì› í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
        // ì‹¤ì œë¡œëŠ” ê³ ê° ì§€ì› í˜ì´ì§€ë¡œ ì´ë™
        // window.location.href = 'contact.html';
      }

      // í™ˆìœ¼ë¡œ ì´ë™
      function goToHome() {
        window.location.href = 'index.html';
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì£¼ë¬¸ ì •ë³´ ì„¤ì •
      window.addEventListener('DOMContentLoaded', function() {
        getOrderInfo();
      });
    </script>
  </body>
</html> 