import{o as e,a as t,s as n,f as o,q as s,h as l,i as r,j as a,b as c}from"./firebase.D0v-ztDH.js";const d=["q886654@naver.com","admin@pricehunter.com"];let i,g,u,y,p;async function m(e){if(console.log("ğŸ”„ ì¸ì¦ ìƒíƒœ ë³€ê²½:",e?e.email:"ë¡œê·¸ì•„ì›ƒ"),e){const o=await async function(e){try{const t=await e.getIdTokenResult();return"admin"===t.claims.role?(console.log("âœ… Custom Claimsì—ì„œ ê´€ë¦¬ì ê¶Œí•œ í™•ì¸"),!0):d.includes(e.email)?(console.log("âœ… ì´ë©”ì¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ì ê¶Œí•œ í™•ì¸"),!0):(console.log("âŒ ê´€ë¦¬ì ê¶Œí•œ ì—†ìŒ"),!1)}catch(t){return console.error("âŒ ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ ì‹¤íŒ¨:",t),!1}}(e);o?(console.log("âœ… ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ë¨"),function(){i&&(i.style.display="none");g&&(g.style.display="block");const e=document.getElementById("loginError");e&&(e.style.display="none")}(),console.log("ğŸ”„ ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ì‹œì‘..."),function(){console.log("ğŸ‘¥ íšŒì› ë°ì´í„° ë¦¬ìŠ¤ë„ˆ ì„¤ì •...");const e=s(r(c,"members"),l("createdAt","desc"));a(e,e=>{console.log("ğŸ“Š íšŒì› ë°ì´í„° ìˆ˜ì‹ :",e.size,"ê°œ ë¬¸ì„œ"),function(e){if(!u)return;const t=u.querySelector("tbody");t&&(t.innerHTML="",e.forEach(e=>{const n=e.data(),o=document.createElement("tr");var s,l;o.className="border-b border-gray-200 hover:bg-gray-50",o.innerHTML=`\n      <td class="px-4 py-3">${n.email||"N/A"}</td>\n      <td class="px-4 py-3">${n.name||"N/A"}</td>\n      <td class="px-4 py-3">\n        <span class="px-2 py-1 text-xs rounded-full ${l=n.provider,{kakao:"bg-yellow-100 text-yellow-800",google:"bg-blue-100 text-blue-800",email:"bg-gray-100 text-gray-800"}[l]||"bg-gray-100 text-gray-800"}">\n          ${n.provider||"N/A"}\n        </span>\n      </td>\n      <td class="px-4 py-3">\n        <span class="px-2 py-1 text-xs rounded-full ${s=n.role,{admin:"bg-red-100 text-red-800",viewer:"bg-green-100 text-green-800",user:"bg-blue-100 text-blue-800"}[s]||"bg-gray-100 text-gray-800"}">\n          ${n.role||"viewer"}\n        </span>\n      </td>\n      <td class="px-4 py-3">${$(n.createdAt)}</td>\n      <td class="px-4 py-3">${$(n.updatedAt)}</td>\n    `,t.appendChild(o)}),console.log("âœ… íšŒì› í…Œì´ë¸” ì—…ë°ì´íŠ¸ ì™„ë£Œ:",e.size,"ê°œ í–‰"))}(e)},e=>{console.error("âŒ íšŒì› ë°ì´í„° ë¦¬ìŠ¤ë„ˆ ì˜¤ë¥˜:",e)})}(),function(){console.log("ğŸ“‹ ì˜ë¢° ë°ì´í„° ë¦¬ìŠ¤ë„ˆ ì„¤ì •...");const e=s(r(c,"requests"),l("createdAt","desc"));a(e,e=>{console.log("ğŸ“Š ì˜ë¢° ë°ì´í„° ìˆ˜ì‹ :",e.size,"ê°œ ë¬¸ì„œ"),function(e){if(!y)return;const t=y.querySelector("tbody");t&&(t.innerHTML="",e.forEach(e=>{const n=e.data(),o=document.createElement("tr");o.className="border-b border-gray-200 hover:bg-gray-50",o.innerHTML=`\n      <td class="px-4 py-3">${n.productName||"N/A"}</td>\n      <td class="px-4 py-3">${n.createdByEmail||"N/A"}</td>\n      <td class="px-4 py-3">${$(n.createdAt)}</td>\n      <td class="px-4 py-3">\n        <span class="px-2 py-1 text-xs rounded-full ${E(n.status)}">\n          ${n.status||"pending"}\n        </span>\n      </td>\n    `,t.appendChild(o)}),console.log("âœ… ì˜ë¢° í…Œì´ë¸” ì—…ë°ì´íŠ¸ ì™„ë£Œ:",e.size,"ê°œ í–‰"))}(e)},e=>{console.error("âŒ ì˜ë¢° ë°ì´í„° ë¦¬ìŠ¤ë„ˆ ì˜¤ë¥˜:",e)})}(),function(){console.log("ğŸ’¬ ë¬¸ì˜ ë°ì´í„° ë¦¬ìŠ¤ë„ˆ ì„¤ì •...");const e=s(r(c,"inquiries"),l("createdAt","desc"));a(e,e=>{console.log("ğŸ“Š ë¬¸ì˜ ë°ì´í„° ìˆ˜ì‹ :",e.size,"ê°œ ë¬¸ì„œ"),function(e){if(!p)return;const t=p.querySelector("tbody");t&&(t.innerHTML="",e.forEach(e=>{const n=e.data(),o=document.createElement("tr");o.className="border-b border-gray-200 hover:bg-gray-50",o.innerHTML=`\n      <td class="px-4 py-3">${n.subject||"N/A"}</td>\n      <td class="px-4 py-3">${n.createdByEmail||"N/A"}</td>\n      <td class="px-4 py-3">${$(n.createdAt)}</td>\n      <td class="px-4 py-3">\n        <span class="px-2 py-1 text-xs rounded-full ${E(n.status)}">\n          ${n.status||"pending"}\n        </span>\n      </td>\n    `,t.appendChild(o)}),console.log("âœ… ë¬¸ì˜ í…Œì´ë¸” ì—…ë°ì´íŠ¸ ì™„ë£Œ:",e.size,"ê°œ í–‰"))}(e)},e=>{console.error("âŒ ë¬¸ì˜ ë°ì´í„° ë¦¬ìŠ¤ë„ˆ ì˜¤ë¥˜:",e)})}()):(console.log("âŒ ê´€ë¦¬ì ê¶Œí•œ ì—†ìŒ"),f("ê´€ë¦¬ì ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤."),await n(t))}else f()}async function b(e){e.preventDefault();const n=document.getElementById("email").value,s=document.getElementById("password").value;try{console.log("ğŸ”„ ê´€ë¦¬ì ë¡œê·¸ì¸ ì‹œë„:",n),await o(t,n,s),console.log("âœ… ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ")}catch(l){console.error("âŒ ê´€ë¦¬ì ë¡œê·¸ì¸ ì‹¤íŒ¨:",l),f("ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+l.message)}}async function x(){try{await n(t),console.log("âœ… ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ")}catch(e){console.error("âŒ ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨:",e)}}function f(e=""){if(i&&(i.style.display="block"),g&&(g.style.display="none"),e){const t=document.getElementById("loginError");t&&(t.textContent=e,t.style.display="block")}}function E(e){return{pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"}function $(e){if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}document.addEventListener("DOMContentLoaded",function(){console.log("ğŸš€ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” ì‹œì‘..."),i=document.getElementById("loginForm"),g=document.getElementById("dashboard"),u=document.getElementById("membersTable"),y=document.getElementById("requestsTable"),p=document.getElementById("inquiriesTable"),function(){i&&i.addEventListener("submit",b);const e=document.getElementById("logoutBtn");e&&e.addEventListener("click",x)}(),e(t,m)});
