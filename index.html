<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- Chrome ì¤‘ê°„ ì›¹ì‚¬ì´íŠ¸ ìƒíƒœ ì‚­ì œ ë¬¸ì œ í•´ê²° -->
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <meta name="robots" content="noindex, nofollow" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>PriceHunter</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EğŸ”%3C/text%3E%3C/svg%3E">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase v9 SDK (ëª¨ë“ˆì‹) -->
    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js';
      import { getAuth, signInWithCustomToken, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js';
      import { getFirestore, doc, setDoc, getDoc, collection, query, orderBy, onSnapshot } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js';
      
      // Firebase ì„¤ì •
      const firebaseConfig = {
        apiKey: "AIzaSyDBZxKyMS7eeBTbPnbZkj0WWOZQHNldoL4",
        authDomain: "pricehunter-99a1b.firebaseapp.com",
        projectId: "pricehunter-99a1b",
        storageBucket: "pricehunter-99a1b.firebasestorage.app",
        messagingSenderId: "242265693919",
        appId: "1:242265693919:web:74234d942b82a51541136a",
        measurementId: "G-4BKLV4EVB9"
      };

      // Firebase ì´ˆê¸°í™”
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);

      // ì „ì—­ìœ¼ë¡œ ë…¸ì¶œ
      window.firebaseApp = app;
      window.firebaseAuth = auth;
      window.firebaseDb = db;
      window.firebaseAuthFunctions = { signInWithCustomToken, onAuthStateChanged, signOut };
      window.firebaseFirestoreFunctions = { doc, setDoc, getDoc, collection, query, orderBy, onSnapshot };
      
      console.log('âœ… Firebase v9 ì´ˆê¸°í™” ì™„ë£Œ');
    </script>

  </head>
  <body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 min-h-screen">
    <!-- ì ˆê°ì™• ì•Œë¦¼ ë°°ì§€ -->
    <div id="savings-badge" class="fixed top-4 right-4 z-50">
      <div class="bg-gradient-to-r from-emerald-500 to-blue-500 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <div class="flex items-center gap-3 px-6 py-3 font-semibold text-sm">
          <span class="text-2xl">ğŸ†</span>
          <div class="text-left">
            <div class="font-bold">ì´ë²ˆ ì£¼ ì ˆê°ì™•</div>
            <div class="text-yellow-300 text-xs">-42% ì ˆì•½ ì„±ê³µ!</div>
          </div>
          <a href="#savings-hero" class="text-yellow-300 text-lg hover:text-yellow-200 transition-colors" onclick="document.getElementById('savings-hero').scrollIntoView({behavior: 'smooth'}); return false;">â†’</a>
          <button onclick="hideSavingsBadge()" class="text-white/70 hover:text-white text-lg ml-2 transition-colors">Ã—</button>
        </div>
      </div>
    </div>
    <section class="relative w-full min-h-[70vh] flex flex-col items-center justify-center text-center px-4 py-20 bg-gradient-to-br from-gray-900 to-gray-700 overflow-hidden">
      <!-- ë°°ê²½ ê·¸ë˜í”½/ë¸”ëŸ¬ íš¨ê³¼ -->
      <div class="absolute inset-0 pointer-events-none z-0">
        <div class="absolute -top-32 -left-32 w-96 h-96 bg-yellow-400 opacity-20 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 right-0 w-80 h-80 bg-pink-400 opacity-20 rounded-full blur-2xl"></div>
      </div>
      <!-- Hero ì½˜í…ì¸  -->
      <div class="relative z-10 max-w-7xl mx-auto flex flex-col items-center animate-fadein-up w-full">
        <!-- ì•„ì´ì½˜/ì¼ëŸ¬ìŠ¤íŠ¸ -->
        <div class="mb-10 animate-bounce-slow w-full flex justify-center items-center gap-4 mt-16 sm:mt-20 md:mt-24">
          <span class="text-3xl md:text-5xl font-extrabold text-blue-400 drop-shadow-lg">PriceHunter</span>
          <svg class="w-24 h-24 md:w-40 md:h-40 text-yellow-300 drop-shadow-xl" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48" aria-hidden="true">
            <circle cx="22" cy="22" r="12" stroke="currentColor" />
            <line x1="34" y1="34" x2="44" y2="44" stroke="currentColor" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="flex flex-col items-center w-full max-w-5xl mx-auto">
          <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-extrabold text-white mb-10 md:mb-16 lg:mb-20 drop-shadow-lg tracking-tight leading-relaxed md:leading-relaxed text-center w-full px-2" style="cache-bust: 2024-01-30;">
            <div class="text-yellow-300 mb-2">ì§„ì§œ ìµœì €ê°€ë¥¼ ì°¾ì•„ë“œë¦¬ëŠ”</div>
            <div class="text-blue-300">ì „ë¬¸ ê²€ì¦ ì„œë¹„ìŠ¤</div>
          </h1>
                      <p class="text-sm sm:text-lg md:text-xl lg:text-3xl text-gray-200 mb-8 md:mb-12 lg:mb-16 font-medium leading-relaxed text-center w-full px-4">
            <span class="text-yellow-200 font-bold">ğŸ’ <span id="admin-hero-trigger" title="ê´€ë¦¬ì ì§„ì…: 3ë²ˆ í´ë¦­" class="cursor-pointer hover:text-yellow-100 transition-colors">Â·</span> 100% ë…ë¦½ì  ê²€ì¦</span><br class="hidden sm:block" />
            <br class="hidden sm:block" />
            âš¡ 24ì‹œê°„ ë‚´ ìµœì €ê°€ ë³´ì¥<br class="hidden sm:block" />
            <br class="hidden sm:block" />
            <span class="text-yellow-200 font-bold">ğŸ¯ ì •í™•í•œ ê°€ê²©, í™•ì‹¤í•œ ì ˆì•½</span>
          </p>
          <div class="flex flex-col items-center w-full gap-4">
            <button id="request-v2-btn"
              class="inline-block px-6 sm:px-8 md:px-12 lg:px-20 py-4 sm:py-5 md:py-6 lg:py-8 bg-pink-500 text-white text-lg sm:text-xl md:text-2xl lg:text-4xl font-extrabold rounded-full shadow-2xl hover:bg-pink-600 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-pink-300 animate-fadein-up text-center mb-2 w-full sm:w-auto"
              style="box-shadow:0 8px 32px 0 rgba(0,0,0,0.18);"
                      aria-label="ìµœì €ê°€ ê²€ì¦ ì‹œì‘í•˜ê¸°">
              ğŸš€ ìµœì €ê°€ ìš”ì²­í•˜ê¸°
            </button>
            <a href="support.html"
              class="inline-block px-4 sm:px-6 md:px-8 lg:px-12 py-3 sm:py-4 md:py-4 lg:py-6 bg-yellow-200 text-pink-700 text-sm sm:text-base md:text-lg lg:text-2xl font-bold rounded-full shadow-xl hover:bg-yellow-300 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-yellow-300 animate-fadein-up text-center border-2 border-pink-300 w-full sm:w-auto"
              aria-label="êµ¬ë§¤ ì „ í•„ë…ì‚¬í•­ ì½ê¸°">
              ğŸ“¢ êµ¬ë§¤ ì „ <span class="underline">í•„ë…ì‚¬í•­</span> ì½ê¸°
            </a>
            <a href="notice.html"
              class="inline-block px-4 sm:px-6 md:px-8 lg:px-12 py-3 sm:py-4 md:py-4 lg:py-6 bg-blue-100 text-blue-800 text-sm sm:text-base md:text-lg lg:text-2xl font-bold rounded-full shadow-xl hover:bg-blue-200 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300 animate-fadein-up text-center border-2 border-blue-300 mt-2 w-full sm:w-auto"
              aria-label="ê°€ê²© ì•ˆë‚´ ë° ìœ ì˜ì‚¬í•­ ì „ì²´ë³´ê¸°">
              ğŸ“ ê°€ê²© ì•ˆë‚´ ë° ìœ ì˜ì‚¬í•­ ì „ì²´ë³´ê¸°
            </a>
            <div class="text-pink-200 text-xs sm:text-sm md:text-base lg:text-xl mt-2 animate-fadein-up text-center px-4">êµ¬ë§¤ ì „ <span class="underline">í•„ë…ì‚¬í•­</span>ì„ ê¼­ í™•ì¸í•´ ì£¼ì„¸ìš”!</div>
          </div>
          <div class="mt-8 md:mt-12 animate-fadein-up-slow w-full flex justify-center">
            <span class="text-gray-300 text-base md:text-2xl flex items-center gap-2">
              <svg class="w-6 h-6 md:w-8 md:h-8 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
              ìŠ¤í¬ë¡¤í•´ì„œ ë” ì•Œì•„ë³´ê¸°
            </span>
          </div>
        </div>
      </div>
      <style>
        @keyframes fadein-up { 0% { opacity: 0; transform: translateY(40px);} 100% { opacity: 1; transform: translateY(0);} }
        .animate-fadein-up { animation: fadein-up 1.2s cubic-bezier(.4,0,.2,1) both; }
        @keyframes fadein-up-slow { 0% { opacity: 0; transform: translateY(60px);} 100% { opacity: 1; transform: translateY(0);} }
        .animate-fadein-up-slow { animation: fadein-up-slow 2.2s cubic-bezier(.4,0,.2,1) both; }
        @keyframes bounce-slow { 0%, 100% { transform: translateY(0);} 50% { transform: translateY(-18px);} }
        .animate-bounce-slow { animation: bounce-slow 2.2s infinite; }
        
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.6s ease-out forwards;
        }
        
        .process-step.visible {
          opacity: 1 !important;
          transform: translateY(0) !important;
          transition: all 0.8s ease-out;
        }
        
        /* í…ìŠ¤íŠ¸ ì„ íƒ ë° í¸ì§‘ ë°©ì§€ */
        body {
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }
        
        /* ë²„íŠ¼ê³¼ ë§í¬ëŠ” í…ìŠ¤íŠ¸ ì„ íƒ í—ˆìš© */
        button, a, input, textarea {
          -webkit-user-select: text;
          -moz-user-select: text;
          -ms-user-select: text;
          user-select: text;
        }
        
        /* ê´€ë¦¬ì ì§„ì… íŠ¸ë¦¬ê±° ìŠ¤íƒ€ì¼ */
        #admin-hero-trigger {
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        #admin-hero-trigger:hover {
          transform: scale(1.2);
        }
        
      </style>
    </section>
      <!-- ê³ ê°ì˜ ì§„ì§œ ê³ ë¯¼, ìš°ë¦¬ê°€ í•´ê²°í•©ë‹ˆë‹¤ ì„¹ì…˜ -->
      <section class="w-full py-20 px-4 bg-gradient-to-b from-white/80 to-blue-50 relative">
        <div class="max-w-4xl mx-auto flex flex-col items-center">
          <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-extrabold text-blue-800 text-center mb-6 md:mb-8 lg:mb-10 drop-shadow-lg animate-fadein-up px-4">ê³ ê°ì˜ ì§„ì§œ ê³ ë¯¼, <span class="text-pink-500">ìš°ë¦¬ê°€ í•´ê²°í•©ë‹ˆë‹¤</span></h2>
                      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 lg:gap-8 w-full">
            <!-- ìŠ¤í† ë¦¬ ì¹´ë“œ 1 -->
                          <div class="bg-white rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 flex flex-col items-center text-center animate-fadein-up" style="animation-delay:0.1s;">
                <div class="mb-3 md:mb-4">
                  <svg class="w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 text-blue-400 mx-auto" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 32 32"><path d="M16 4a12 12 0 1 0 0 24A12 12 0 0 0 16 4Zm0 0v8m0 8h.01" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="font-bold text-sm sm:text-base md:text-lg text-gray-800 mb-2 px-2">"ì¸í„°ë„· ìµœì €ê°€ë¼ ìƒ€ëŠ”ë°, ë©°ì¹  ë’¤ ë” ì‹¸ê²Œ íŒŒëŠ” ê³³ì„ ë°œê²¬..."</div>
                <div class="text-gray-500 text-xs sm:text-sm md:text-base mb-2 md:mb-3">- ê¹€OO, 30ëŒ€ ì§ì¥ì¸</div>
                <div class="text-gray-700 text-xs sm:text-sm px-2">ì§ì ‘ ê°€ê²© ë¹„êµì— ì§€ì³ ê²°êµ­ ìƒ€ì§€ë§Œ, ë‚˜ì¤‘ì— ë” ì €ë ´í•œ ê³³ì„ ì•Œê²Œ ë˜ì–´ ì†ìƒí–ˆì–´ìš”. PriceHunter ë•ë¶„ì— ì§„ì§œ ìµœì €ê°€ë¥¼ ë†“ì¹˜ì§€ ì•Šê²Œ ëìŠµë‹ˆë‹¤!</div>
              </div>
            <!-- ìŠ¤í† ë¦¬ ì¹´ë“œ 2 -->
            <div class="bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center animate-fadein-up" style="animation-delay:0.3s;">
              <div class="mb-4">
                <svg class="w-14 h-14 text-emerald-400 mx-auto" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 32 32"><path d="M8 16h16M8 16l6-6m-6 6l6 6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </div>
              <div class="font-bold text-lg text-gray-800 mb-2">"í•´ì™¸ì§êµ¬ê°€ ë” ì‹¸ë‹¤ê¸¸ë˜ ì‹œë„í–ˆë‹¤ê°€, ë³µì¡í•œ í†µê´€Â·ë°°ì†¡ì— í¬ê¸°..."</div>
              <div class="text-gray-500 text-base mb-3">- ì´OO, 20ëŒ€ ëŒ€í•™ìƒ</div>
              <div class="text-gray-700 text-sm">ì§êµ¬ ì •ë³´ ì°¾ê³ , ë°°ì†¡ëŒ€í–‰ ì‹ ì²­ê¹Œì§€ ë„ˆë¬´ ë³µì¡í–ˆì–´ìš”. PriceHunterê°€ ëŒ€ì‹  ì•Œì•„ë´ì£¼ë‹ˆ ì‰½ê³  ë¹ ë¥´ê²Œ ìµœì €ê°€ë¡œ ì‚´ ìˆ˜ ìˆì—ˆì–´ìš”!</div>
            </div>
            <!-- ìŠ¤í† ë¦¬ ì¹´ë“œ 3 -->
            <div class="bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center animate-fadein-up" style="animation-delay:0.5s;">
              <div class="mb-4">
                <svg class="w-14 h-14 text-pink-400 mx-auto" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 32 32"><circle cx="16" cy="16" r="12" stroke="currentColor"/><path d="M12 20c1.5-2 6.5-2 8 0" stroke-linecap="round"/><circle cx="12" cy="14" r="1.5" fill="currentColor"/><circle cx="20" cy="14" r="1.5" fill="currentColor"/></svg>
              </div>
              <div class="font-bold text-lg text-gray-800 mb-2 text-center sm:text-left">"ë¹„ë¸Œëœë“œ ì œí’ˆ, ì •ë³´ë„ ì—†ê³ <br class="sm:hidden"> í›„ê¸° ì°¾ê¸°ë„ í˜ë“¤ì—ˆëŠ”ë°..."</div>
              <div class="text-gray-500 text-base mb-3 text-center sm:text-left">- ë°•OO, 40ëŒ€ ì£¼ë¶€</div>
              <div class="text-gray-700 text-sm text-center sm:text-left leading-relaxed">ê²€ìƒ‰í•´ë„ ì •ë³´ê°€ ë¶€ì¡±í•´ ë§ì„¤ì˜€ëŠ”ë°,<br class="sm:hidden"> PriceHunterê°€ ìƒì„¸ ë¹„êµì™€ í›„ê¸°ê¹Œì§€<br class="sm:hidden"> ì•ˆë‚´í•´ì¤˜ì„œ ì•ˆì‹¬í•˜ê³  êµ¬ë§¤í–ˆì–´ìš”.</div>
            </div>
          </div>
          <div class="mt-8 sm:mt-12 text-center animate-fadein-up" style="animation-delay:0.7s;">
            <div class="inline-block bg-yellow-100 px-3 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 rounded-full shadow-lg border border-yellow-200">
              <span class="text-sm sm:text-base md:text-lg lg:text-xl text-blue-700 font-bold leading-tight">
                ê³ ê°ì˜ ê³ ë¯¼, <span class="text-blue-800">PriceHunter</span>ê°€<br class="sm:hidden">ì§ì ‘ í•´ê²°í•´ë“œë¦½ë‹ˆë‹¤!
              </span>
            </div>
          </div>
        </div>
        <style>
          .animate-fadein-up { animation: fadein-up 1.2s cubic-bezier(.4,0,.2,1) both; }
          @keyframes fadein-up { 0% { opacity: 0; transform: translateY(40px);} 100% { opacity: 1; transform: translateY(0);} }
        </style>
      </section>

      <!-- ìƒì„¸ ì„œë¹„ìŠ¤ í”„ë¡œì„¸ìŠ¤ ì„¹ì…˜ -->
      <section class="w-full py-12 sm:py-16 md:py-20 px-4 sm:px-6 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 relative overflow-hidden">
        <!-- ë°°ê²½ ì¥ì‹ ìš”ì†Œ -->
        <div class="absolute inset-0 opacity-10">
          <div class="absolute top-10 left-10 w-20 h-20 sm:w-32 sm:h-32 bg-blue-400 rounded-full blur-3xl animate-pulse"></div>
          <div class="absolute bottom-10 right-10 w-24 h-24 sm:w-40 sm:h-40 bg-indigo-400 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
          <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 sm:w-60 sm:h-60 bg-purple-400 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
        </div>
        
        <div class="max-w-6xl mx-auto relative z-10">
          <div class="text-center mb-8 sm:mb-12 md:mb-16">
            <div class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 sm:px-6 py-2 rounded-full text-xs sm:text-sm font-semibold mb-3 sm:mb-4 animate-fade-in-up">
              <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              ë‹¨ê³„ë³„ ì„œë¹„ìŠ¤ ê³¼ì •
            </div>
            <h2 class="text-2xl sm:text-3xl md:text-5xl font-extrabold text-gray-800 mb-4 sm:mb-6 animate-fade-in-up" style="animation-delay: 0.2s;">
              <span class="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent">
                êµ¬ë§¤ í”„ë¡œì„¸ìŠ¤
              </span>
              <br class="sm:hidden">
              <span class="text-lg sm:text-xl md:text-2xl lg:text-3xl text-gray-600 font-medium">5ë‹¨ê³„ ìƒì„¸ ê²€ì¦ ê³¼ì •</span>
              <br class="sm:hidden">
              <span class="text-base sm:text-lg md:text-xl lg:text-2xl text-gray-500 font-medium">íˆ¬ëª…í•˜ê³  ì²´ê³„ì ì¸ ì„œë¹„ìŠ¤</span>
            </h2>
            <p class="text-sm sm:text-base md:text-lg text-gray-600 max-w-3xl mx-auto animate-fade-in-up px-2 leading-relaxed" style="animation-delay: 0.4s;">
              ê³ ê°ë‹˜ì˜ ì˜ë¢°ë¶€í„° ìµœì¢… ê²°ê³¼ ì œê³µê¹Œì§€,<br class="sm:hidden"> ëª¨ë“  ê³¼ì •ì„ íˆ¬ëª…í•˜ê²Œ ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤
            </p>
          </div>
          
          <!-- 5ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ -->
          <div class="space-y-6 sm:space-y-8">
            <!-- 1ë‹¨ê³„: ì˜ë¢° ì ‘ìˆ˜ -->
            <div class="group relative process-step opacity-0 transform translate-y-8">
              <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6 bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div class="flex-shrink-0 mx-auto sm:mx-0">
                  <div class="flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl group-hover:scale-110 transition-transform duration-300 animate-bounce">
                    <span class="text-white font-bold text-lg sm:text-xl">1</span>
                  </div>
                </div>
                <div class="flex-1 text-center sm:text-left">
                  <h3 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-2 sm:mb-3 leading-tight">ì˜ë¢° ì ‘ìˆ˜ ë° ë¶„ì„</h3>
                  <p class="text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 leading-relaxed break-words">
                    ê³ ê°ë‹˜ì´ ì›í•˜ëŠ” ìƒí’ˆì˜ <span class="font-semibold text-blue-600">ì œí’ˆëª…, ìš”ì²­ê°€ê²©, ì°¸ê³ ë§í¬</span>ë¥¼ ì…ë ¥í•˜ì‹œë©´ ì „ë¬¸ ê²€ì¦íŒ€ì´ ì¦‰ì‹œ ë¶„ì„ì„ ì‹œì‘í•©ë‹ˆë‹¤.
                  </p>
                  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
                    <div class="bg-blue-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-blue-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"></span>
                        <span class="text-xs sm:text-sm">ì œí’ˆ ì •ë³´ í™•ì¸</span>
                      </div>
                      <p class="text-xs sm:text-sm text-blue-600 text-center sm:text-left">ì •í™•í•œ ëª¨ë¸ëª…ê³¼ ìŠ¤í™ íŒŒì•…</p>
                    </div>
                    <div class="bg-blue-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-blue-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.2s;"></span>
                        <span class="text-xs sm:text-sm">ì‹œì¥ ê°€ê²© ì¡°ì‚¬</span>
                      </div>
                      <p class="text-xs sm:text-sm text-blue-600 text-center sm:text-left">êµ­ë‚´ì™¸ ì£¼ìš” íŒë§¤ì²˜ ê°€ê²© ë¶„ì„</p>
                    </div>
                    <div class="bg-blue-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-blue-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.4s;"></span>
                        <span class="text-xs sm:text-sm">ê²€ì¦ ê°€ëŠ¥ì„± íŒë‹¨</span>
                      </div>
                      <p class="text-xs sm:text-sm text-blue-600 text-center sm:text-left">ë¸Œëœë“œ ì œí•œ ë° í•©ë²•ì„± ê²€í† </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 2ë‹¨ê³„: ê²€ì¦ ì‹œì‘ -->
            <div class="group relative process-step opacity-0 transform translate-y-8" style="animation-delay: 0.2s;">
              <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6 bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div class="flex-shrink-0 mx-auto sm:mx-0">
                  <div class="flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl group-hover:scale-110 transition-transform duration-300 animate-bounce" style="animation-delay: 0.3s;">
                    <span class="text-white font-bold text-lg sm:text-xl">2</span>
                  </div>
                </div>
                <div class="flex-1 text-center sm:text-left">
                  <h3 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-2 sm:mb-3 leading-tight">ì‹¤ì‹œê°„ ê²€ì¦ ì§„í–‰</h3>
                  <p class="text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 leading-relaxed break-words">
                    ì „ë¬¸ ê²€ì¦íŒ€ì´ <span class="font-semibold text-green-600">ë„ë§¤ì²˜ ì—°ë™, ê³µì¥ ì§ê±°ë˜, íŠ¹ë³„ ê²½ë¡œ</span> ë“± ë‹¤ì–‘í•œ ê²½ë¡œë¥¼ í†µí•´ ìµœì €ê°€ë¥¼ ì°¾ì•„ê°‘ë‹ˆë‹¤.
                  </p>
                  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
                    <div class="bg-green-50 rounded-lg p-4">
                      <div class="font-semibold text-green-700 mb-2 flex items-center">
                        <span class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></span>
                        ë„ë§¤ì²˜ ì—°ë™
                      </div>
                      <p class="text-sm text-green-600">êµ­ë‚´ì™¸ ë„ë§¤ì—…ì²´ ì§ì ‘ ë¬¸ì˜</p>
                    </div>
                    <div class="bg-green-50 rounded-lg p-4">
                      <div class="font-semibold text-green-700 mb-2 flex items-center">
                        <span class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.2s;"></span>
                        ê³µì¥ ì§ê±°ë˜
                      </div>
                      <p class="text-sm text-green-600">êµ­ë‚´/í•´ì™¸ ê³µì¥ ì§ì ‘ êµ¬ë§¤</p>
                    </div>
                    <div class="bg-green-50 rounded-lg p-4">
                      <div class="font-semibold text-green-700 mb-2 flex items-center">
                        <span class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.4s;"></span>
                        íŠ¹ë³„ ê²½ë¡œ ë°œêµ´
                      </div>
                      <p class="text-sm text-green-600">ë…ì  ê³„ì•½ ë° íŠ¹ê°€ ê²½ë¡œ</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 3ë‹¨ê³„: ê°€ê²© ë¹„êµ -->
            <div class="group relative process-step opacity-0 transform translate-y-8" style="animation-delay: 0.4s;">
              <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6 bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div class="flex-shrink-0 mx-auto sm:mx-0">
                  <div class="flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl group-hover:scale-110 transition-transform duration-300 animate-bounce" style="animation-delay: 0.5s;">
                    <span class="text-white font-bold text-lg sm:text-xl">3</span>
                  </div>
                </div>
                <div class="flex-1 text-center sm:text-left">
                  <h3 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-2 sm:mb-3 leading-tight">ì¢…í•© ê°€ê²© ë¶„ì„</h3>
                  <p class="text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 leading-relaxed break-words">
                    ìˆ˜ì§‘ëœ ëª¨ë“  ê°€ê²© ì •ë³´ë¥¼ <span class="font-semibold text-yellow-600">ë°°ì†¡ë¹„, ê´€ì„¸, ìˆ˜ìˆ˜ë£Œ</span>ë¥¼ í¬í•¨í•˜ì—¬ ì •í™•íˆ ë¹„êµ ë¶„ì„í•©ë‹ˆë‹¤.
                  </p>
                  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
                    <div class="bg-yellow-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-yellow-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-yellow-500 rounded-full mr-2 animate-pulse"></span>
                        <span class="text-xs sm:text-sm">ë°°ì†¡ë¹„ ê³„ì‚°</span>
                      </div>
                      <p class="text-xs sm:text-sm text-yellow-600 text-center sm:text-left">êµ­ë‚´/í•´ì™¸ ë°°ì†¡, ê´€ì„¸, í†µê´€ë¹„ìš©</p>
                    </div>
                    <div class="bg-yellow-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-yellow-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-yellow-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.2s;"></span>
                        <span class="text-xs sm:text-sm">ìˆ˜ìˆ˜ë£Œ ë¶„ì„</span>
                      </div>
                      <p class="text-xs sm:text-sm text-yellow-600 text-center sm:text-left">ê²°ì œìˆ˜ìˆ˜ë£Œ, ì¤‘ê°œìˆ˜ìˆ˜ë£Œ ë“±</p>
                    </div>
                    <div class="bg-yellow-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-yellow-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-yellow-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.4s;"></span>
                        <span class="text-xs sm:text-sm">ìµœì¢…ê°€ê²© ì‚°ì •</span>
                      </div>
                      <p class="text-xs sm:text-sm text-yellow-600 text-center sm:text-left">ëª¨ë“  ë¹„ìš© í¬í•¨ ì‹¤ì œ êµ¬ë§¤ê°€</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 4ë‹¨ê³„: ì¦ê±° ìˆ˜ì§‘ -->
            <div class="group relative process-step opacity-0 transform translate-y-8" style="animation-delay: 0.6s;">
              <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6 bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div class="flex-shrink-0 mx-auto sm:mx-0">
                  <div class="flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl group-hover:scale-110 transition-transform duration-300 animate-bounce" style="animation-delay: 0.7s;">
                    <span class="text-white font-bold text-lg sm:text-xl">4</span>
                  </div>
                </div>
                <div class="flex-1 text-center sm:text-left">
                  <h3 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-2 sm:mb-3 leading-tight">ê²€ì¦ ì¦ê±° ìˆ˜ì§‘</h3>
                  <p class="text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 leading-relaxed break-words">
                    ìµœì €ê°€ ë°œê²¬ ì‹œ <span class="font-semibold text-purple-600">ì‹¤ì‹œê°„ ìŠ¤í¬ë¦°ìƒ·, êµ¬ë§¤ë§í¬, ê²€ì¦ ì‹œì </span>ì„ ëª¨ë‘ ê¸°ë¡í•˜ì—¬ ê°ê´€ì ì¸ ì¦ê±°ë¥¼ í™•ë³´í•©ë‹ˆë‹¤.
                  </p>
                  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
                    <div class="bg-purple-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-purple-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-purple-500 rounded-full mr-2 animate-pulse"></span>
                        <span class="text-xs sm:text-sm">ì‹¤ì‹œê°„ ìŠ¤í¬ë¦°ìƒ·</span>
                      </div>
                      <p class="text-xs sm:text-sm text-purple-600 text-center sm:text-left">ê°€ê²© ë° ìƒí’ˆ ì •ë³´ ìº¡ì²˜</p>
                    </div>
                    <div class="bg-purple-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-purple-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-purple-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.2s;"></span>
                        <span class="text-xs sm:text-sm">êµ¬ë§¤ ë§í¬ ì œê³µ</span>
                      </div>
                      <p class="text-xs sm:text-sm text-purple-600 text-center sm:text-left">ì§ì ‘ êµ¬ë§¤ ê°€ëŠ¥í•œ ë§í¬</p>
                    </div>
                    <div class="bg-purple-50 rounded-lg p-3 sm:p-4">
                      <div class="font-semibold text-purple-700 mb-1 sm:mb-2 flex items-center justify-center sm:justify-start">
                        <span class="w-2 h-2 bg-purple-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.4s;"></span>
                        <span class="text-xs sm:text-sm">ê²€ì¦ ì‹œì  ê¸°ë¡</span>
                      </div>
                      <p class="text-xs sm:text-sm text-purple-600 text-center sm:text-left">ì •í™•í•œ ë‚ ì§œì™€ ì‹œê°„ ê¸°ë¡</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 5ë‹¨ê³„: ê²°ê³¼ ì œê³µ -->
            <div class="group relative process-step opacity-0 transform translate-y-8" style="animation-delay: 0.8s;">
              <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6 bg-white/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <div class="flex-shrink-0 mx-auto sm:mx-0">
                  <div class="flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl group-hover:scale-110 transition-transform duration-300 animate-bounce" style="animation-delay: 0.9s;">
                    <span class="text-white font-bold text-lg sm:text-xl">5</span>
                  </div>
                </div>
                <div class="flex-1 text-center sm:text-left">
                  <h3 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-2 sm:mb-3 leading-tight">ìƒì„¸ ê²°ê³¼ ì œê³µ</h3>
                  <p class="text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 leading-relaxed break-words">
                    ê²€ì¦ ì™„ë£Œ í›„ <span class="font-semibold text-red-600">ìµœì €ê°€, êµ¬ë§¤ë§í¬, ì ˆì•½ê¸ˆì•¡, ìƒì„¸ ë¶„ì„</span>ì„ í¬í•¨í•œ ì¢…í•©ì ì¸ ê²°ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
                  </p>
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-red-50 rounded-lg p-4">
                      <div class="font-semibold text-red-700 mb-2 flex items-center">
                        <span class="w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"></span>
                        ìµœì €ê°€ ì •ë³´
                      </div>
                      <p class="text-sm text-red-600">ìš”ì²­ê°€ ëŒ€ë¹„ ì ˆì•½ ê¸ˆì•¡</p>
                    </div>
                    <div class="bg-red-50 rounded-lg p-4">
                      <div class="font-semibold text-red-700 mb-2 flex items-center">
                        <span class="w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.2s;"></span>
                        êµ¬ë§¤ ë°©ë²• ì•ˆë‚´
                      </div>
                      <p class="text-sm text-red-600">ë‹¨ê³„ë³„ êµ¬ë§¤ ê°€ì´ë“œ</p>
                    </div>
                    <div class="bg-red-50 rounded-lg p-4">
                      <div class="font-semibold text-red-700 mb-2 flex items-center">
                        <span class="w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse" style="animation-delay: 0.4s;"></span>
                        ì¶”ê°€ ìƒë‹´ ì§€ì›
                      </div>
                      <p class="text-sm text-red-600">êµ¬ë§¤ ê³¼ì • ì¤‘ ë¬¸ì˜ ì‘ë‹µ</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- í•˜ë‹¨ CTA -->
          <div class="text-center mt-16">
            <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20 relative overflow-hidden group">
              <!-- ë°°ê²½ ì¥ì‹ -->
              <div class="absolute inset-0 bg-gradient-to-r from-blue-50 to-indigo-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
              <div class="absolute -top-10 -right-10 w-20 h-20 bg-blue-200 rounded-full blur-xl opacity-0 group-hover:opacity-30 transition-opacity duration-500"></div>
              <div class="absolute -bottom-10 -left-10 w-20 h-20 bg-indigo-200 rounded-full blur-xl opacity-0 group-hover:opacity-30 transition-opacity duration-500"></div>
              
              <div class="relative z-10">
                <h3 class="text-2xl font-bold text-gray-800 mb-4 animate-fade-in-up" style="animation-delay: 1s;">íˆ¬ëª…í•˜ê³  ì²´ê³„ì ì¸<br class="sm:hidden"> ê²€ì¦ ì„œë¹„ìŠ¤</h3>
                <p class="text-gray-600 mb-6 max-w-2xl mx-auto animate-fade-in-up leading-relaxed" style="animation-delay: 1.2s;">
                  5ë‹¨ê³„ ìƒì„¸ í”„ë¡œì„¸ìŠ¤ë¥¼ í†µí•´<br class="sm:hidden"> ê³ ê°ë‹˜ê»˜ ìµœê³ ì˜ ê°€ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.<br class="hidden sm:inline"><br class="sm:hidden">
                  ëª¨ë“  ê³¼ì •ì´ íˆ¬ëª…í•˜ê²Œ ì§„í–‰ë˜ë©°,<br class="sm:hidden"> ê°ê´€ì ì¸ ì¦ê±°ì™€ í•¨ê»˜<br class="sm:hidden"> ê²°ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
                </p>
                <a href="request-v2.html" class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg shadow-lg hover:shadow-xl transition-all duration-500 transform hover:scale-105 hover:rotate-1 animate-fade-in-up group text-center" style="animation-delay: 1.4s;">
                  <svg class="w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                  </svg>
                  <span class="whitespace-nowrap">ìµœì €ê°€ ê²€ì¦ ì˜ë¢°í•˜ê¸°</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ì ˆê°ì™• íˆì–´ë¡œ ì„¹ì…˜ -->
      <section id="savings-hero" class="w-full py-20 px-4 bg-gradient-to-br from-emerald-50 via-green-50 to-blue-50 relative z-10">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-4 flex items-center justify-center">
              ğŸ† <span class="text-emerald-600">ì´ë²ˆ ì£¼ ì ˆê°ì™•</span>
            </h2>
            <p class="text-lg text-gray-600">ì‹¤ì œ ê²€ì¦ëœ ì ˆê° ì„±ê³µ ì‚¬ë¡€</p>
          </div>
          
          <div class="bg-white rounded-2xl shadow-2xl p-8 md:p-12 max-w-4xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
              <!-- ì ˆê° ì •ë³´ -->
              <div class="space-y-6">
                <div class="flex items-center gap-4">
                  <div class="bg-emerald-100 rounded-full p-3">
                    <svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-2xl font-bold text-gray-800">ì „ê¸°í¬íŠ¸</h3>
                    <p class="text-gray-600">ìƒí™œìš©í’ˆ ì¹´í…Œê³ ë¦¬</p>
                  </div>
                </div>
                
                <div class="space-y-4">
                  <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                    <span class="text-gray-600">ì›ë˜ ê°€ê²©</span>
                    <span class="text-lg font-semibold text-gray-800">89,000ì›</span>
                  </div>
                  <div class="flex justify-between items-center p-4 bg-emerald-50 rounded-lg">
                    <span class="text-gray-600">ì ˆê° í›„ ê°€ê²©</span>
                    <span class="text-xl font-bold text-emerald-600">51,000ì›</span>
                  </div>
                  <div class="flex justify-between items-center p-4 bg-red-50 rounded-lg">
                    <span class="text-gray-600">ì ˆê°ì•¡</span>
                    <span class="text-xl font-bold text-red-600">38,000ì› ì ˆì•½</span>
                  </div>
                  <div class="text-center">
                    <span class="inline-block bg-red-100 text-red-800 px-4 py-2 rounded-full font-bold text-lg">
                      -42% ì ˆê°
                    </span>
                  </div>
                </div>
                
                <div class="bg-blue-50 p-4 rounded-lg">
                  <h4 class="font-semibold text-blue-800 mb-2">ì„ ì • ì‚¬ìœ </h4>
                  <p class="text-sm text-blue-700">ë™ì¼ ëª¨ë¸ëª…, ë™ì¼ ìš©ëŸ‰, ë™ì¼ ë³´ì¦ ì¡°ê±´ìœ¼ë¡œ ê²€ì¦ ì™„ë£Œ. ê³µì¥ ì§ì ‘êµ¬ë§¤ ê²½ë¡œë¥¼ í†µí•´ ëŒ€í­ í• ì¸ëœ ê°€ê²© ë°œê²¬.</p>
                </div>
                
                        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
          <button onclick="showEvidence()" class="w-full sm:flex-1 bg-emerald-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-emerald-700 transition text-sm sm:text-base" style="white-space: nowrap;">
            ì ˆì•½ ì‚¬ë¡€ ë³´ê¸°
          </button>
          <a href="savings-king.html" class="w-full sm:flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition text-center text-sm sm:text-base" style="white-space: nowrap;">
            ì ˆê°ì™• ì•„ì¹´ì´ë¸Œ
          </a>
          <button onclick="goToRequest()" class="w-full sm:flex-1 bg-pink-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-pink-700 transition text-sm sm:text-base" style="white-space: nowrap;">
            ë‚˜ë„ ì˜ë¢°í•´ì„œ ì ˆì•½í•˜ê¸°
          </button>
        </div>
              </div>
              
              <!-- ì´ë¯¸ì§€ -->
              <div class="relative">
                <img src="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80" 
                     alt="ì ˆê°ì™• ì „ê¸°í¬íŠ¸" 
                     class="w-full h-64 object-cover rounded-xl shadow-lg">
                <div class="absolute top-4 right-4 bg-emerald-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                  ğŸ† ì ˆê°ì™•
                </div>
                <div class="absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-2 rounded-lg">
                  <p class="text-sm font-semibold text-gray-800">ê¹€OO, 30ëŒ€ ì§ì¥ì¸</p>
                  <p class="text-xs text-gray-600">2024.01.15 ê²€ì¦ ì™„ë£Œ</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    <div id="request-form-area"></div>
    <!-- ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ (ìˆ¨ê¹€) -->
    <div class="fixed top-4 right-4 z-50">
    </div>
    <!-- í†µí•© ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë²„íŠ¼ -->
    <!-- ê´€ë¦¬ì ë²„íŠ¼ë“¤ (ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ë…¸ì¶œ) -->
    <button id="admin-logout-btn" class="fixed top-4 right-4 z-50 px-4 py-2 bg-gray-800 text-white rounded-lg shadow hover:bg-amber-500 transition hidden cursor-default" aria-label="ê´€ë¦¬ì í•´ì œ" title="ê´€ë¦¬ì í•´ì œ" onclick="adminLogout()">ê´€ë¦¬ì í•´ì œ</button>
    <button id="force-logout-btn" class="fixed top-4 right-32 z-50 px-4 py-2 bg-red-800 text-white rounded-lg shadow hover:bg-red-900 transition hidden cursor-default" aria-label="ê°•ì œ ë¡œê·¸ì•„ì›ƒ" title="ê°•ì œ ë¡œê·¸ì•„ì›ƒ" onclick="forceAdminLogout()">ğŸš¨ ê°•ì œ í•´ì œ</button>
    <button id="admin-dashboard-btn" class="fixed top-16 right-4 z-50 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl shadow-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 hidden font-bold text-sm cursor-default" aria-label="ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ" title="ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ">
      ğŸ›ï¸ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
    </button>
    <button id="admin-cleanup-btn" class="fixed top-16 right-48 z-50 px-4 py-2 bg-red-600 text-white rounded-lg shadow hover:bg-red-700 transition hidden cursor-default" aria-label="í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬" title="í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬" onclick="cleanupTestData()">ğŸ§¹ ì •ë¦¬</button>
    <!-- ì €ë ´í•˜ê²Œ êµ¬ì…í•œ ì‚¬ë¡€ ì„¹ì…˜: main ë°”ê¹¥, ì „ì²´ í­ -->
    <section class="mt-24 mb-10 max-w-7xl mx-auto px-2">
      <div class="flex flex-col items-center mb-12">
        <h2 class="relative text-3xl md:text-4xl font-extrabold text-blue-800 text-center tracking-tight drop-shadow-lg mb-3">
          <span class="px-6 py-2 bg-gradient-to-r from-blue-100 via-white to-emerald-100 rounded-2xl shadow-md inline-block">
            ğŸ’ ì‹¤ì œ ê³ ê° í›„ê¸°
          </span>
          <span class="block w-24 h-1 bg-gradient-to-r from-blue-400 via-emerald-400 to-pink-300 rounded-full mx-auto mt-4"></span>
        </h2>
        <p class="text-lg md:text-xl text-gray-500 font-medium mt-2 text-center">ìš”ì²­ê°€ ëŒ€ë¹„ ì‹¤ì œ ì ˆì•½í•œ ê¸ˆì•¡ì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
        
        <!-- í¬ì¸íŠ¸ ì‹œìŠ¤í…œ ì•ˆë‚´ -->
        <div id="points-info" class="bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-6 mb-8 text-center max-w-2xl">
          <div class="flex items-center justify-center gap-4 mb-4">
            <span class="text-2xl">ğŸ’</span>
            <span class="text-xl font-bold text-blue-800">í¬ì¸íŠ¸ë¡œ ì—´ì–´ë³´ëŠ” ì‹¤ì œ ì‚¬ë¡€</span>
            <span class="text-2xl">ğŸ’</span>
          </div>
          <p class="text-gray-700 mb-4">ì‹¤ì œ ê³ ê°ë“¤ì˜ ì ˆì•½ ì‚¬ë¡€ë¥¼ ë³´ë ¤ë©´ í¬ì¸íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
          <div class="flex justify-center items-center gap-8 text-sm">
            <div class="bg-white rounded-lg p-3 shadow-sm">
              <div class="font-bold text-blue-600">í•„ìš” í¬ì¸íŠ¸</div>
              <div class="text-2xl font-bold text-blue-800">50</div>
            </div>
            <div class="bg-white rounded-lg p-3 shadow-sm">
              <div class="font-bold text-green-600">í˜„ì¬ í¬ì¸íŠ¸</div>
              <div id="current-points" class="text-2xl font-bold text-green-800">0</div>
            </div>
          </div>
        </div>
      </div>
      <div id="case-slider-wrapper" class="relative w-full max-w-7xl mx-auto">
        <!-- ë¸”ëŸ¬ ì˜¤ë²„ë ˆì´ -->
        <div id="blur-overlay" class="absolute inset-0 bg-white/80 backdrop-blur-md rounded-2xl z-10 flex items-center justify-center">
          <div class="text-center">
            <div class="text-6xl mb-4">ğŸ”’</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-2">í¬ì¸íŠ¸ë¡œ ì—´ì–´ë³´ì„¸ìš”</h3>
            <p class="text-gray-600 mb-4">ì‹¤ì œ ê³ ê°ë“¤ì˜ ì ˆì•½ ì‚¬ë¡€ë¥¼ ë³´ë ¤ë©´ 50í¬ì¸íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
            <button onclick="showEvidence()" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-full font-bold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg">
              ğŸ’ í¬ì¸íŠ¸ë¡œ ì—´ê¸°
            </button>
          </div>
        </div>
        
        <div id="case-slider" class="flex overflow-x-auto no-scrollbar snap-x snap-mandatory gap-2 sm:gap-8 py-2 sm:py-4 transition-all duration-500">
          <!-- ìŠ¬ë¼ì´ë“œ ì•„ì´í…œì´ JSë¡œ ë Œë”ë§ë¨ -->
        </div>
        <!-- ì¢Œìš° ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
        <button id="case-prev" class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 rounded-full shadow p-2 z-10 hidden md:block" aria-label="ì´ì „ ì‚¬ë¡€ ë³´ê¸°" title="ì´ì „ ì‚¬ë¡€ ë³´ê¸°"><svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
        <button id="case-next" class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 rounded-full shadow p-2 z-10 hidden md:block" aria-label="ë‹¤ìŒ ì‚¬ë¡€ ë³´ê¸°" title="ë‹¤ìŒ ì‚¬ë¡€ ë³´ê¸°"><svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
      </div>
    </section>
    <script>
        // 1. ë³µêµ¬ IIFE
        (function() {
          const saved = localStorage.getItem('caseProducts');
          if (saved) {
            try {
              const arr = JSON.parse(saved);
              if (Array.isArray(arr) && arr.length === 0) {
                localStorage.removeItem('caseProducts');
              }
            } catch (e) {}
          }
        })();
        
        // 2. getCaseProducts í•¨ìˆ˜ (16ê°œ ì˜ˆì‹œ ì¹´ë“œë§Œ)
        function getCaseProducts() {
          const saved = localStorage.getItem('caseProducts');
          if (saved) {
            try {
              const arr = JSON.parse(saved);
              if (Array.isArray(arr) && arr.length > 0) return arr;
            } catch (e) {}
          }
          // 16ê°œ ì‹¤ì œ ê³ ê° í›„ê¸° (ê°€ê²© ì¤‘ì‹¬)
          const defaults = [
            { name: "í™ê¸¸ë™, 20ëŒ€ ê°œë°œì", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "1,200,000ì›", finalPrice: "780,000ì›", savings: "420,000ì›", savingsPercent: "35%", desc: "ë…¸íŠ¸ë¶ì„ ì •ë§ ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "ìš”ì²­ê°€ 120ë§Œì› â†’ 78ë§Œì›ìœ¼ë¡œ êµ¬ë§¤! ì„±ëŠ¥ë„ í›Œë¥­í•˜ê³  ì •ë§ ë§Œì¡±í•©ë‹ˆë‹¤.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-01" },
            { name: "ê¹€ì˜í¬, 30ëŒ€ ë””ìì´ë„ˆ", img: "https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=600&q=80", originalPrice: "450,000ì›", finalPrice: "280,000ì›", savings: "170,000ì›", savingsPercent: "38%", desc: "ëª¨ë‹ˆí„°ë¥¼ ì €ë ´í•˜ê²Œ ë“í…œ!", review: "ìš”ì²­ê°€ 45ë§Œì› â†’ 28ë§Œì›ìœ¼ë¡œ ì ˆì•½! í™”ì§ˆë„ ì¢‹ê³  ê°€ê²©ë„ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.5, date: "2024-07-02" },
            { name: "ì´ì² ìˆ˜, 40ëŒ€ ìì˜ì—…ì", img: "https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80", originalPrice: "890,000ì›", finalPrice: "520,000ì›", savings: "370,000ì›", savingsPercent: "42%", desc: "ì‚¬ë¬´ìš©í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ ì„±ê³µ!", review: "ìš”ì²­ê°€ 89ë§Œì› â†’ 52ë§Œì›ìœ¼ë¡œ ì ˆì•½! ë¹ ë¥¸ ë°°ì†¡, ì €ë ´í•œ ê°€ê²©!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-07-03" },
            { name: "ë°•ë¯¼ìˆ˜, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1512499617640-c2f999098c01?auto=format&fit=crop&w=600&q=80", originalPrice: "320,000ì›", finalPrice: "210,000ì›", savings: "110,000ì›", savingsPercent: "34%", desc: "íƒœë¸”ë¦¿ì„ ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "ìš”ì²­ê°€ 32ë§Œì› â†’ 21ë§Œì›ìœ¼ë¡œ êµ¬ë§¤! í•™ìƒ í• ì¸ê¹Œì§€ ë°›ì•„ì„œ êµ¿!", country: "ëŒ€í•œë¯¼êµ­", shipping: "4ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-07-04" },
            { name: "ìµœì§€ì€, 30ëŒ€ ì£¼ë¶€", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", originalPrice: "680,000ì›", finalPrice: "420,000ì›", savings: "260,000ì›", savingsPercent: "38%", desc: "ê°€ì „ì œí’ˆ ì €ë ´í•˜ê²Œ êµ¬ì…!", review: "ìš”ì²­ê°€ 68ë§Œì› â†’ 42ë§Œì›ìœ¼ë¡œ ì ˆì•½! ë¯¿ê³  êµ¬ë§¤í–ˆì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-05" },
            { name: "ì •ìš°ì„±, 40ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "298,000ì›", finalPrice: "156,000ì›", savings: "142,000ì›", savingsPercent: "48%", desc: "ìŠ¤ë§ˆíŠ¸ì›Œì¹˜ ë“í…œ!", review: "ìš”ì²­ê°€ 29.8ë§Œì› â†’ 15.6ë§Œì›ìœ¼ë¡œ ì ˆì•½! ê¸°ëŠ¥ë„ ë§ê³  ì €ë ´!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.7, date: "2024-07-06" },
            { name: "í•œê°€ì˜, 20ëŒ€ ì‹ í˜¼ë¶€ë¶€", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", originalPrice: "1,560,000ì›", finalPrice: "890,000ì›", savings: "670,000ì›", savingsPercent: "43%", desc: "ì‹ í˜¼ê°€ì „ ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "ìš”ì²­ê°€ 156ë§Œì› â†’ 89ë§Œì›ìœ¼ë¡œ ì ˆì•½! ë°°ì†¡ë„ ë¹ ë¥´ê³  ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-07" },
            { name: "ì˜¤ì¤€í˜¸, 30ëŒ€ 1ì¸ê°€êµ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "234,000ì›", finalPrice: "145,000ì›", savings: "89,000ì›", savingsPercent: "38%", desc: "ìƒí™œìš©í’ˆ ì €ë ´í•˜ê²Œ!", review: "ìš”ì²­ê°€ 23.4ë§Œì› â†’ 14.5ë§Œì›ìœ¼ë¡œ ì ˆì•½! í˜¼ì ì‚¬ëŠ”ë° ë”±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.6, date: "2024-07-08" },
            { name: "ìœ ìˆ˜ì§„, 60ëŒ€ ë¶€ëª¨ë‹˜ ì„ ë¬¼", img: "https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=600&q=80", originalPrice: "189,000ì›", finalPrice: "67,000ì›", savings: "122,000ì›", savingsPercent: "65%", desc: "ì•ˆë§ˆê¸° ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "ìš”ì²­ê°€ 18.9ë§Œì› â†’ 6.7ë§Œì›ìœ¼ë¡œ ì ˆì•½! ë¶€ëª¨ë‹˜ì´ ì¢‹ì•„í•˜ì…¨ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-09" },
            { name: "ì¥ë™ê±´, 10ëŒ€ í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "890,000ì›", finalPrice: "520,000ì›", savings: "370,000ì›", savingsPercent: "42%", desc: "í•™ìš©í’ˆ, ITê¸°ê¸°ê¹Œì§€!", review: "ìš”ì²­ê°€ 89ë§Œì› â†’ 52ë§Œì›ìœ¼ë¡œ ì ˆì•½! ë…¸íŠ¸ë¶, íƒœë¸”ë¦¿ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.9, date: "2024-07-10" },
            { name: "ì„œì§€í›ˆ, 30ëŒ€ ì·¨ë¯¸ëŸ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "456,000ì›", finalPrice: "234,000ì›", savings: "222,000ì›", savingsPercent: "49%", desc: "ì·¨ë¯¸ìš©í’ˆ ì €ë ´í•˜ê²Œ!", review: "ìš”ì²­ê°€ 45.6ë§Œì› â†’ 23.4ë§Œì›ìœ¼ë¡œ ì ˆì•½! ê¸°íƒ€, ìº í•‘ìš©í’ˆ, ìš´ë™ê¸°êµ¬ê¹Œì§€ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-11" },
            { name: "ë¬¸ì§€í˜„, 40ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "345,000ì›", finalPrice: "198,000ì›", savings: "147,000ì›", savingsPercent: "43%", desc: "íŒ¨ì…˜/ì¡í™”ë„ OK!", review: "ìš”ì²­ê°€ 34.5ë§Œì› â†’ 19.8ë§Œì›ìœ¼ë¡œ ì ˆì•½! ê°€ë°©, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.6, date: "2024-07-12" },
            { name: "ì´í•˜ë‚˜, 30ëŒ€ í”„ë¦¬ëœì„œ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "567,000ì›", finalPrice: "345,000ì›", savings: "222,000ì›", savingsPercent: "39%", desc: "ì‚¬ë¬´ìš©í’ˆë„ ìµœì €ê°€!", review: "ìš”ì²­ê°€ 56.7ë§Œì› â†’ 34.5ë§Œì›ìœ¼ë¡œ ì ˆì•½! í”„ë¦°í„°, ëª¨ë‹ˆí„°, ì˜ìê¹Œì§€ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-07-13" },
            { name: "ìµœìœ ë¦¬, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "789,000ì›", finalPrice: "456,000ì›", savings: "333,000ì›", savingsPercent: "42%", desc: "ì „ìê¸°ê¸°ë„ ì €ë ´í•˜ê²Œ!", review: "ìš”ì²­ê°€ 78.9ë§Œì› â†’ 45.6ë§Œì›ìœ¼ë¡œ ì ˆì•½! ìŠ¤ë§ˆíŠ¸í°, ì´ì–´í°, ë…¸íŠ¸ë¶ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-14" },
            { name: "ë°•ìƒë¯¼, 40ëŒ€ ì‚¬ì—…ì", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", originalPrice: "2,340,000ì›", finalPrice: "1,450,000ì›", savings: "890,000ì›", savingsPercent: "38%", desc: "ì‚¬ë¬´ì‹¤ ë¹„í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ ì„±ê³µ!", review: "ìš”ì²­ê°€ 234ë§Œì› â†’ 145ë§Œì›ìœ¼ë¡œ ì ˆì•½! í”„ë¦°í„°, ì˜ì, ì±…ìƒ ë“± ëŒ€ëŸ‰êµ¬ë§¤ë„ ë¹ ë¥´ê³  ì €ë ´!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-07-15" }
          ];
          localStorage.setItem('caseProducts', JSON.stringify(defaults));
          return defaults;
        }
        
        // 4. í¬ì¸íŠ¸ ì‹œìŠ¤í…œ í•¨ìˆ˜ë“¤ (ë¨¼ì € ì •ì˜)
        function getUserPoints() {
          const user = JSON.parse(localStorage.getItem('user') || 'null');
          if (!user) return 0;
          
          const points = localStorage.getItem(`points_${user.email}`) || '0';
          return parseInt(points);
        }
        
        function addUserPoints(points) {
          const user = JSON.parse(localStorage.getItem('user') || 'null');
          if (!user) return;
          
          const currentPoints = getUserPoints();
          const newPoints = currentPoints + points;
          localStorage.setItem(`points_${user.email}`, newPoints.toString());
          
          console.log(`${user.email}ì—ê²Œ ${points}í¬ì¸íŠ¸ ì¶”ê°€. ì´ ${newPoints}í¬ì¸íŠ¸`);
        }
        
        function useUserPoints(points) {
          const user = JSON.parse(localStorage.getItem('user') || 'null');
          if (!user) return false;
          
          const currentPoints = getUserPoints();
          if (currentPoints >= points) {
            const newPoints = currentPoints - points;
            localStorage.setItem(`points_${user.email}`, newPoints.toString());
            console.log(`${user.email}ê°€ ${points}í¬ì¸íŠ¸ ì‚¬ìš©. ë‚¨ì€ í¬ì¸íŠ¸: ${newPoints}`);
            return true;
          }
          return false;
        }
        
        // 5. í¬ì¸íŠ¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ë° ë¸”ëŸ¬ ì œì–´
        function initializePointsSystem() {
          const user = JSON.parse(localStorage.getItem('user') || 'null');
          const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
          const blurOverlay = document.getElementById('blur-overlay');
          const currentPointsElement = document.getElementById('current-points');
          
          if (currentPointsElement) {
            const userPoints = getUserPoints();
            currentPointsElement.textContent = userPoints;
          }
          
          if (blurOverlay) {
            if (isLoggedIn && user) {
              const userPoints = getUserPoints();
              if (userPoints >= 50) {
                // í¬ì¸íŠ¸ê°€ ì¶©ë¶„í•˜ë©´ ë¸”ëŸ¬ ì œê±°
                blurOverlay.style.display = 'none';
              } else {
                // í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•˜ë©´ ë¸”ëŸ¬ ìœ ì§€
                blurOverlay.style.display = 'flex';
              }
            } else {
              // ë¡œê·¸ì¸í•˜ì§€ ì•Šì•˜ìœ¼ë©´ ë¸”ëŸ¬ ìœ ì§€
              blurOverlay.style.display = 'flex';
            }
          }
        }
        
        // 6. renderCaseSlider í•¨ìˆ˜ ì •ì˜
        const adminComments = [
          "ì´ ì‚¬ë¡€ëŠ” ì‹¤ì œ ê²€ì¦ëœ í›„ê¸°ì…ë‹ˆë‹¤!",
          "ê´€ë¦¬ìê°€ ì§ì ‘ í™•ì¸í•œ êµ¬ë§¤ ì„±ê³µ ì‚¬ë¡€ì…ë‹ˆë‹¤.",
          "ì‹¤ì œ êµ¬ë§¤ì ì¸ì¦ ì™„ë£Œ!",
          "ë¯¿ê³  ë§¡ê²¨ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.",
          "ì‹¤ì œ ë°°ì†¡/êµ¬ë§¤ ë‚´ì—­ í™•ì¸ ì™„ë£Œ!"
        ];
        
        function renderCaseSlider() {
          const caseSamples = getCaseProducts();
          const slider = document.getElementById('case-slider');
          if (!slider) return;
          
          slider.innerHTML = caseSamples.map((p, i) => `
            <div class="bg-white/90 rounded-3xl shadow-2xl overflow-hidden flex flex-col items-center p-8 m-2 w-80 min-w-[320px] max-w-xs snap-center transition-transform duration-500 cursor-pointer group" data-idx="${i}">
              <img src="${p.img}" alt="${p.name}" class="w-full h-48 object-cover rounded-2xl mb-4 shadow-2xl lazy-image" loading="lazy" />
              <div class="flex items-center justify-center gap-2 mb-3 w-full">
                <span class="flex-shrink-0 bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-xs font-bold text-center">${p.badge}</span>
                <span class="text-yellow-400 text-lg flex-shrink-0">${'â˜…'.repeat(Math.floor(p.stars))}${p.stars % 1 ? 'Â½' : ''}</span>
                <span class="text-gray-400 text-xs flex-shrink-0">${p.date}</span>
              </div>
              <div class="text-gray-800 font-bold text-xl mb-3 w-full text-center">${p.name}</div>
              
              <!-- ê°€ê²© ì •ë³´ ì„¹ì…˜ -->
              <div class="w-full mb-4 bg-gray-50 rounded-xl p-4">
                <div class="flex justify-between items-center mb-2">
                  <span class="text-gray-500 text-sm">ìš”ì²­ê°€</span>
                  <span class="text-gray-400 line-through text-sm">${p.originalPrice}</span>
                </div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-green-600 font-bold text-sm">ì‹¤êµ¬ë§¤ê°€</span>
                  <span class="text-green-600 font-bold text-lg">${p.finalPrice}</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-red-600 font-bold text-sm">ì ˆì•½ê¸ˆì•¡</span>
                  <span class="text-red-600 font-bold text-lg">${p.savings}</span>
                </div>
                <div class="mt-2 text-center">
                  <span class="bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-bold">${p.savingsPercent} ì ˆì•½</span>
                </div>
              </div>
              
              <div class="text-gray-500 text-base w-full text-center mb-2">${p.desc}</div>
              <div class="text-gray-700 text-sm w-full text-center mb-2">${p.review}</div>
              <div class="flex flex-wrap gap-2 justify-center text-xs text-gray-500 mb-2 w-full">
                <span>êµ­ê°€: ${p.country}</span>
                <span>ë°°ì†¡: ${p.shipping}</span>
                <span>ë°©ë²•: ${p.method}</span>
              </div>
              <div class="text-xs text-blue-500 mt-2 mb-2 w-full text-center">ğŸ’¬ ${adminComments[Math.floor(Math.random()*adminComments.length)]}</div>
              <button class="case-detail-btn px-4 py-2 bg-blue-100 text-blue-700 rounded-lg shadow hover:bg-blue-200 transition text-sm font-bold mt-auto" aria-label="ì‚¬ë¡€ ìƒì„¸ë³´ê¸°" title="ì‚¬ë¡€ ìƒì„¸ë³´ê¸°">ìƒì„¸ë³´ê¸°</button>
            </div>
          `).join('');
          
          // ìƒì„¸ë³´ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
          Array.from(slider.getElementsByClassName('case-detail-btn')).forEach((btn, idx) => {
            btn.onclick = function(e) {
              e.stopPropagation();
              openCaseModal(idx);
            };
          });
          
          // ì¹´ë“œ ì „ì²´ í´ë¦­ë„ ìƒì„¸ë³´ê¸°
          Array.from(slider.children).forEach((card, idx) => {
            card.onclick = function(e) {
              if (e.target.classList.contains('case-detail-btn')) return;
              openCaseModal(idx);
            };
          });
          
          // ìŠ¬ë¼ì´ë” ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
          const prevBtn = document.getElementById('case-prev');
          const nextBtn = document.getElementById('case-next');
          if (prevBtn && nextBtn && slider) {
            const card = slider.querySelector('div');
            let cardWidth = card ? card.offsetWidth + 16 : 340;
            prevBtn.onclick = function() {
              slider.scrollBy({ left: -cardWidth, behavior: 'smooth' });
            };
            nextBtn.onclick = function() {
              slider.scrollBy({ left: cardWidth, behavior: 'smooth' });
            };
          }
        }
        
        
        // 5. ê¸°ì¡´ ë°ì´í„° ì´ˆê¸°í™” ë° renderCaseSlider() í•¨ìˆ˜ í˜¸ì¶œ
        // ê¸°ì¡´ caseProducts ë°ì´í„° ì‚­ì œ í›„ ìƒˆë¡œ ìƒì„±
        localStorage.removeItem('caseProducts');
        renderCaseSlider();
        initializePointsSystem();
        
        // ì´ë¯¸ì§€ Lazy Loading êµ¬í˜„
        function initLazyLoading() {
          const lazyImages = document.querySelectorAll('.lazy-image');
          
          const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                const img = entry.target;
                img.classList.add('loaded');
                observer.unobserve(img);
              }
            });
          });
          
          lazyImages.forEach(img => {
            imageObserver.observe(img);
          });
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ Lazy Loading ì´ˆê¸°í™”
        window.addEventListener('load', initLazyLoading);
        </script>
    <!-- í–„ë²„ê±° ë©”ë‰´ ë²„íŠ¼ -->
    <div class="fixed top-4 left-4 z-50">
      <button id="hamburger-menu" class="w-12 h-12 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg hover:bg-white transition-all duration-300 flex flex-col items-center justify-center gap-1.5 p-2" aria-label="ë©”ë‰´ ì—´ê¸°" title="ë©”ë‰´">
        <span class="w-6 h-0.5 bg-gray-700 rounded-full transition-all duration-300"></span>
        <span class="w-6 h-0.5 bg-gray-700 rounded-full transition-all duration-300"></span>
        <span class="w-6 h-0.5 bg-gray-700 rounded-full transition-all duration-300"></span>
      </button>
    </div>

    <!-- í–„ë²„ê±° ë©”ë‰´ ì˜¤ë²„ë ˆì´ -->
    <div id="menu-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-40 hidden" aria-hidden="true"></div>

    <!-- í–„ë²„ê±° ë©”ë‰´ íŒ¨ë„ -->
    <div id="menu-panel" class="fixed top-0 left-0 h-full w-80 bg-white shadow-2xl transform -translate-x-full transition-transform duration-300 ease-in-out z-50">
      <div class="p-6">
        <!-- ë©”ë‰´ í—¤ë” -->
        <div class="flex items-center justify-between mb-8">
          <h2 class="text-xl font-bold text-gray-800">ë©”ë‰´</h2>
          <button id="close-menu" class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition" aria-label="ë©”ë‰´ ë‹«ê¸°" title="ë©”ë‰´ ë‹«ê¸°">
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>

        <!-- ë©”ë‰´ í•­ëª©ë“¤ -->
        <nav class="space-y-4">
          <a href="about.html" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors duration-200">
            <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="font-medium">ì†Œê°œ</span>
          </a>
          
          <a href="support.html" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-emerald-50 hover:text-emerald-700 rounded-lg transition-colors duration-200">
            <svg class="w-5 h-5 text-emerald-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="font-medium">FAQ</span>
          </a>

          <div class="border-t border-gray-200 my-4"></div>

          <button id="login-btn" class="w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 text-left">
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
            </svg>
            <span class="font-medium">ë¡œê·¸ì¸</span>
          </button>

          <a href="register.html" id="signup-btn" class="w-full flex items-center gap-3 px-4 py-3 bg-blue-500 text-white hover:bg-blue-600 rounded-lg transition-colors duration-200 text-left">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
            </svg>
            <span class="font-medium">íšŒì›ê°€ì…</span>
          </a>

          <a href="member-dashboard.html" id="mypage-btn" class="hidden flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-emerald-50 hover:text-emerald-700 rounded-lg transition-colors duration-200">
            <svg class="w-5 h-5 text-emerald-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            <span class="font-medium">íšŒì› ëŒ€ì‹œë³´ë“œ</span>
          </a>

          <button id="logout-btn" class="hidden w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-700 rounded-lg transition-colors duration-200 text-left">
            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
            </svg>
            <span class="font-medium">ë¡œê·¸ì•„ì›ƒ</span>
          </button>


        </nav>
      </div>
    </div>


    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div id="login-modal" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="login-modal-title">
      <div class="bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-xs sm:max-w-md md:max-w-2xl relative">
        <button id="close-login" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl" aria-label="ë¡œê·¸ì¸ ì°½ ë‹«ê¸°" title="ë¡œê·¸ì¸ ì°½ ë‹«ê¸°">&times;</button>
        <h2 id="login-modal-title" class="text-2xl font-bold text-center mb-6 text-gray-700">ë¡œê·¸ì¸</h2>
        
        <!-- í•¸ë“œí° ì¸ì¦ ì•ˆë‚´ -->
        <div class="mb-6">
          <div class="text-center mb-4">
            <span class="text-gray-500 text-sm">í•¸ë“œí° ì¸ì¦ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë¡œê·¸ì¸í•˜ê¸°</span>
          </div>
        </div>
        
        <!-- ì¹´ì¹´ì˜¤ ê°„í¸ë¡œê·¸ì¸ -->
        <div class="mb-6">
          <button id="kakao-login-btn" class="w-full bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 mb-4">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3c5.799 0 10.5 3.664 10.5 8.185 0 4.52-4.701 8.184-10.5 8.184a13.5 13.5 0 0 1-1.727-.11l-4.408 2.883c-.501.265-.678.236-.472-.413l.892-3.678c-2.88-1.46-4.785-3.99-4.785-6.866C1.5 6.665 6.201 3 12 3z"/>
            </svg>
            ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê°„í¸ë¡œê·¸ì¸
          </button>
          
          <!-- êµ¬ë¶„ì„  -->
          <div class="flex items-center mb-4">
            <div class="flex-1 border-t border-gray-300"></div>
            <span class="px-4 text-gray-500 text-sm">ë˜ëŠ”</span>
            <div class="flex-1 border-t border-gray-300"></div>
          </div>
        </div>

        <form id="login-form" class="space-y-4">
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="login-email">ì´ë©”ì¼</label>
            <input type="email" id="login-email" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:outline-none" aria-label="ì´ë©”ì¼" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="login-password">ë¹„ë°€ë²ˆí˜¸</label>
            <input type="password" id="login-password" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:outline-none" aria-label="ë¹„ë°€ë²ˆí˜¸" />
          </div>
          <button type="submit" class="w-full py-3 bg-gray-700 text-white font-bold rounded-lg shadow hover:bg-gray-800 transition text-lg" aria-label="ë¡œê·¸ì¸" title="ë¡œê·¸ì¸">ë¡œê·¸ì¸</button>
        </form>
        <div id="login-error" class="text-red-500 text-center mt-3 hidden flex items-center justify-center gap-2 animate-fadein">
          <svg class="w-5 h-5 text-red-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="8" y1="8" x2="16" y2="16"/><line x1="16" y1="8" x2="8" y2="16"/></svg>
          <span>ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
        </div>
      </div>
    </div>
    <!-- êµ¬ë§¤ì‚¬ë¡€ íŒì—… -->
    <div id="case-modal-overlay" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden transition-opacity duration-300" role="dialog" aria-modal="true" aria-labelledby="case-modal-title">
      <div id="case-modal" class="bg-white rounded-3xl shadow-2xl p-10 max-w-2xl h-auto min-h-[500px] w-full relative scale-95 opacity-0 transition-all duration-300 flex flex-col gap-4 overflow-y-auto max-h-[90vh]">
        <button id="case-modal-close" class="absolute top-4 right-4 text-2xl text-gray-400 hover:text-gray-700" aria-label="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°" title="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°">&times;</button>
        <button id="case-modal-edit" class="absolute top-4 left-4 px-4 py-2 bg-yellow-300 text-gray-800 font-bold rounded-lg shadow hover:bg-yellow-400 transition hidden" aria-label="ì‚¬ë¡€ ìˆ˜ì •" title="ì‚¬ë¡€ ìˆ˜ì •">ìˆ˜ì •</button>
        <h2 id="case-modal-title" class="text-2xl font-bold text-blue-700 mb-2">ì‚¬ë¡€ ìƒì„¸</h2>
        <img id="case-modal-img" src="" alt="ì œí’ˆ ì´ë¯¸ì§€" class="w-full max-h-[60vh] object-contain rounded-xl mb-6 bg-gray-100 border" />
        <h2 id="case-modal-name" class="text-2xl font-bold text-blue-700 mb-4"></h2>
        
        <!-- ê°€ê²© ì •ë³´ ì„¹ì…˜ -->
        <div id="case-modal-price-info" class="bg-gray-50 rounded-xl p-4 mb-4">
          <div class="grid grid-cols-2 gap-4">
            <div class="text-center">
              <div class="text-gray-500 text-sm mb-1">ìš”ì²­ê°€</div>
              <div id="case-modal-original-price" class="text-gray-400 line-through text-lg"></div>
            </div>
            <div class="text-center">
              <div class="text-green-600 font-bold text-sm mb-1">ì‹¤êµ¬ë§¤ê°€</div>
              <div id="case-modal-final-price" class="text-green-600 font-bold text-2xl"></div>
            </div>
          </div>
          <div class="mt-3 text-center">
            <div class="text-red-600 font-bold text-sm mb-1">ì ˆì•½ê¸ˆì•¡</div>
            <div id="case-modal-savings" class="text-red-600 font-bold text-xl"></div>
            <div id="case-modal-savings-percent" class="bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-bold mt-2 inline-block"></div>
          </div>
        </div>
        
        <div id="case-modal-desc" class="text-gray-700 mb-3"></div>
        <div id="case-modal-review" class="text-gray-600 mb-4 p-3 bg-blue-50 rounded-lg"></div>
        <div class="mb-2 text-gray-600"><span id="case-modal-country"></span> | <span id="case-modal-shipping"></span></div>
        <div class="mb-4 text-gray-800 font-semibold">ìµœì €ê°€ í™•ë³´ ë°©ë²•: <span id="case-modal-method"></span></div>
      </div>
    </div>
    <!-- íšŒì› íƒˆí‡´ í™•ì¸ ëª¨ë‹¬ -->
    <div id="withdraw-modal" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="withdraw-modal-title">
      <div class="bg-white rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md relative">
        <button id="close-withdraw" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl" aria-label="íƒˆí‡´ ì°½ ë‹«ê¸°" title="íƒˆí‡´ ì°½ ë‹«ê¸°">&times;</button>
        <h2 id="withdraw-modal-title" class="text-2xl font-bold text-center mb-6 text-red-600">íšŒì› íƒˆí‡´</h2>
        
        <div class="space-y-4 mb-6">
          <div class="bg-red-50 border border-red-200 rounded-lg p-4">
            <div class="flex items-start">
              <svg class="w-5 h-5 text-red-500 mt-0.5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <div>
                <h3 class="text-sm font-medium text-red-800">íƒˆí‡´ ì‹œ ì£¼ì˜ì‚¬í•­</h3>
                <div class="mt-2 text-sm text-red-700">
                  <ul class="list-disc list-inside space-y-1">
                    <li>ëª¨ë“  ê°œì¸ì •ë³´ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤</li>
                    <li>ì§„í–‰ ì¤‘ì¸ ì˜ë¢°ë‚˜ ë¬¸ì˜ëŠ” ì·¨ì†Œë©ë‹ˆë‹¤</li>
                    <li>êµ¬ë§¤ ë‚´ì—­ì€ ë²•ì  ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë³´ê´€ë©ë‹ˆë‹¤</li>
                    <li>íƒˆí‡´ í›„ ì¬ê°€ì… ì‹œ ì´ì „ ë°ì´í„°ëŠ” ë³µêµ¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <div class="flex items-start">
              <svg class="w-5 h-5 text-yellow-500 mt-0.5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <div>
                <h3 class="text-sm font-medium text-yellow-800">ì§„í–‰ ì¤‘ì¸ ì‘ì—… í™•ì¸</h3>
                <div class="mt-2 text-sm text-yellow-700">
                  <div id="withdraw-check-list">
                    <!-- ì§„í–‰ ì¤‘ì¸ ì‘ì—…ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="space-y-3">
          <label class="flex items-center">
            <input type="checkbox" id="withdraw-confirm-checkbox" class="w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500">
            <span class="ml-2 text-sm text-gray-700">ìœ„ ë‚´ìš©ì„ ëª¨ë‘ í™•ì¸í–ˆìœ¼ë©°, íšŒì› íƒˆí‡´ì— ë™ì˜í•©ë‹ˆë‹¤</span>
          </label>
          
          <div class="flex space-x-3">
            <button id="cancel-withdraw" class="flex-1 py-3 bg-gray-500 text-white font-bold rounded-lg shadow hover:bg-gray-600 transition">ì·¨ì†Œ</button>
            <button id="confirm-withdraw" class="flex-1 py-3 bg-red-500 text-white font-bold rounded-lg shadow hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>íƒˆí‡´</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ íŒì—… -->
    <div id="min-order-popup" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40" style="display:none;" role="dialog" aria-modal="true" aria-labelledby="min-order-popup-title">
      <div class="bg-white rounded-2xl shadow-2xl p-4 sm:p-6 md:p-8 max-w-xs sm:max-w-sm w-full mx-4 text-center animate-fadein-up">
        <div class="text-xl font-bold text-pink-600 mb-2" id="min-order-popup-title">ì•ˆë‚´</div>
        <div class="text-gray-800 mb-4 leading-relaxed">
          í˜„ì¬ëŠ” <span class="font-semibold">ì´ˆê¸° í…ŒìŠ¤íŠ¸ ë²„ì „</span>ìœ¼ë¡œ,<br>
          <span class="font-bold text-blue-700">í•˜ë£¨ ìµœëŒ€ 2ê±´ê¹Œì§€ë§Œ ì˜ë¢°í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span><br>
          <span class="font-bold text-blue-700">ë˜í•œ ìµœì†Œ ì˜ë¢° ê¸ˆì•¡ì´ 1ë§Œì› ì´ìƒ</span>ìœ¼ë¡œ ì œí•œë©ë‹ˆë‹¤.<br>
        </div>
        <label class="inline-flex items-center mb-4 cursor-pointer select-none">
          <input type="checkbox" id="hide-popup-today" class="form-checkbox h-4 w-4 text-pink-500 mr-2" />
          <span class="text-sm text-gray-600">ì˜¤ëŠ˜ í•˜ë£¨ ë³´ì§€ ì•Šê¸°</span>
        </label>
        <button id="close-min-order-popup" class="w-full py-2 bg-pink-500 text-white font-bold rounded-lg shadow hover:bg-pink-600 transition" aria-label="ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ ë‹«ê¸°" title="ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ ë‹«ê¸°">í™•ì¸</button>
      </div>
    </div>
    <script>
      // Firebase v9 ê¸°ë°˜ ê³µí†µ í•¨ìˆ˜ë“¤
      let isFirebaseReady = false;

      // Firebase ì¤€ë¹„ ìƒíƒœ í™•ì¸
      function waitForFirebase() {
        return new Promise((resolve) => {
          if (window.firebaseAuth && window.firebaseDb) {
            isFirebaseReady = true;
            resolve();
          } else {
            setTimeout(() => waitForFirebase().then(resolve), 100);
          }
        });
      }

      // ì‚¬ìš©ì ë°ì´í„° upsert í•¨ìˆ˜ (ëª¨ë“  ë¡œê·¸ì¸ ê²½ë¡œì—ì„œ ê³µí†µ ì‚¬ìš©)
      async function upsertUser(userData, extra = {}) {
        try {
          await waitForFirebase();
          
          const { doc, setDoc } = window.firebaseFirestoreFunctions;
          const userRef = doc(window.firebaseDb, 'users', userData.uid);
          
          const userDoc = {
            uid: userData.uid,
            email: userData.email,
            displayName: userData.displayName || userData.name || userData.nickname || '',
            photoURL: userData.photoURL || userData.profileImage || '',
            loginMethod: userData.loginMethod || 'email',
            createdAt: userData.createdAt || new Date(),
            updatedAt: new Date(),
            isActive: true,
            ...extra
          };

          await setDoc(userRef, userDoc, { merge: true });
          console.log('âœ… ì‚¬ìš©ì ë°ì´í„° upsert ì™„ë£Œ:', userData.email);
          return true;
        } catch (error) {
          console.error('âŒ ì‚¬ìš©ì ë°ì´í„° upsert ì‹¤íŒ¨:', error);
          return false;
        }
      }

      // Firebase Auth ìƒíƒœ ë³€ê²½ ê°ì§€
      function setupAuthStateListener() {
        if (!window.firebaseAuthFunctions) return;
        
        const { onAuthStateChanged } = window.firebaseAuthFunctions;
        onAuthStateChanged(window.firebaseAuth, (user) => {
          if (user) {
            console.log('âœ… ì‚¬ìš©ì ë¡œê·¸ì¸ë¨:', user.email);
            // ë¡œê·¸ì¸ ìƒíƒœ UI ì—…ë°ì´íŠ¸
            updateAuthUI();
          } else {
            console.log('âŒ ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒë¨');
            // ë¡œê·¸ì•„ì›ƒ ìƒíƒœ UI ì—…ë°ì´íŠ¸
            updateAuthUI();
          }
        });
      }

      // Firebase ì»¤ìŠ¤í…€ í† í°ìœ¼ë¡œ ë¡œê·¸ì¸
      async function signInWithFirebaseCustomToken(customToken) {
        try {
          await waitForFirebase();
          
          const { signInWithCustomToken } = window.firebaseAuthFunctions;
          const result = await signInWithCustomToken(window.firebaseAuth, customToken);
          console.log('âœ… Firebase ì»¤ìŠ¤í…€ í† í° ë¡œê·¸ì¸ ì„±ê³µ:', result.user.email);
          return result.user;
        } catch (error) {
          console.error('âŒ Firebase ì»¤ìŠ¤í…€ í† í° ë¡œê·¸ì¸ ì‹¤íŒ¨:', error);
          throw error;
        }
      }

      // Firebase ë¡œê·¸ì•„ì›ƒ
      async function signOutFromFirebase() {
        try {
          await waitForFirebase();
          
          const { signOut } = window.firebaseAuthFunctions;
          await signOut(window.firebaseAuth);
          console.log('âœ… Firebase ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ');
        } catch (error) {
          console.error('âŒ Firebase ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨:', error);
        }
      }

      // í–„ë²„ê±° ë©”ë‰´ ì œì–´ í•¨ìˆ˜ëŠ” ì „ì—­ ìŠ¤ì½”í”„ë¡œ ì´ë™ë¨

      // ë¡œê·¸ì¸/íšŒì›ê°€ì…/ë§ˆì´í˜ì´ì§€/ë¡œê·¸ì•„ì›ƒ/ì˜ë¢°ê²°ê³¼ì¡°íšŒ ë²„íŠ¼ ì œì–´
      function updateAuthUI() {
        const isLoggedIn = localStorage.getItem('loggedIn') === 'true' || localStorage.getItem('currentUser');
        const isAdmin = validateAdminSession(); // ì„¸ì…˜ ê²€ì¦ ì¶”ê°€
        
        // null ì²´í¬ë¥¼ ìœ„í•œ ì•ˆì „í•œ í•¨ìˆ˜
        function safeSetDisplay(elementId, display) {
          const element = document.getElementById(elementId);
          if (element) {
            element.style.display = display;
          }
        }
        
        if (isLoggedIn) {
          safeSetDisplay('login-btn', 'none');
          safeSetDisplay('signup-btn', 'none');
          safeSetDisplay('mypage-btn', 'inline-block');
          safeSetDisplay('logout-btn', 'inline-block');

          
          if (isAdmin) {
            setAdminMode(true);
          } else {
            // ê´€ë¦¬ì ëª¨ë“œê°€ ì´ë¯¸ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ìœ ì§€
            const currentAdminMode = localStorage.getItem('adminMode') === 'true';
            const currentIsAdmin = localStorage.getItem('isAdmin') === 'true';
            if (!currentAdminMode && !currentIsAdmin) {
            setAdminMode(false);
            }
          }
        } else {
          safeSetDisplay('login-btn', 'inline-block');
          safeSetDisplay('signup-btn', 'inline-block');
          safeSetDisplay('mypage-btn', 'none');
          safeSetDisplay('logout-btn', 'none');

          // ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œë„ ê´€ë¦¬ì ëª¨ë“œê°€ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ìœ ì§€
          const currentAdminMode = localStorage.getItem('adminMode') === 'true';
          const currentIsAdmin = localStorage.getItem('isAdmin') === 'true';
          if (!currentAdminMode && !currentIsAdmin) {
          setAdminMode(false);
          }
        }
      }
      
      // ê´€ë¦¬ì ì„¸ì…˜ ê²€ì¦ (ì „ì—­ í•¨ìˆ˜ë¡œ ì´ë™)
      function validateAdminSession() {
        const isAdmin = localStorage.getItem('isAdmin') === 'true';
        const loginTime = localStorage.getItem('adminLoginTime');
        
        if (isAdmin && loginTime) {
          // 24ì‹œê°„ ì„¸ì…˜ ì œí•œ
          const sessionAge = Date.now() - parseInt(loginTime);
          const maxSessionAge = 24 * 60 * 60 * 1000; // 24ì‹œê°„
          
          if (sessionAge > maxSessionAge) {
            localStorage.removeItem('isAdmin');
            localStorage.removeItem('adminLoginTime');
            return false;
          }
        }
        return isAdmin;
      }
      
      // ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ
      function adminLogout() {
        console.log('ğŸ”“ ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ ì‹œì‘');
        
        // ëª¨ë“  ê´€ë¦¬ì ëª¨ë“œ ë³´í˜¸ í•´ì œ
        adminModeProtected = false;
        adminModeLocked = false;
        
        // localStorageì—ì„œ ê´€ë¦¬ì ê´€ë ¨ ë°ì´í„° ì™„ì „ ì œê±°
        localStorage.removeItem('isAdmin');
        localStorage.removeItem('adminMode');
        localStorage.removeItem('adminLoginTime');
        localStorage.removeItem('adminEmail');
        
        // ê°•ì œë¡œ ê´€ë¦¬ì ëª¨ë“œ ë¹„í™œì„±í™” (ë³´í˜¸ ë¡œì§ ìš°íšŒ)
        localStorage.setItem('adminMode', 'false');
        localStorage.setItem('isAdmin', 'false');
        
        // ëª¨ë“  ê´€ë¦¬ì ê´€ë ¨ í‚¤ ì œê±°
        const allKeys = Object.keys(localStorage);
        allKeys.forEach(key => {
          if (key.includes('admin') || key.includes('Admin')) {
            localStorage.removeItem(key);
            console.log(`ê´€ë¦¬ì ê´€ë ¨ í‚¤ ì œê±°: ${key}`);
          }
        });
        
        // UI ì§ì ‘ ì—…ë°ì´íŠ¸ (setAdminMode í˜¸ì¶œí•˜ì§€ ì•ŠìŒ)
        const adminLogoutBtn = document.getElementById('admin-logout-btn');
        if (adminLogoutBtn) adminLogoutBtn.classList.add('hidden');
        
        const forceLogoutBtn = document.getElementById('force-logout-btn');
        if (forceLogoutBtn) forceLogoutBtn.classList.add('hidden');
        
        const adminDashboardBtn = document.getElementById('admin-dashboard-btn');
        if (adminDashboardBtn) adminDashboardBtn.classList.add('hidden');
        
        const adminCleanupBtn = document.getElementById('admin-cleanup-btn');
        if (adminCleanupBtn) adminCleanupBtn.classList.add('hidden');
        
        // updateAuthUI í˜¸ì¶œ
        updateAuthUI();
        
        // ì„±ê³µ ë©”ì‹œì§€
        showToast('ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        
        // ì¦‰ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ì™„ì „í•œ ìƒíƒœ ì´ˆê¸°í™”
        window.location.reload();
      }
      
      // ê°•ì œ ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ (ë°±ì—… í•¨ìˆ˜)
      function forceAdminLogout() {
        console.log('ğŸš¨ ê°•ì œ ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ ì‹¤í–‰');
        
        // ëª¨ë“  ì „ì—­ ë³€ìˆ˜ ì´ˆê¸°í™”
        adminModeProtected = false;
        adminModeLocked = false;
        
        // localStorage ì™„ì „ í´ë¦¬ì–´
        localStorage.clear();
        
        // ì„±ê³µ ë©”ì‹œì§€
        showToast('ê°•ì œ ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤.', 'warning');
        
        // ì¦‰ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
        setTimeout(() => {
          window.location.reload();
        }, 1000);
      }
      
      // ë¡œê·¸ì¸ ì‹œë„ ì œí•œ (ê°„ë‹¨í•œ êµ¬í˜„)
      let loginAttempts = 0;
      const maxLoginAttempts = 5;
      let lockoutTime = 0;
      
      function checkLoginLimit() {
        const now = Date.now();
        if (lockoutTime > now) {
          const remainingTime = Math.ceil((lockoutTime - now) / 1000 / 60);
          showToast(`ë¡œê·¸ì¸ ì‹œë„ê°€ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤. ${remainingTime}ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`, 'error');
          return false;
        }
        return true;
      }
      
      function recordLoginAttempt(success) {
        if (success) {
          loginAttempts = 0;
          lockoutTime = 0;
        } else {
          loginAttempts++;
          if (loginAttempts >= maxLoginAttempts) {
            lockoutTime = Date.now() + (15 * 60 * 1000); // 15ë¶„ ì œí•œ
            showToast('ë¡œê·¸ì¸ ì‹œë„ê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. 15ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
          }
        }
      }
      
      // í–¥ìƒëœ Toast ë©”ì‹œì§€ í‘œì‹œ í•¨ìˆ˜
      function showToast(msg, type = 'success', duration = 3000) {
        let toast = document.getElementById('global-toast');
        if (!toast) {
          toast = document.createElement('div');
          toast.id = 'global-toast';
          document.body.appendChild(toast);
        }
        
        const icon = type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'âœ…';
        const bgColor = type === 'error' ? 'bg-red-500' : type === 'warning' ? 'bg-yellow-500' : 'bg-emerald-600';
        
        toast.innerHTML = `
          <div class="flex items-center gap-3">
            <span class="text-xl">${icon}</span>
            <span>${msg}</span>
            <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white/80 hover:text-white">Ã—</button>
          </div>
        `;
        
        toast.className = `fixed top-8 left-1/2 -translate-x-1/2 z-[9999] px-6 py-4 rounded-xl shadow-2xl text-white text-lg font-bold transition-all duration-300 opacity-100 pointer-events-auto ${bgColor}`;
        
        setTimeout(() => { 
          toast.style.opacity = '0';
          setTimeout(() => toast.remove(), 300);
        }, duration);
      }
      
      // ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
      window.addEventListener('error', function(e) {
        console.error('Global error:', e.error);
        showToast('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.', 'error', 5000);
      });
      
      // Promise ì—ëŸ¬ í•¸ë“¤ëŸ¬
      window.addEventListener('unhandledrejection', function(e) {
        console.error('Unhandled promise rejection:', e.reason);
        showToast('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error', 5000);
      });
      
      // ê´€ë¦¬ì ëª¨ë“œ ë³´í˜¸ ì „ì—­ ë³€ìˆ˜
      let adminModeProtected = false;
      let adminModeLocked = false;
      
      // ê´€ë¦¬ì ëª¨ë“œ ì„¤ì • í•¨ìˆ˜
      function setAdminMode(isAdmin) {
        // ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ ì¤‘ì¸ ê²½ìš° ë³´í˜¸ ë¡œì§ ë¬´ì‹œ
        if (!isAdmin && (adminModeProtected || adminModeLocked)) {
          console.log('ğŸ”“ ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ ì¤‘: ë³´í˜¸ ë¡œì§ ë¬´ì‹œí•˜ê³  ë¹„í™œì„±í™” ì§„í–‰');
          adminModeProtected = false;
          adminModeLocked = false;
        }
        
        // ê´€ë¦¬ì ëª¨ë“œê°€ ì ê²¨ìˆê³  ë¹„í™œì„±í™”í•˜ë ¤ëŠ” ê²½ìš°ì—ë§Œ ë¬´ì‹œ
        if (adminModeLocked && !isAdmin) {
          console.log('ğŸ”’ ê´€ë¦¬ì ëª¨ë“œ ì ê¸ˆ: ë¹„í™œì„±í™” ì‹œë„ê°€ ë¬´ì‹œë©ë‹ˆë‹¤.');
          return;
        }
        
        // ê´€ë¦¬ì ëª¨ë“œê°€ ì´ë¯¸ í™œì„±í™”ë˜ì–´ ìˆê³ , ë¹„í™œì„±í™”í•˜ë ¤ëŠ” ê²½ìš° í™•ì¸
        const currentAdminMode = localStorage.getItem('adminMode') === 'true';
        const currentIsAdmin = localStorage.getItem('isAdmin') === 'true';
        
        // ê´€ë¦¬ì ëª¨ë“œ ë³´í˜¸: ì´ë¯¸ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ë¹„í™œì„±í™” ì‹œë„ ë¬´ì‹œ (ë¡œê·¸ì•„ì›ƒ ì¤‘ì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ)
        if ((currentAdminMode || currentIsAdmin || adminModeProtected) && !isAdmin && adminModeProtected) {
          console.log('ğŸš« ê´€ë¦¬ì ëª¨ë“œ ë³´í˜¸: ì´ë¯¸ í™œì„±í™”ë˜ì–´ ìˆì–´ ë¹„í™œì„±í™”ë¥¼ ë¬´ì‹œí•©ë‹ˆë‹¤.');
          // ê°•ì œë¡œ ê´€ë¦¬ì ëª¨ë“œ ìœ ì§€
          isAdmin = true;
          adminModeProtected = true;
        }
        
        // localStorageì— ê´€ë¦¬ì ëª¨ë“œ ìƒíƒœ ì €ì¥
        localStorage.setItem('adminMode', isAdmin.toString());
        localStorage.setItem('isAdmin', isAdmin.toString());
        
        console.log('setAdminMode í˜¸ì¶œë¨:', isAdmin, 'ì´ì „ ìƒíƒœ:', { currentAdminMode, currentIsAdmin });
        
        // ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ë“¤ í‘œì‹œ/ìˆ¨ê¹€
        var adminModeBtn = document.getElementById('admin-mode-btn');
        if (adminModeBtn) adminModeBtn.classList.add('hidden');
        
        var adminLogoutBtn = document.getElementById('admin-logout-btn');
        if (adminLogoutBtn) {
          adminLogoutBtn.classList.toggle('hidden', !isAdmin);
          console.log('ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ í‘œì‹œ ìƒíƒœ:', !isAdmin ? 'ìˆ¨ê¹€' : 'í‘œì‹œ');
        }
        
        var forceLogoutBtn = document.getElementById('force-logout-btn');
        if (forceLogoutBtn) {
          forceLogoutBtn.classList.toggle('hidden', !isAdmin);
          console.log('ê°•ì œ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ í‘œì‹œ ìƒíƒœ:', !isAdmin ? 'ìˆ¨ê¹€' : 'í‘œì‹œ');
        }
        
        const adminDashboardBtn = document.getElementById('admin-dashboard-btn');
        if (adminDashboardBtn) {
          adminDashboardBtn.classList.toggle('hidden', !isAdmin);
          console.log('ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë²„íŠ¼ í‘œì‹œ ìƒíƒœ:', !isAdmin ? 'ìˆ¨ê¹€' : 'í‘œì‹œ');
        }
        
           var adminCleanupBtn = document.getElementById('admin-cleanup-btn');
           if (adminCleanupBtn) {
             adminCleanupBtn.classList.toggle('hidden', !isAdmin);
             console.log('í…ŒìŠ¤íŠ¸ë°ì´í„°ì •ë¦¬ ë²„íŠ¼ í‘œì‹œ ìƒíƒœ:', !isAdmin ? 'ìˆ¨ê¹€' : 'í‘œì‹œ');
           }
        

        
        // ì‚¬ë¡€ ì¹´ë“œ í¸ì§‘ ê¸°ëŠ¥ í™œì„±í™”/ë¹„í™œì„±í™”
        enableCaseTextEdit(isAdmin);
        
        console.log('ê´€ë¦¬ì ëª¨ë“œ ì„¤ì • ì™„ë£Œ:', isAdmin);
      }
      
      // ì‚¬ë¡€ ì¹´ë“œ í…ìŠ¤íŠ¸ í¸ì§‘ ê¸°ëŠ¥
      function enableCaseTextEdit(isAdmin) {
        // ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ í¸ì§‘ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
        // (ì‹¤ì œ êµ¬í˜„ì€ renderCaseSliderì—ì„œ ì²˜ë¦¬)
      }
      
      window.addEventListener('storage', function(e) {
        // ë‹¤ë¥¸ íƒ­ì—ì„œ localStorage ë³€ê²½ ì‹œ UI ë™ê¸°í™”
        updateAuthUI();
        // ê´€ë¦¬ì ëª¨ë“œê°€ ì´ë¯¸ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ìœ ì§€
        const currentAdminMode = localStorage.getItem('adminMode') === 'true';
        const isAdmin = localStorage.getItem('isAdmin') === 'true';
        if (currentAdminMode || isAdmin) {
          setAdminMode(true);
        }
      });
      
      // XSS ë°©ì§€ í•¨ìˆ˜
      function sanitizeInput(input) {
        if (typeof input !== 'string') return input;
        return input
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#x27;')
          .replace(/\//g, '&#x2F;');
      }
      
      // ì…ë ¥ê°’ ê²€ì¦ í•¨ìˆ˜
      function validateInput(input, type = 'text') {
        if (!input || typeof input !== 'string') return false;
        
        const patterns = {
          email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
          phone: /^[0-9]{10,11}$/,
          name: /^[ê°€-í£a-zA-Z\s]{2,20}$/,
          password: /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/
        };
        
        return patterns[type] ? patterns[type].test(input) : input.length > 0;
      }
      
      // ë°ì´í„° ë°±ì—… ì‹œìŠ¤í…œ (ìµœì í™”)
      function backupData() {
        try {
          // ë°±ì—… í‚¤ê°€ ë„ˆë¬´ ë§ìœ¼ë©´ ë°±ì—… ê±´ë„ˆë›°ê¸°
          const backupKeys = Object.keys(localStorage).filter(key => key.startsWith('ph_backup_'));
          if (backupKeys.length > 0) {
            console.log('ë°±ì—…ì´ ë„ˆë¬´ ë§ì•„ ë°±ì—…ì„ ê±´ë„ˆëœë‹ˆë‹¤.');
            return;
          }
          
          // localStorage ìš©ëŸ‰ í™•ì¸ (ë” ì—„ê²©í•œ ê¸°ì¤€)
          const currentSize = JSON.stringify(localStorage).length;
          const maxSize = 5 * 1024 * 1024; // 5MB ì œí•œ
          
          if (currentSize > maxSize * 0.2) { // 20% ì´ìƒ ì‚¬ìš© ì¤‘ì´ë©´ ë°±ì—… ê±´ë„ˆë›°ê¸°
            console.log('localStorage ìš©ëŸ‰ì´ ë¶€ì¡±í•˜ì—¬ ë°±ì—…ì„ ê±´ë„ˆëœë‹ˆë‹¤.');
            return;
          }
          
          // ë°±ì—… ë°ì´í„° í¬ê¸° ì˜ˆì¸¡ (ë” ì—„ê²©í•œ ê¸°ì¤€)
          const data = {};
          for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            if (key && !key.startsWith('ph_backup_') && !key.startsWith('request-') && !key.startsWith('image-')) {
              data[key] = localStorage.getItem(key);
            }
          }
          
          const backupSize = JSON.stringify(data).length;
          if (backupSize > 128 * 1024) { // 128KB ì´ìƒì´ë©´ ë°±ì—… ê±´ë„ˆë›°ê¸°
            console.log('ë°±ì—… ë°ì´í„°ê°€ ë„ˆë¬´ ì»¤ì„œ ë°±ì—…ì„ ê±´ë„ˆëœë‹ˆë‹¤.');
            return;
          }
          
          const backup = {
            timestamp: new Date().toISOString(),
            data: data,
            version: '1.0'
          };
          
          localStorage.setItem('ph_backup_' + Date.now(), JSON.stringify(backup));
  
        } catch (error) {
          console.error('ë°±ì—… ì‹¤íŒ¨:', error);
        }
      }
      
          // ìë™ ë°±ì—… (30ë¶„ë§ˆë‹¤)
    setInterval(backupData, 30 * 60 * 1000);
    
    // ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
    function requestNotificationPermission() {
      if ('Notification' in window && Notification.permission === 'default') {
        Notification.requestPermission().then(function(permission) {
          if (permission === 'granted') {
    
          }
        });
      }
    }
    
    // ì•Œë¦¼ ë³´ë‚´ê¸°
    function sendNotification(title, body) {
      if ('Notification' in window && Notification.permission === 'granted') {
        new Notification(title, {
          body: body,
          icon: '/favicon.ico',
          badge: '/favicon.ico'
        });
      }
    }
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ ë° ê¸°ì¡´ íšŒì› ë§ˆì´ê·¸ë ˆì´ì…˜
    window.addEventListener('DOMContentLoaded', function() {
      requestNotificationPermission();
      
      // ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸°/ì•ìœ¼ë¡œê°€ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ (KOE205 ì—ëŸ¬ ë°©ì§€)
      window.addEventListener('popstate', function(event) {
        try {
          console.log('popstate ì´ë²¤íŠ¸ ë°œìƒ:', event);
          // í˜ì´ì§€ ìƒíƒœ ë³µì›
          location.reload();
        } catch (error) {
          console.warn('popstate ì´ë²¤íŠ¸ ì²˜ë¦¬ ì‹¤íŒ¨:', error);
          // ëŒ€ì•ˆ: ê°•ì œ ìƒˆë¡œê³ ì¹¨
          window.location.reload();
        }
      });
      
      // ê¸°ì¡´ íšŒì› ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (í•œ ë²ˆë§Œ ì‹¤í–‰)
      (function migrateExistingUsers() {
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        // ê¸°ì¡´ userê°€ ìˆì§€ë§Œ users ë°°ì—´ì— ì—†ëŠ” ê²½ìš° ì¶”ê°€
        if (user.email && !users.find(u => u.email === user.email)) {
          const migratedUser = {
            name: user.name || '',
            email: user.email || '',
            password: user.password || '',
            phone: user.phone || '',
  
            joinDate: Date.now() - (7 * 24 * 60 * 60 * 1000), // ì¼ì£¼ì¼ ì „ìœ¼ë¡œ ì¶”ì •
            lastLogin: Date.now(),
            status: 'active',
            loginType: user.loginType || 'normal'
          };
          users.push(migratedUser);
          localStorage.setItem('users', JSON.stringify(users));
  
        }
        
        // currentUserê°€ ìˆì§€ë§Œ users ë°°ì—´ì— ì—†ëŠ” ê²½ìš° ì¶”ê°€
        if (currentUser.email && !users.find(u => u.email === currentUser.email)) {
          const migratedUser = {
            name: currentUser.name || '',
            email: currentUser.email || '',
            password: currentUser.password || '',
            phone: currentUser.phone || '',
  
            joinDate: currentUser.joinDate || (Date.now() - (7 * 24 * 60 * 60 * 1000)),
            lastLogin: currentUser.lastLogin || Date.now(),
            status: 'active',
            loginType: currentUser.loginType || 'normal'
          };
          users.push(migratedUser);
          localStorage.setItem('users', JSON.stringify(users));
  
        }
        
        // ê¸°ì¡´ ì˜ë¢° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
        const allKeys = Object.keys(localStorage);
        const requestKeys = allKeys.filter(key => key.startsWith('request-'));
        
        requestKeys.forEach(key => {
          try {
            const requestData = JSON.parse(localStorage.getItem(key));
            
            // userName í•„ë“œê°€ ì—†ëŠ” ê²½ìš° ì¶”ê°€
            if (requestData && !requestData.userName) {
              // user ë˜ëŠ” currentUserì—ì„œ ì´ë¦„ ì°¾ê¸°
              let userName = '';
              if (requestData.email) {
                const user = JSON.parse(localStorage.getItem('user') || '{}');
                const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
                
                if (user.email === requestData.email) {
                  userName = user.name || '';
                } else if (currentUser.email === requestData.email) {
                  userName = currentUser.name || '';
                }
              }
              
              // userName í•„ë“œ ì¶”ê°€
              requestData.userName = userName;
              localStorage.setItem(key, JSON.stringify(requestData));
            }
          } catch (e) {
            console.error('requestData íŒŒì‹± ì˜¤ë¥˜:', e);
          }
        });
        

      })();
    });
      
      window.addEventListener('DOMContentLoaded', function() {
        // Firebase Auth ìƒíƒœ ê°ì§€ ì„¤ì •
        setTimeout(() => {
          setupAuthStateListener();
        }, 1000); // Firebase ëª¨ë“ˆ ë¡œë”© ëŒ€ê¸°
        
        // --- ë©”ì¸ í¼ ì „í™˜ ê¸°ëŠ¥ ---
        const requestFormArea = document.getElementById('request-form-area');
        const startBtn = document.getElementById('start-btn');
        if (startBtn) {
          // ì´ ë¶€ë¶„ì€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì œê±°
        }
        // --- ê´€ë¦¬ì ëª¨ë“œ/ì‚¬ë¡€ ì´ë¯¸ì§€ ë³€ê²½ ê¸°ëŠ¥ ---
        // ì‚¬ë¡€ ì¹´ë“œ í…ìŠ¤íŠ¸ ì¸ë¼ì¸ ìˆ˜ì • ê¸°ëŠ¥ (ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ)
        function tryAdminLogin() {
          if (!checkLoginLimit()) return;
          
          const password = prompt('ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
          if (!password) return;
          
          // í–¥ìƒëœ ë³´ì•ˆ ê²€ì¦
          const hashedInput = btoa(password + 'PriceHunter2024!');
          const correctHash = 'YXNkYXNkOTEyMyFAUHJpY2VIdW50ZXIyMDI0IQ=='; // asdasd9123!@ + salt
          
          // ë””ë²„ê¹…ìš©
          
          
          // ì¶”ê°€ ë³´ì•ˆ: ì…ë ¥ê°’ ê²€ì¦
          if (password.length < 8 || password.length > 50) {
            showToast('ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
            return;
          }
          
          // íŠ¹ìˆ˜ë¬¸ì í¬í•¨ ì—¬ë¶€ í™•ì¸
          if (!/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
            showToast('ë¹„ë°€ë²ˆí˜¸ì— íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•´ì£¼ì„¸ìš”.', 'error');
            return;
          }
          
          if (hashedInput === correctHash) {
            localStorage.setItem('isAdmin', 'true');
            localStorage.setItem('adminMode', 'true');
            localStorage.setItem('adminLoginTime', Date.now().toString());
            adminModeProtected = true; // ê´€ë¦¬ì ëª¨ë“œ ë³´í˜¸ í™œì„±í™”
    
            console.log('ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ - setAdminMode í˜¸ì¶œ');
            setAdminMode(true); // ì¦‰ì‹œ ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™”
            adminModeLocked = true; // ê´€ë¦¬ì ëª¨ë“œ ì ê¸ˆ í™œì„±í™” (setAdminMode í˜¸ì¶œ í›„)
            updateAuthUI();
            recordLoginAttempt(true);
            showToast('ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
            
            // ê°•ì œë¡œ UI ì—…ë°ì´íŠ¸ (ì—¬ëŸ¬ ë²ˆ ì‹œë„)
            setTimeout(() => {
              setAdminMode(true);
              console.log('ê´€ë¦¬ì ëª¨ë“œ ì¬ì„¤ì • ì™„ë£Œ (1ì°¨)');
            }, 100);
            
            setTimeout(() => {
              setAdminMode(true);
              console.log('ê´€ë¦¬ì ëª¨ë“œ ì¬ì„¤ì • ì™„ë£Œ (2ì°¨)');
            }, 500);
            
            setTimeout(() => {
              setAdminMode(true);
              console.log('ê´€ë¦¬ì ëª¨ë“œ ì¬ì„¤ì • ì™„ë£Œ (3ì°¨)');
            }, 1000);
            
            // ì§€ì†ì ì¸ ê´€ë¦¬ì ëª¨ë“œ ìœ ì§€
            const adminModeKeeper = setInterval(() => {
              const adminMode = localStorage.getItem('adminMode') === 'true';
              const isAdmin = localStorage.getItem('isAdmin') === 'true';
              if (!adminMode || !isAdmin) {
                console.log('ğŸ”„ ê´€ë¦¬ì ëª¨ë“œ ìœ ì§€: ìƒíƒœ ë³µì› ì¤‘...');
                localStorage.setItem('adminMode', 'true');
                localStorage.setItem('isAdmin', 'true');
                setAdminMode(true);
              }
            }, 1000); // 1ì´ˆë§ˆë‹¤ í™•ì¸
            
            // ë¬´í•œ ê´€ë¦¬ì ëª¨ë“œ ìœ ì§€ (ë¡œê·¸ì•„ì›ƒê¹Œì§€)
            // setTimeout(() => {
            //   clearInterval(adminModeKeeper);
            //   console.log('ê´€ë¦¬ì ëª¨ë“œ ìœ ì§€ ì¢…ë£Œ');
            // }, 30000);
          } else {
            recordLoginAttempt(false);
            showToast('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
          }
        }
        
        // ê´€ë¦¬ì ì„¸ì…˜ ê²€ì¦
        function validateAdminSession() {
          const isAdmin = localStorage.getItem('isAdmin') === 'true';
          const loginTime = localStorage.getItem('adminLoginTime');
          
          if (isAdmin && loginTime) {
            // 24ì‹œê°„ ì„¸ì…˜ ì œí•œ
            const sessionAge = Date.now() - parseInt(loginTime);
            const maxSessionAge = 24 * 60 * 60 * 1000; // 24ì‹œê°„
            
            if (sessionAge > maxSessionAge) {
              localStorage.removeItem('isAdmin');
              localStorage.removeItem('adminLoginTime');
              return false;
            }
          }
          return isAdmin;
        }
        var adminLogoutBtn = document.getElementById('admin-logout-btn');
        if (adminLogoutBtn) {
          adminLogoutBtn.addEventListener('click', function() {
            adminLogout();
          });
        }
        // ê´€ë¦¬ì ëª¨ë“œ ì´ˆê¸° ì„¤ì •
        const isAdminLoggedIn = localStorage.getItem('isAdmin') === 'true' || localStorage.getItem('adminMode') === 'true';
        console.log('í˜ì´ì§€ ë¡œë“œ ì‹œ ê´€ë¦¬ì ìƒíƒœ í™•ì¸:', {
          isAdmin: localStorage.getItem('isAdmin'),
          adminMode: localStorage.getItem('adminMode'),
          isAdminLoggedIn: isAdminLoggedIn
        });
        setAdminMode(isAdminLoggedIn);
        
        // ê´€ë¦¬ì ì§„ì… íŠ¸ë¦¬ê±° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        let adminClickCount = 0;
        let adminClickTimer = null;
        const adminTrigger = document.getElementById('admin-hero-trigger');
        if (adminTrigger) {
          adminTrigger.addEventListener('click', function() {
            adminClickCount++;
            
            if (adminClickTimer) clearTimeout(adminClickTimer);
            adminClickTimer = setTimeout(function() { 
              adminClickCount = 0; 
            }, 2000);
            
            if (adminClickCount === 3) {
              adminClickCount = 0;
              tryAdminLogin();
            }
          });
        }
        
        // íšŒì›ê°€ì…/ë§ˆì´í˜ì´ì§€/ì˜ë¢°ê²°ê³¼ì¡°íšŒ ê¸°ëŠ¥
        updateAuthUI();
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°±ì—… ì‹¤í–‰
        backupData();
        
        // ê¸°ì¡´ ë°±ì—… ì •ë¦¬ (ì¤‘ë³µ ë°±ì—… ì œê±°)
        const backupKeys = Object.keys(localStorage).filter(key => key.startsWith('ph_backup_'));
        if (backupKeys.length > 0) {
          backupKeys.forEach(key => localStorage.removeItem(key));
          console.log('ê¸°ì¡´ ë°±ì—… ë°ì´í„°ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.');
        }


        // ë§ˆì´í˜ì´ì§€ ë²„íŠ¼ì€ ì´ì œ íšŒì› ëŒ€ì‹œë³´ë“œë¡œ ì—°ê²°ë¨ (ë§í¬ë¡œ ì²˜ë¦¬)
        
        // íšŒì› íƒˆí‡´ ê¸°ëŠ¥ (ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì´ ì œê±°ë˜ì–´ ë¹„í™œì„±í™”)
        
        // íƒˆí‡´ ëª¨ë‹¬ ê´€ë ¨ ê¸°ëŠ¥ (ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì´ ì œê±°ë˜ì–´ ë¹„í™œì„±í™”)
        
        // íƒˆí‡´ ëª¨ë‹¬ í‘œì‹œ (ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì´ ì œê±°ë˜ì–´ ë¹„í™œì„±í™”)
        function showWithdrawModal() {
          // ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì´ ì œê±°ë˜ì–´ íƒˆí‡´ ê¸°ëŠ¥ì€ íšŒì› ëŒ€ì‹œë³´ë“œì—ì„œ ì²˜ë¦¬
          console.log('íƒˆí‡´ ê¸°ëŠ¥ì€ íšŒì› ëŒ€ì‹œë³´ë“œì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.');
        }
        
        // íƒˆí‡´ ì‹¤í–‰ (ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì´ ì œê±°ë˜ì–´ ë¹„í™œì„±í™”)
        function executeWithdraw() {
          // ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì´ ì œê±°ë˜ì–´ íƒˆí‡´ ê¸°ëŠ¥ì€ íšŒì› ëŒ€ì‹œë³´ë“œì—ì„œ ì²˜ë¦¬
          console.log('íƒˆí‡´ ê¸°ëŠ¥ì€ íšŒì› ëŒ€ì‹œë³´ë“œì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.');
        }
        // í†µí•© ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        var adminDashboardBtn = document.getElementById('admin-dashboard-btn');
        if (adminDashboardBtn) {
          adminDashboardBtn.onclick = function() {
            window.location.href = 'admin-dashboard.html';
          };
        }
        // í¬ì¸íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ
        function addPoints(userEmail, points, reason) {
          try {
            // ê¸°ì¡´ í¬ì¸íŠ¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            let pointsData = JSON.parse(localStorage.getItem('userPoints') || '{}');
            
            if (!pointsData[userEmail]) {
              pointsData[userEmail] = {
                total: 0,
                history: []
              };
            }
            
            // í¬ì¸íŠ¸ ì¶”ê°€
            pointsData[userEmail].total += points;
            
            // í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ì— ê¸°ë¡
            pointsData[userEmail].history.push({
              points: points,
              reason: reason,
              date: new Date().toISOString(),
              type: 'earn'
            });
            
            // localStorageì— ì €ì¥
            localStorage.setItem('userPoints', JSON.stringify(pointsData));
            
            console.log(`í¬ì¸íŠ¸ ì ë¦½ ì™„ë£Œ: ${userEmail}ì—ê²Œ ${points}í¬ì¸íŠ¸ ì¶”ê°€ (${reason})`);
            return true;
          } catch (error) {
            console.error('í¬ì¸íŠ¸ ì ë¦½ ì‹¤íŒ¨:', error);
            return false;
          }
        }

        function getPoints(userEmail) {
          try {
            const pointsData = JSON.parse(localStorage.getItem('userPoints') || '{}');
            return pointsData[userEmail] ? pointsData[userEmail].total : 0;
          } catch (error) {
            console.error('í¬ì¸íŠ¸ ì¡°íšŒ ì‹¤íŒ¨:', error);
            return 0;
          }
        }

        function usePoints(userEmail, points, reason) {
          try {
            const pointsData = JSON.parse(localStorage.getItem('userPoints') || '{}');
            
            if (!pointsData[userEmail] || pointsData[userEmail].total < points) {
              return false; // í¬ì¸íŠ¸ ë¶€ì¡±
            }
            
            // í¬ì¸íŠ¸ ì°¨ê°
            pointsData[userEmail].total -= points;
            
            // í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ì— ê¸°ë¡
            pointsData[userEmail].history.push({
              points: -points,
              reason: reason,
              date: new Date().toISOString(),
              type: 'use'
            });
            
            // localStorageì— ì €ì¥
            localStorage.setItem('userPoints', JSON.stringify(pointsData));
            
            console.log(`í¬ì¸íŠ¸ ì‚¬ìš© ì™„ë£Œ: ${userEmail}ì—ì„œ ${points}í¬ì¸íŠ¸ ì°¨ê° (${reason})`);
            return true;
          } catch (error) {
            console.error('í¬ì¸íŠ¸ ì‚¬ìš© ì‹¤íŒ¨:', error);
            return false;
          }
        }

        // í¬ì¸íŠ¸ ì—´ëŒ ì‹œìŠ¤í…œ (24ì‹œê°„)
        function checkPurchaseCaseAccess() {
          const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
          if (!currentUser.email) {
            showToast('ğŸ”’ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤!', 'error');
            return false;
          }

          const userEmail = currentUser.email;
          const accessKey = `case_access_${userEmail}`;
          const lastAccess = localStorage.getItem(accessKey);
          
          if (lastAccess) {
            const lastAccessTime = new Date(lastAccess);
            const now = new Date();
            const timeDiff = now - lastAccessTime;
            const hoursDiff = timeDiff / (1000 * 60 * 60);
            
            if (hoursDiff < 24) {
              // 24ì‹œê°„ ë‚´ ì¬ì—´ëŒ ê°€ëŠ¥
              return true;
            }
          }
          
          // í¬ì¸íŠ¸ë¡œ ì—´ëŒ
          const requiredPoints = 10;
          const currentPoints = getPoints(userEmail);
          
          if (currentPoints < requiredPoints) {
            showToast(`í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. í•„ìš”: ${requiredPoints}P, ë³´ìœ : ${currentPoints}P`, 'error');
            return false;
          }
          
          // í¬ì¸íŠ¸ ì°¨ê° ë° ì—´ëŒ ê¶Œí•œ ë¶€ì—¬
          if (usePoints(userEmail, requiredPoints, 'êµ¬ë§¤ì‚¬ë¡€ ì—´ëŒ')) {
            localStorage.setItem(accessKey, new Date().toISOString());
            showToast(`êµ¬ë§¤ì‚¬ë¡€ë¥¼ ì—´ëŒí–ˆìŠµë‹ˆë‹¤. 24ì‹œê°„ ë™ì•ˆ ì¬ì—´ëŒ ê°€ëŠ¥í•©ë‹ˆë‹¤. (-${requiredPoints}P)`, 'success');
            return true;
          }
          
          return false;
        }





        // ì¤‘ë³µ ë¡œê·¸ì¸ ì²´í¬ í•¨ìˆ˜ (ê¸°ì¡´ íšŒì›ê°€ì… ë°ì´í„°ì™€ ì—°ë™)
        function checkDuplicateLogin(email) {
          try {
            console.log('ì¤‘ë³µ ë¡œê·¸ì¸ ì²´í¬ ì‹œì‘:', email);
            
            // 1. ì¼ë°˜ ì‚¬ìš©ì í™•ì¸
            const existingUser = localStorage.getItem('user');
            if (existingUser) {
              try {
                const user = JSON.parse(existingUser);
                if (user.email === email) {
                  console.log('ì¼ë°˜ ì‚¬ìš©ì ì¤‘ë³µ ë°œê²¬:', user);
                  return {
                    isDuplicate: true,
                    user: user,
                    message: 'ì´ë¯¸ ë¡œê·¸ì¸ëœ ê³„ì •ì…ë‹ˆë‹¤.'
                  };
                }
              } catch (e) {
                console.warn('ì¼ë°˜ ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);
              }
            }
            
            // 2. kakao_ í‚¤ë¡œ ì €ì¥ëœ ì‚¬ìš©ìë“¤ í™•ì¸
            const keys = Object.keys(localStorage);
            for (const key of keys) {
              if (key.startsWith('kakao_')) {
                try {
                  const kakaoUser = JSON.parse(localStorage.getItem(key));
                  if (kakaoUser.email === email) {
                    console.log('ì¹´ì¹´ì˜¤ ì‚¬ìš©ì ì¤‘ë³µ ë°œê²¬:', kakaoUser);
                    return {
                      isDuplicate: true,
                      user: kakaoUser,
                      message: 'ì´ë¯¸ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê°€ì…ëœ ê³„ì •ì…ë‹ˆë‹¤. ë¡œê·¸ì¸ ì²˜ë¦¬í•©ë‹ˆë‹¤.'
                    };
                  }
                } catch (e) {
                  console.warn('kakao ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);
                }
              }
            }
            
            // 3. ê¸°íƒ€ ì‚¬ìš©ì í‚¤ë“¤ í™•ì¸ (user_, member_ ë“±)
            for (const key of keys) {
              if (key.startsWith('user_') || key.startsWith('member_') || key.includes('user')) {
                try {
                  const otherUser = JSON.parse(localStorage.getItem(key));
                  if (otherUser && otherUser.email === email) {
                    console.log('ê¸°íƒ€ ì‚¬ìš©ì ì¤‘ë³µ ë°œê²¬:', otherUser);
                    return {
                      isDuplicate: true,
                      user: otherUser,
                      message: 'ì´ë¯¸ ê°€ì…ëœ ê³„ì •ì…ë‹ˆë‹¤. ë¡œê·¸ì¸ ì²˜ë¦¬í•©ë‹ˆë‹¤.'
                    };
                  }
                } catch (e) {
                  console.warn('ê¸°íƒ€ ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);
                }
              }
            }
            
            console.log('ì¤‘ë³µ ì‚¬ìš©ì ì—†ìŒ:', email);
            return { isDuplicate: false };
            
          } catch (error) {
            console.error('ì¤‘ë³µ ë¡œê·¸ì¸ ì²´í¬ ì‹¤íŒ¨:', error);
            return { isDuplicate: false };
          }
        }

                // í™˜ê²½ë³„ redirect_uri ì„¤ì • (íšŒì›ê°€ì… í˜ì´ì§€ì™€ ë™ì¼í•œ ë°©ì‹)
        function setKakaoRedirectUri() {
          const isLocal = window.location.protocol === 'file:' || 
                         window.location.hostname === 'localhost' || 
                         window.location.hostname === '127.0.0.1';
          
          if (isLocal) {
            console.log('ë¡œì»¬ í™˜ê²½ ê°ì§€ - localhost:8000 ì‚¬ìš©');
            return 'http://localhost:8000/index.html';
          } else if (window.location.hostname === 'pricehunt24.com') {
            console.log('í”„ë¡œë•ì…˜ í™˜ê²½ ê°ì§€ - HTTPS URL ì‚¬ìš©');
            return 'https://pricehunt24.com/index.html';
          } else {
            console.log('ê¸°íƒ€ í™˜ê²½ ê°ì§€ - í˜„ì¬ origin ì‚¬ìš©');
            return window.location.origin + '/index.html';
          }
        }

        // í™˜ê²½ë³„ redirect_uri ì„¤ì • (íšŒì›ê°€ì…ìš©)
        function setKakaoRedirectUriForRegister() {
          const isLocal = window.location.protocol === 'file:' || 
                         window.location.hostname === 'localhost' || 
                         window.location.hostname === '127.0.0.1';
          
          if (isLocal) {
            console.log('ë¡œì»¬ í™˜ê²½ ê°ì§€ (íšŒì›ê°€ì…) - í˜„ì¬ URL ì‚¬ìš©');
            return window.location.href;
          } else if (window.location.hostname === 'pricehunt24.com') {
            console.log('í”„ë¡œë•ì…˜ í™˜ê²½ ê°ì§€ (íšŒì›ê°€ì…) - HTTPS URL ì‚¬ìš©');
            // ì •í™•í•œ URL ì„¤ì • (í”„ë¡œí† ì½œ, ë„ë©”ì¸, ê²½ë¡œ ëª¨ë‘ í¬í•¨)
            return 'https://pricehunt24.com/register.html';
          } else {
            console.log('ê¸°íƒ€ í™˜ê²½ ê°ì§€ (íšŒì›ê°€ì…) - í˜„ì¬ origin ì‚¬ìš©');
            // ë‹¤ë¥¸ ë„ë©”ì¸ì¸ ê²½ìš° í˜„ì¬ URL ì‚¬ìš©
            return window.location.origin + '/register.html';
          }
        }

        // í™˜ê²½ ìƒíƒœ ë¡œê¹… (ë””ë²„ê¹…ìš©)
        function logEnvironmentStatus() {
          console.log('ğŸŒ í™˜ê²½ ìƒíƒœ ì •ë³´:', {
            protocol: window.location.protocol,
            hostname: window.location.hostname,
            origin: window.location.origin,
            href: window.location.href,
            userAgent: navigator.userAgent,
            timestamp: new Date().toISOString()
          });
        }

        // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ (ë””ë²„ê¹…ìš©)
        function checkKakaoLoginStatus() {
          console.log('ğŸ” ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸:', {
            hasAuthCode: !!localStorage.getItem('kakao_auth_code'),
            authTimestamp: localStorage.getItem('kakao_auth_timestamp'),
            hasUser: !!localStorage.getItem('user'),
            hasKakaoUser: Object.keys(localStorage).some(key => key.startsWith('kakao_')),
            timestamp: new Date().toISOString()
          });
        }





        function restoreAllData() {
          try {
            // ê´€ë¦¬ì ê¶Œí•œ í™•ì¸
            if (localStorage.getItem('isAdmin') !== 'true') {
              showToast('ê´€ë¦¬ìë§Œ ì „ì²´ ë°ì´í„°ë¥¼ ë³µì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'error');
              return;
            }
            
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = function(e) {
              const file = e.target.files[0];
              if (!file) return;
              
              const reader = new FileReader();
              reader.onload = function(e) {
                try {
                  const data = JSON.parse(e.target.result);
                  
                  // ë°±ì—… íŒŒì¼ ê²€ì¦
                  if (!data.backupInfo || data.backupInfo.type !== 'full_backup') {
                    showToast('ì˜¬ë°”ë¥¸ ì „ì²´ ë°±ì—… íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.', 'error');
                    return;
                  }
                  
                  // ê´€ë¦¬ì í™•ì¸
                  const confirmRestore = confirm(
                    `ì „ì²´ ë°ì´í„°ë¥¼ ë³µì›í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n` +
                    `âš ï¸ ì£¼ì˜ì‚¬í•­:\n` +
                    `â€¢ í˜„ì¬ ëª¨ë“  ë°ì´í„°ê°€ ë°±ì—… íŒŒì¼ë¡œ ë®ì–´ì¨ì§‘ë‹ˆë‹¤\n` +
                    `â€¢ ë³µì› ì „ í˜„ì¬ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ë°±ì—…í•©ë‹ˆë‹¤\n` +
                    `â€¢ ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\n\n` +
                    `ë°±ì—… íŒŒì¼: ${data.backupInfo.description}\n` +
                    `ë°ì´í„° ìˆ˜: ${data.backupInfo.dataCount}ê°œ\n` +
                    `ë°±ì—… ì‹œê°„: ${new Date(data.backupInfo.timestamp).toLocaleString()}`
                  );
                  
                  if (!confirmRestore) {
                    return;
                  }
                  
                  // í˜„ì¬ ë°ì´í„° ì „ì²´ ë°±ì—…
                  const currentBackup = {};
                  for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (key) {
                      currentBackup[key] = localStorage.getItem(key);
                    }
                  }
                  
                  // í˜„ì¬ ë°ì´í„° ë°±ì—… íŒŒì¼ë¡œ ì €ì¥
                  currentBackup.backupInfo = {
                    timestamp: new Date().toISOString(),
                    type: 'before_restore_backup',
                    admin: true,
                    dataCount: Object.keys(currentBackup).length - 1,
                    description: 'ë³µì› ì „ í˜„ì¬ ë°ì´í„° ë°±ì—…'
                  };
                  
                  const backupStr = JSON.stringify(currentBackup, null, 2);
                  const backupBlob = new Blob([backupStr], { type: 'application/json' });
                  const backupUrl = URL.createObjectURL(backupBlob);
                  
                  const backupA = document.createElement('a');
                  backupA.href = backupUrl;
                  backupA.download = `pricehunter_BEFORE_RESTORE_${new Date().toISOString().split('T')[0]}_${new Date().toISOString().split('T')[1].split('.')[0]}.json`;
                  document.body.appendChild(backupA);
                  backupA.click();
                  document.body.removeChild(backupA);
                  URL.revokeObjectURL(backupUrl);
                  
                  // localStorage ì™„ì „ ì´ˆê¸°í™”
                  localStorage.clear();
                  
                  // ìƒˆ ë°ì´í„°ë¡œ ë³µì›
                  for (const [key, value] of Object.entries(data)) {
                    if (key !== 'backupInfo') {
                      localStorage.setItem(key, value);
                    }
                  }
                  
                  console.log('ì „ì²´ ë°ì´í„° ë³µì› ì™„ë£Œ âœ…', data.backupInfo);
                  showToast('ì „ì²´ ë°ì´í„°ê°€ ë³µì›ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                  
                  // UI ì—…ë°ì´íŠ¸
                  updateAuthUI();
                  
                } catch (error) {
                  console.error('ì „ì²´ ë°ì´í„° ë³µì› ì‹¤íŒ¨:', error);
                  showToast('ì „ì²´ ë°ì´í„° ë³µì›ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                }
              };
              
              reader.readAsText(file);
            };
            
            input.click();
          } catch (error) {
            console.error('íŒŒì¼ ì„ íƒ ì‹¤íŒ¨:', error);
            showToast('íŒŒì¼ ì„ íƒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
          }
        }

        function restoreUserData() {
          try {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = function(e) {
              const file = e.target.files[0];
              if (!file) return;
              
              const reader = new FileReader();
              reader.onload = function(e) {
                try {
                  const data = JSON.parse(e.target.result);
                  
                  // ë°±ì—… íŒŒì¼ ê²€ì¦
                  if (!data.backupInfo || !data.backupInfo.userEmail) {
                    showToast('ì˜¬ë°”ë¥¸ ë°±ì—… íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.', 'error');
                    return;
                  }
                  
                  // í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì™€ ë°±ì—… íŒŒì¼ì˜ ì‚¬ìš©ìê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
                  const currentUser = JSON.parse(localStorage.getItem('user') || '{}');
                  const currentEmail = currentUser.email;
                  
                  if (currentEmail && currentEmail !== data.backupInfo.userEmail) {
                    const confirmRestore = confirm(
                      `í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì(${currentEmail})ì™€ ë°±ì—… íŒŒì¼ì˜ ì‚¬ìš©ì(${data.backupInfo.userEmail})ê°€ ë‹¤ë¦…ë‹ˆë‹¤.\n\n` +
                      `ê³„ì† ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n` +
                      `âš ï¸ ì£¼ì˜: ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë°ì´í„°ê°€ í˜„ì¬ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë®ì–´ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`
                    );
                    
                    if (!confirmRestore) {
                      return;
                    }
                  }
                  
                  // ê¸°ì¡´ ë°ì´í„° ë°±ì—… (í˜„ì¬ ì‚¬ìš©ìë§Œ)
                  const backupData = {};
                  if (currentEmail) {
                    // í˜„ì¬ ì‚¬ìš©ìì™€ ê´€ë ¨ëœ ë°ì´í„°ë§Œ ë°±ì—…
                    const keys = Object.keys(localStorage);
                    for (const key of keys) {
                      if (key === 'user' || key.startsWith('kakao_') || key.startsWith('user_') || key.startsWith('member_')) {
                        try {
                          const userData = JSON.parse(localStorage.getItem(key));
                          if (userData && userData.email === currentEmail) {
                            backupData[key] = localStorage.getItem(key);
                          }
                        } catch (e) {
                          // íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë°ì´í„° ì €ì¥
                          backupData[key] = localStorage.getItem(key);
                        }
                      }
                    }
                    
                    // í¬ì¸íŠ¸ ë°ì´í„° ë°±ì—…
                    if (localStorage.getItem('userPoints')) {
                      try {
                        const pointsData = JSON.parse(localStorage.getItem('userPoints'));
                        if (pointsData[currentEmail]) {
                          backupData.userPoints = JSON.stringify({ [userEmail]: pointsData[currentEmail] });
                        }
                      } catch (e) {
                        console.warn('í¬ì¸íŠ¸ ë°ì´í„° ë°±ì—… ì‹¤íŒ¨:', e);
                      }
                    }
                  }
                  
                  // ë°±ì—… íŒŒì¼ëª…ìœ¼ë¡œ ì €ì¥
                  if (Object.keys(backupData).length > 0) {
                    const backupStr = JSON.stringify(backupData, null, 2);
                    const backupBlob = new Blob([backupStr], { type: 'application/json' });
                    const backupUrl = URL.createObjectURL(backupBlob);
                    
                    const backupA = document.createElement('a');
                    backupA.href = backupUrl;
                    backupA.download = `pricehunter_backup_before_restore_${currentEmail || 'unknown'}_${new Date().toISOString().split('T')[0]}.json`;
                    document.body.appendChild(backupA);
                    backupA.click();
                    document.body.removeChild(backupA);
                    URL.revokeObjectURL(backupUrl);
                  }
                  
                  // ìƒˆ ë°ì´í„°ë¡œ ë³µì› (ê¸°ì¡´ ë°ì´í„°ëŠ” ìœ ì§€)
                  for (const [key, value] of Object.entries(data)) {
                    if (key !== 'backupInfo') {
                      localStorage.setItem(key, value);
                    }
                  }
                  
                  console.log('ì‚¬ìš©ìë³„ ë°ì´í„° ë³µì› ì™„ë£Œ âœ…', data.backupInfo);
                  showToast(`${data.backupInfo.userName}ë‹˜ì˜ ë°ì´í„°ê°€ ë³µì›ë˜ì—ˆìŠµë‹ˆë‹¤!`, 'success');
                  
                  // UI ì—…ë°ì´íŠ¸
                  updateAuthUI();
                  
                } catch (error) {
                  console.error('ë°ì´í„° ë³µì› ì‹¤íŒ¨:', error);
                  showToast('ë°ì´í„° ë³µì›ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                }
              };
              
              reader.readAsText(file);
            };
            
            input.click();
          } catch (error) {
            console.error('íŒŒì¼ ì„ íƒ ì‹¤íŒ¨:', error);
            showToast('íŒŒì¼ ì„ íƒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
          }
        }

        // ìë™ ë°±ì—… ì„¤ì • (ì‚¬ìš©ìë³„)
        function setupAutoBackup() {
          // 1ì‹œê°„ë§ˆë‹¤ ìë™ ë°±ì—…
          setInterval(() => {
            const currentUser = localStorage.getItem('user');
            if (currentUser) {
              try {
                const user = JSON.parse(currentUser);
                if (user.email) {
                  console.log('ìë™ ë°±ì—… ì‹¤í–‰...', user.email);
                  backupUserData();
                }
              } catch (e) {
                console.warn('ì‚¬ìš©ì ì •ë³´ íŒŒì‹± ì‹¤íŒ¨:', e);
              }
            }
          }, 60 * 60 * 1000); // 1ì‹œê°„
          
          // í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ ë°±ì—…
          window.addEventListener('beforeunload', () => {
            const currentUser = localStorage.getItem('user');
            if (currentUser) {
              try {
                const user = JSON.parse(currentUser);
                if (user.email) {
                  console.log('í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ ë°±ì—… ì‹¤í–‰...', user.email);
                  backupUserData();
                }
              } catch (e) {
                console.warn('ì‚¬ìš©ì ì •ë³´ íŒŒì‹± ì‹¤íŒ¨:', e);
              }
            }
          });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ë°±ì—… ì„¤ì •
        document.addEventListener('DOMContentLoaded', () => {
          setupAutoBackup();
        });

        // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í•¨ìˆ˜ (ì‹¤ì œ ì¹´ì¹´ì˜¤ OAuth ë¡œê·¸ì¸) - íšŒì›ê°€ì… í˜ì´ì§€ ë°©ì‹ìœ¼ë¡œ ë‹¨ìˆœí™”
        function executeKakaoLogin() {
          try {
            console.log('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹œì‘...');
            console.log('JavaScript í‚¤:', '6917a034b74fafd0ac80ab855af5ed6d');
            
            // í™˜ê²½ ìƒíƒœ ë¡œê¹…
            logEnvironmentStatus();
            
            // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
            checkKakaoLoginStatus();
            
            // ì¹´ì¹´ì˜¤ ì„¤ì • (íšŒì›ê°€ì… í˜ì´ì§€ì™€ ë™ì¼í•œ ë°©ì‹)
            const KAKAO_CONFIG = {
              clientId: '6917a034b74fafd0ac80ab855af5ed6d',
              redirectUri: setKakaoRedirectUri(),
              scope: 'profile_nickname,account_email'
            };
            
            // redirect_uri ì¬í™•ì¸
            if (!KAKAO_CONFIG.redirectUri) {
              throw new Error('ì¹´ì¹´ì˜¤ redirect_uriê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
            }
            
            console.log('ì‚¬ìš©í•  redirect_uri:', KAKAO_CONFIG.redirectUri);
            console.log('redirect_uri ìœ íš¨ì„± ê²€ì¦ í†µê³¼ âœ…');
            
            // OAuth íŒŒë¼ë¯¸í„° ë‹¨ìˆœí™” (KOE006, 400 Bad Request ì˜¤ë¥˜ ë°©ì§€)
            // through_account, additional_auth_login ë“± ë¶ˆí•„ìš”í•œ íŒŒë¼ë¯¸í„° ì œê±°
            const authParams = new URLSearchParams();
            authParams.append('client_id', KAKAO_CONFIG.clientId);
            authParams.append('redirect_uri', KAKAO_CONFIG.redirectUri);
            authParams.append('response_type', 'code');
            authParams.append('scope', KAKAO_CONFIG.scope);
            // state íŒŒë¼ë¯¸í„° ì œê±° (KOE006 ì˜¤ë¥˜ ë°©ì§€)
            
            const authUrl = 'https://kauth.kakao.com/oauth/authorize?' + authParams.toString();
            console.log('ì¹´ì¹´ì˜¤ ì¸ì¦ URL:', authUrl);
            console.log('OAuth íŒŒë¼ë¯¸í„° êµ¬ì„± ì™„ë£Œ âœ…');
            
            // OAuth íŒŒë¼ë¯¸í„° ë¡œê¹…
            console.log('ğŸ” OAuth íŒŒë¼ë¯¸í„°:', {
              client_id: KAKAO_CONFIG.clientId,
              redirect_uri: KAKAO_CONFIG.redirectUri,
              response_type: 'code',
              scope: KAKAO_CONFIG.scope
            });
            
            // KOE006 ì˜¤ë¥˜ ë°©ì§€ë¥¼ ìœ„í•œ ì¶”ê°€ ê²€ì¦
            if (!KAKAO_CONFIG.clientId || !KAKAO_CONFIG.redirectUri) {
              throw new Error('ì¹´ì¹´ì˜¤ ì„¤ì •ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
            console.log('ì¹´ì¹´ì˜¤ ì„¤ì • ê²€ì¦ í†µê³¼ âœ…');
            
            // redirect_uri ìœ íš¨ì„± ê²€ì¦
            if (!KAKAO_CONFIG.redirectUri.includes('index.html')) {
              throw new Error('redirect_uriê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
            
            // íŒŒë¼ë¯¸í„° ê°œë³„ ê²€ì¦
            if (!authParams.get('client_id') || !authParams.get('redirect_uri')) {
              throw new Error('OAuth íŒŒë¼ë¯¸í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
            console.log('OAuth íŒŒë¼ë¯¸í„° ê²€ì¦ í†µê³¼ âœ…');
            
            // ìµœì¢… ê²€ì¦: URLì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
            if (!authUrl.includes('kauth.kakao.com') || !authUrl.includes('client_id=')) {
              throw new Error('ì¸ì¦ URLì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
            console.log('ì¸ì¦ URL ê²€ì¦ í†µê³¼ âœ…');
            
            // ì¹´ì¹´ì˜¤ ì¸ì¦ í˜ì´ì§€ë¡œ ì´ë™ (KOE205 ì—ëŸ¬ ë°©ì§€) - íšŒì›ê°€ì… í˜ì´ì§€ì™€ ë™ì¼í•œ ë°©ì‹
            console.log('ì¹´ì¹´ì˜¤ ì¸ì¦ í˜ì´ì§€ë¡œ ì´ë™...');
            console.log('ìµœì¢… ì¸ì¦ URL:', authUrl);
            window.location.replace(authUrl);
            
          } catch (error) {
            console.error('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹¤í–‰ ì‹¤íŒ¨:', error);
            showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ì‹œì‘í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
            
            // ë²„íŠ¼ ìƒíƒœ ë³µì› (ì—ëŸ¬ ë°œìƒ ì‹œ)
            const button = document.getElementById('kakao-login-btn');
            if (button) {
              button.innerHTML = 'ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê°„í¸ë¡œê·¸ì¸';
              button.disabled = false;
            }
            
            // ìƒì„¸ ì—ëŸ¬ ë¡œê¹… (ë””ë²„ê¹…ìš©)
            console.error('ìƒì„¸ ì—ëŸ¬ ì •ë³´:', {
              message: error.message,
              stack: error.stack,
              timestamp: new Date().toISOString()
            });
            
            // ì—ëŸ¬ ë°œìƒ ì‹œ í™˜ê²½ ìƒíƒœ ì¬í™•ì¸
            console.log('ì—ëŸ¬ ë°œìƒ ì‹œ í™˜ê²½ ìƒíƒœ ì¬í™•ì¸:');
            logEnvironmentStatus();
          }
        }

        function handleKakaoAuthCode(authCode) {
          console.log('ì¹´ì¹´ì˜¤ ì¸ê°€ ì½”ë“œ ì²˜ë¦¬:', authCode);
          
          if (!authCode) return;
          
          // ì¸ì¦ ì½”ë“œë¥¼ localStorageì— ì €ì¥
          localStorage.setItem('kakao_auth_code', authCode);
          localStorage.setItem('kakao_auth_timestamp', Date.now().toString());
          
          // URLì—ì„œ ì¸ì¦ ì½”ë“œ ì œê±°í•˜ì—¬ ê¹”ë”í•˜ê²Œ ìœ ì§€ (KOE205 ì—ëŸ¬ ë°©ì§€)
          try {
            window.history.replaceState({}, document.title, window.location.pathname);
            console.log('URLì—ì„œ ì¸ì¦ ì½”ë“œ ì œê±° ì™„ë£Œ âœ…');
          } catch (error) {
            console.warn('íˆìŠ¤í† ë¦¬ ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:', error);
            // ëŒ€ì•ˆ: URL íŒŒë¼ë¯¸í„°ë§Œ ì œê±°
            const cleanUrl = window.location.pathname;
            if (window.location.href !== cleanUrl) {
              window.location.replace(cleanUrl);
              console.log('ëŒ€ì•ˆ ë°©ë²•ìœ¼ë¡œ URL ì •ë¦¬ ì™„ë£Œ âœ…');
            }
          }
          
          // í† í° ìš”ì²­ ë° ì‚¬ìš©ì ì •ë³´ íšë“
          console.log('í† í° ìš”ì²­ ë° ì‚¬ìš©ì ì •ë³´ íšë“ ì‹œì‘...');
          processKakaoAuthCode(authCode);
        }

        async function processKakaoAuthCode(authCode) {
          try {
            console.log('ì¹´ì¹´ì˜¤ ì¸ì¦ ì½”ë“œ ì²˜ë¦¬ ì‹œì‘...');
            
            const button = document.getElementById('kakao-login-btn');
            const originalText = button.innerHTML;
            button.innerHTML = '<svg class="animate-spin w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘...';
            button.disabled = true;

            // ì•¡ì„¸ìŠ¤ í† í° ìš”ì²­ (íšŒì›ê°€ì… í˜ì´ì§€ì™€ ë™ì¼í•œ ë°©ì‹)
            const KAKAO_CONFIG = {
              clientId: '6917a034b74fafd0ac80ab855af5ed6d',
              redirectUri: setKakaoRedirectUri()
            };
            
            console.log('í† í° ìš”ì²­ìš© ì„¤ì •:', KAKAO_CONFIG);

            const tokenResponse = await fetch('https://kauth.kakao.com/oauth/token', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
              },
              body: new URLSearchParams({
                grant_type: 'authorization_code',
                client_id: KAKAO_CONFIG.clientId,
                redirect_uri: KAKAO_CONFIG.redirectUri,
                code: authCode
              })
            });

            if (!tokenResponse.ok) {
              throw new Error('í† í° ìš”ì²­ ì‹¤íŒ¨: ' + tokenResponse.status);
            }

            const tokenData = await tokenResponse.json();
            console.log('ì•¡ì„¸ìŠ¤ í† í° íšë“:', tokenData);
            console.log('í† í° ìš”ì²­ ì„±ê³µ âœ…');

            // ì‚¬ìš©ì ì •ë³´ ìš”ì²­
            const userResponse = await fetch('https://kapi.kakao.com/v2/user/me', {
              headers: {
                'Authorization': 'Bearer ' + tokenData.access_token
              }
            });

            if (!userResponse.ok) {
              throw new Error('ì‚¬ìš©ì ì •ë³´ ìš”ì²­ ì‹¤íŒ¨: ' + userResponse.status);
            }

            const userData = await userResponse.json();
            console.log('ì‚¬ìš©ì ì •ë³´:', userData);
            console.log('ì‚¬ìš©ì ì •ë³´ ìš”ì²­ ì„±ê³µ âœ…');

            const user = {
              uid: `kakao_${userData.id}`,
              id: userData.id,
              name: userData.properties?.nickname || 'ì¹´ì¹´ì˜¤ ì‚¬ìš©ì',
              email: userData.kakao_account?.email || 'kakao@user.com',
              profileImage: userData.properties?.profile_image || '',
              loginType: 'kakao',
              loginMethod: 'kakao',
              kakaoId: userData.id,
              loginTime: new Date().toISOString(),
              userAgent: navigator.userAgent
            };

            // ì¹´ì¹´ì˜¤ ì•¡ì„¸ìŠ¤ í† í°ìœ¼ë¡œ Firebase ì»¤ìŠ¤í…€ í† í° ìš”ì²­
            try {
              const customTokenResponse = await fetch('/api/kakao-to-firebase-token', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                  kakaoAccessToken: tokenData.access_token,
                  userData: user
                })
              });

              if (customTokenResponse.ok) {
                const { customToken } = await customTokenResponse.json();
                
                // Firebase ì»¤ìŠ¤í…€ í† í°ìœ¼ë¡œ ë¡œê·¸ì¸
                const firebaseUser = await signInWithFirebaseCustomToken(customToken);
                
                // Firestoreì— ì‚¬ìš©ì ë°ì´í„° upsert
                await upsertUser(user, {
                  kakaoId: userData.id,
                  kakaoAccessToken: tokenData.access_token
                });

                // ë¡œê·¸ì¸ ì„±ê³µ ì²˜ë¦¬
                document.getElementById('login-modal').classList.add('hidden');
                updateAuthUI();
                showToast('ì¹´ì¹´ì˜¤í†¡ ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
                return;
              } else {
                throw new Error('Firebase ì»¤ìŠ¤í…€ í† í° ìš”ì²­ ì‹¤íŒ¨');
              }
            } catch (error) {
              console.error('Firebase ì»¤ìŠ¤í…€ í† í° ë¡œê·¸ì¸ ì‹¤íŒ¨:', error);
              // í´ë°±: ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬
            }
            
            console.log('ì‚¬ìš©ì ê°ì²´ ìƒì„± ì™„ë£Œ:', user);

            // ì¤‘ë³µ ë¡œê·¸ì¸ ì²´í¬
            const duplicateCheck = checkDuplicateLogin(user.email);
            if (duplicateCheck.isDuplicate) {
              console.log('ì¤‘ë³µ ë¡œê·¸ì¸ ê°ì§€:', duplicateCheck.message);
              
              // Firebaseì— ì‚¬ìš©ì ë°ì´í„° ì €ì¥
              const firebaseSaved = await saveUserToFirebase(duplicateCheck.user);
              if (firebaseSaved) {
                console.log('âœ… ì¤‘ë³µ ì‚¬ìš©ì ë°ì´í„°ê°€ Firebaseì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
              }
              
              // ê¸°ì¡´ ì‚¬ìš©ì ì •ë³´ë¡œ ë¡œê·¸ì¸ ì²˜ë¦¬
              localStorage.setItem('user', JSON.stringify(duplicateCheck.user));
              localStorage.setItem('loggedIn', 'true');
              
              // ë¡œê·¸ì¸ ëª¨ë‹¬ ë‹«ê¸°
              document.getElementById('login-modal').classList.add('hidden');
              updateAuthUI();
              showToast(duplicateCheck.message, 'success');
              console.log('ì¤‘ë³µ ë¡œê·¸ì¸ ì²˜ë¦¬ ì™„ë£Œ âœ…');
              return;
            }

            // ê¸°ì¡´ ì‚¬ìš©ì ì •ë³´ í™•ì¸ (ì´ë©”ì¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ì‚¬ìš©ì ê²€ìƒ‰)
            const existingUser = findExistingUserByEmail(user.email);
            
            if (existingUser) {
              console.log('ê¸°ì¡´ ì‚¬ìš©ì ë°œê²¬:', existingUser);
              
              // ê¸°ì¡´ ì‚¬ìš©ì ì •ë³´ì— ì¹´ì¹´ì˜¤ ì •ë³´ ì¶”ê°€
              existingUser.lastLogin = Date.now();
              existingUser.loginType = 'kakao';
              existingUser.kakaoId = userData.id;
              
              // Firebaseì— ì‚¬ìš©ì ë°ì´í„° ì €ì¥
              const firebaseSaved = await saveUserToFirebase(existingUser);
              if (firebaseSaved) {
                console.log('âœ… ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„°ê°€ Firebaseì— ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤');
              }
              
              // ì—…ë°ì´íŠ¸ëœ ì‚¬ìš©ì ì •ë³´ ì €ì¥
              localStorage.setItem('user', JSON.stringify(existingUser));
              localStorage.setItem('loggedIn', 'true');
              
              // ì¹´ì¹´ì˜¤ ì‚¬ìš©ìë¡œë„ ë³„ë„ ì €ì¥ (ì—°ë™)
              localStorage.setItem('kakao_' + userData.id, JSON.stringify(existingUser));
              
              document.getElementById('login-modal').classList.add('hidden');
              updateAuthUI();
              showToast('ê¸°ì¡´ ê³„ì •ìœ¼ë¡œ ì¹´ì¹´ì˜¤í†¡ ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            } else {
              // ìƒˆ ì‚¬ìš©ì ë“±ë¡ (ì¹´ì¹´ì˜¤ ê³„ì •ìœ¼ë¡œ)
              const newUser = {
                ...user,
                joinDate: new Date().toISOString(),
                lastLogin: Date.now()
              };
              
              // Firebaseì— ìƒˆ ì‚¬ìš©ì ë°ì´í„° ì €ì¥
              const firebaseSaved = await saveUserToFirebase(newUser);
              if (firebaseSaved) {
                console.log('âœ… ìƒˆ ì‚¬ìš©ì ë°ì´í„°ê°€ Firebaseì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
              }
              
              // ìƒˆ ì‚¬ìš©ì ì €ì¥
              localStorage.setItem('user', JSON.stringify(newUser));
              localStorage.setItem('loggedIn', 'true');
              localStorage.setItem('kakao_' + userData.id, JSON.stringify(newUser));
              
              document.getElementById('login-modal').classList.add('hidden');
              updateAuthUI();
              showToast('ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ìƒˆ ê³„ì •ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            }

          } catch (error) {
            console.error('ì¹´ì¹´ì˜¤ ì¸ì¦ ì²˜ë¦¬ ì‹¤íŒ¨:', error);
            showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
            
            // ë²„íŠ¼ ìƒíƒœ ë³µì›
            const button = document.getElementById('kakao-login-btn');
            if (button) {
              button.innerHTML = 'ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê°„í¸ë¡œê·¸ì¸';
              button.disabled = false;
            }
          }
        }

        // ì´ë©”ì¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ì‚¬ìš©ì ê²€ìƒ‰ (ê¸°ì¡´ íšŒì›ê°€ì… ë°ì´í„°ì™€ ì—°ë™)
        function findExistingUserByEmail(email) {
          try {
            console.log('ì´ë©”ì¼ë¡œ ê¸°ì¡´ ì‚¬ìš©ì ê²€ìƒ‰:', email);
            
            // 1. ì¼ë°˜ ì‚¬ìš©ì í™•ì¸
            const existingUser = localStorage.getItem('user');
            if (existingUser) {
              try {
                const user = JSON.parse(existingUser);
                if (user.email === email) {
                  console.log('ì¼ë°˜ ì‚¬ìš©ì ë°œê²¬:', user);
                  return user;
                }
              } catch (e) {
                console.warn('ì¼ë°˜ ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);
              }
            }
            
            // 2. kakao_ í‚¤ë¡œ ì €ì¥ëœ ì‚¬ìš©ìë“¤ í™•ì¸
            const keys = Object.keys(localStorage);
            for (const key of keys) {
              if (key.startsWith('kakao_')) {
                try {
                  const kakaoUser = JSON.parse(localStorage.getItem(key));
                  if (kakaoUser.email === email) {
                    console.log('ì¹´ì¹´ì˜¤ ì‚¬ìš©ì ë°œê²¬:', kakaoUser);
                    return kakaoUser;
                  }
                } catch (e) {
                  console.warn('ì¹´ì¹´ì˜¤ ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);
                }
              }
            }
            
            // 3. ê¸°íƒ€ ì‚¬ìš©ì í‚¤ë“¤ í™•ì¸ (user_, member_ ë“±)
            for (const key of keys) {
              if (key.startsWith('user_') || key.startsWith('member_') || key.includes('user')) {
                try {
                  const otherUser = JSON.parse(localStorage.getItem(key));
                  if (otherUser && otherUser.email === email) {
                    console.log('ê¸°íƒ€ ì‚¬ìš©ì ë°œê²¬:', otherUser);
                    return otherUser;
                  }
                } catch (e) {
                  console.warn('ê¸°íƒ€ ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', e);
                }
              }
            }
            
            console.log('ì´ë©”ì¼ë¡œ ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ:', email);
            return null;
            
          } catch (error) {
            console.error('ì‚¬ìš©ì ê²€ìƒ‰ ì‹¤íŒ¨:', error);
            return null;
          }
        }

        function findKakaoUser(kakaoId) {
          // localStorageì—ì„œ kakao_ í‚¤ë¡œ ì‹œì‘í•˜ëŠ” ì‚¬ìš©ì ì°¾ê¸°
          for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            if (key && key.startsWith('kakao_')) {
              try {
                const user = JSON.parse(localStorage.getItem(key));
                if (user.id === kakaoId) {
                  return user;
                }
              } catch (e) {
                console.error('ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜:', e);
              }
            }
          }
          return null;
        }

        // ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
        document.getElementById('login-btn').onclick = function() {
          document.getElementById('login-modal').classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        };
        document.getElementById('close-login').onclick = function() {
          document.getElementById('login-modal').classList.add('hidden');
          document.getElementById('login-error').classList.add('hidden');
          document.body.style.overflow = '';
        };
        // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸ (KOE006 ì˜¤ë¥˜ ë°©ì§€)
        try {
          document.getElementById('kakao-login-btn').onclick = function() {
            try {
              console.log('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ë¨!');
              
              // ë²„íŠ¼ ìƒíƒœ ë³€ê²½ìœ¼ë¡œ ì¤‘ë³µ í´ë¦­ ë°©ì§€
              const button = this;
              const originalText = button.innerHTML;
              button.innerHTML = '<svg class="animate-spin w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>ì²˜ë¦¬ ì¤‘...';
              button.disabled = true;
              
              // í•¨ìˆ˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
              if (typeof executeKakaoLogin === 'function') {
                console.log('executeKakaoLogin í•¨ìˆ˜ ì‹¤í–‰...');
                executeKakaoLogin();
              } else {
                console.error('executeKakaoLogin í•¨ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•ŠìŒ');
                throw new Error('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
              }
              
              // 3ì´ˆ í›„ ë²„íŠ¼ ìƒíƒœ ë³µì› (ì•ˆì „ì¥ì¹˜)
              setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
              }, 3000);
              
            } catch (error) {
              console.error('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬ ì‹¤íŒ¨:', error);
              // ë²„íŠ¼ ìƒíƒœ ë³µì›
              const button = this;
              button.innerHTML = 'ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê°„í¸ë¡œê·¸ì¸';
              button.disabled = false;
              showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ì‹œì‘í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
            }
          };
        } catch (error) {
          console.warn('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì‹¤íŒ¨:', error);
        }

        // ë¡œê·¸ì¸ í¼ ì œì¶œ
        document.getElementById('login-form').onsubmit = async function(e) {
          e.preventDefault();
          
          const email = sanitizeInput(document.getElementById('login-email').value.trim());
          const password = document.getElementById('login-password').value;
          
          // ì…ë ¥ê°’ ê²€ì¦
          if (!validateInput(email, 'email')) {
            showToast('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
            return;
          }
          
          if (!password || password.length < 6) {
            showToast('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
            return;
          }
          
          // ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„° í™•ì¸ (ì„ì‹œ - ì‹¤ì œë¡œëŠ” Firebase Auth ì‚¬ìš©)
          const existingUsers = JSON.parse(localStorage.getItem('users') || '[]');
          const user = existingUsers.find(u => u.email === email && u.password === password);
          
          if (user) {
            // Firebase Authë¡œ ë¡œê·¸ì¸ (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸)
            try {
              await waitForFirebase();
              
              // ì„ì‹œ: Firebase Auth ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ ëŒ€ì‹  ì»¤ìŠ¤í…€ í† í° ì‚¬ìš©
              const userData = {
                uid: user.uid || `email_${user.email.replace('@', '_').replace('.', '_')}`,
                email: user.email,
                displayName: user.name || user.nickname || '',
                photoURL: user.profileImage || '',
                loginMethod: 'email'
              };

              // Firestoreì— ì‚¬ìš©ì ë°ì´í„° upsert
              await upsertUser(userData, {
                lastLogin: new Date(),
                loginCount: (user.loginCount || 0) + 1
              });

              // ë¡œê·¸ì¸ ì„±ê³µ ì²˜ë¦¬
              document.getElementById('login-modal').classList.add('hidden');
              document.getElementById('login-error').classList.add('hidden');
              updateAuthUI();
              showToast('ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
              
            } catch (error) {
              console.error('Firebase ë¡œê·¸ì¸ ì‹¤íŒ¨:', error);
              document.getElementById('login-error').classList.remove('hidden');
              showToast('ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤', 'error');
            }
            
            // users ë°°ì—´ì—ì„œë„ ì—…ë°ì´íŠ¸
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.email === email);
            if (userIndex >= 0) {
              users[userIndex].lastLogin = Date.now();
              localStorage.setItem('users', JSON.stringify(users));
            }
            
            document.getElementById('login-modal').classList.add('hidden');
            document.getElementById('login-error').classList.add('hidden');
            document.body.style.overflow = '';
            updateAuthUI();
            showToast('ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
          } else {
            document.getElementById('login-error').classList.remove('hidden');
            showToast('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤', 'error');
          }
        };
        // ë¡œê·¸ì•„ì›ƒ
        var logoutBtn = document.getElementById('logout-btn');
        if (logoutBtn) {
          logoutBtn.onclick = async function() {
            try {
              // Firebase ë¡œê·¸ì•„ì›ƒ
              await signOutFromFirebase();
              
              // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì •ë¦¬ (Firebase Authê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ì§€ë§Œ í˜¸í™˜ì„±ì„ ìœ„í•´)
              localStorage.removeItem('loggedIn');
              localStorage.removeItem('currentUser');
              localStorage.removeItem('user');
              
              updateAuthUI();
              showToast('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            } catch (error) {
              console.error('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨:', error);
              showToast('ë¡œê·¸ì•„ì›ƒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
          };
        }
        // ê´€ë¦¬ì í•´ì œ ë²„íŠ¼ null ì²´í¬ ë° ì•ˆë‚´ ë©”ì‹œì§€ ë³´ê°•
        var adminLogoutBtn = document.getElementById('admin-logout-btn');
        if (adminLogoutBtn) {
          adminLogoutBtn.onclick = function() {
            adminLogout();
          };
        }


        // ìµœì €ê°€ ìš”ì²­í•˜ê¸°(ë²„ì „2) ë²„íŠ¼ í´ë¦­ ì‹œ ë¡œê·¸ì¸ ì²´í¬
        var reqBtn = document.getElementById('request-v2-btn');
        if (reqBtn) {
          reqBtn.onclick = function() {
            var loggedIn = localStorage.getItem('loggedIn') === 'true';
            if (loggedIn) {
              window.location.href = 'request-v2.html';
            } else {
              // ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°
              var loginModal = document.getElementById('login-modal');
              if (loginModal) loginModal.classList.remove('hidden');
            }
          };
        }
        
        // í†µí•© ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
        var adminDashboardBtn = document.getElementById('admin-dashboard-btn');
        if (adminDashboardBtn) {
          adminDashboardBtn.onclick = function() {
            window.location.href = 'admin-dashboard.html';
          };
        }

        // ì¹´ì¹´ì˜¤ ì¸ê°€ ì½”ë“œ ì²˜ë¦¬ (KOE205 ì—ëŸ¬ ë°©ì§€)
        const urlParams = new URLSearchParams(window.location.search);
        const authCode = urlParams.get('code');
        
        if (authCode) {
          console.log('ì¹´ì¹´ì˜¤ ì¸ê°€ ì½”ë“œ ë°›ìŒ:', authCode);
          handleKakaoAuthCode(authCode);
          // URL ì •ë¦¬í•˜ì—¬ ë’¤ë¡œê°€ê¸° ì‹œ ê¹”ë”í•˜ê²Œ ìœ ì§€ (KOE205 ì—ëŸ¬ ë°©ì§€)
          try {
            window.history.replaceState({}, document.title, window.location.pathname);
          } catch (error) {
            console.warn('ì´ˆê¸° URL ì •ë¦¬ ì‹¤íŒ¨:', error);
          }
        }
        
        // ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸°/ì•ìœ¼ë¡œê°€ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ (KOE205 ì—ëŸ¬ ë°©ì§€)
        window.addEventListener('popstate', function(event) {
          try {
            // í˜ì´ì§€ ìƒíƒœ ë³µì›
            location.reload();
          } catch (error) {
            console.warn('popstate ì´ë²¤íŠ¸ ì²˜ë¦¬ ì‹¤íŒ¨:', error);
            // ëŒ€ì•ˆ: í˜„ì¬ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
            window.location.reload();
          }
        });
      });
    </script>

  
    <!-- êµ¬ë§¤ì‚¬ë¡€ íŒì—… -->
    <div id="case-modal-overlay" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden transition-opacity duration-300" role="dialog" aria-modal="true" aria-labelledby="case-modal-title">
      <div id="case-modal" class="bg-white rounded-3xl shadow-2xl p-10 max-w-2xl h-auto min-h-[500px] w-full relative scale-95 opacity-0 transition-all duration-300 flex flex-col gap-4 overflow-y-auto max-h-[90vh]">
        <button id="case-modal-close" class="absolute top-4 right-4 text-2xl text-gray-400 hover:text-gray-700" aria-label="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°" title="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°">&times;</button>
        <button id="case-modal-edit" class="absolute top-4 left-4 px-4 py-2 bg-yellow-300 text-gray-800 font-bold rounded-lg shadow hover:bg-yellow-400 transition hidden" aria-label="ì‚¬ë¡€ ìˆ˜ì •" title="ì‚¬ë¡€ ìˆ˜ì •">ìˆ˜ì •</button>
        <h2 id="case-modal-title" class="text-2xl font-bold text-blue-700 mb-2">ì‚¬ë¡€ ìƒì„¸</h2>
        <img id="case-modal-img" src="" alt="ì œí’ˆ ì´ë¯¸ì§€" class="w-full max-h-[60vh] object-contain rounded-xl mb-6 bg-gray-100 border" />
        <h2 id="case-modal-name" class="text-2xl font-bold text-blue-700 mb-4"></h2>
        
        <!-- ê°€ê²© ì •ë³´ ì„¹ì…˜ -->
        <div id="case-modal-price-info" class="bg-gray-50 rounded-xl p-4 mb-4">
          <div class="grid grid-cols-2 gap-4">
            <div class="text-center">
              <div class="text-gray-500 text-sm mb-1">ìš”ì²­ê°€</div>
              <div id="case-modal-original-price" class="text-gray-400 line-through text-lg"></div>
            </div>
            <div class="text-center">
              <div class="text-green-600 font-bold text-sm mb-1">ì‹¤êµ¬ë§¤ê°€</div>
              <div id="case-modal-final-price" class="text-green-600 font-bold text-2xl"></div>
            </div>
          </div>
          <div class="mt-3 text-center">
            <div class="text-red-600 font-bold text-sm mb-1">ì ˆì•½ê¸ˆì•¡</div>
            <div id="case-modal-savings" class="text-red-600 font-bold text-xl"></div>
            <div id="case-modal-savings-percent" class="bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-bold mt-2 inline-block"></div>
          </div>
        </div>
        
        <div id="case-modal-desc" class="text-gray-700 mb-3"></div>
        <div id="case-modal-review" class="text-gray-600 mb-4 p-3 bg-blue-50 rounded-lg"></div>
        <div class="mb-2 text-gray-600"><span id="case-modal-country"></span> | <span id="case-modal-shipping"></span></div>
        <div class="mb-4 text-gray-800 font-semibold">ìµœì €ê°€ í™•ë³´ ë°©ë²•: <span id="case-modal-method"></span></div>
      </div>
    </div>
    <script>
        function getCaseProducts() {
  const saved = localStorage.getItem('caseProducts');
  if (saved) {
    try {
      const arr = JSON.parse(saved);
      if (Array.isArray(arr) && arr.length > 0) return arr;
    } catch (e) {}
  }
  // ê¸°ë³¸ê°’ (ê°€ê²© ì •ë³´ í¬í•¨)
  const defaults = [
    { name: "ê¹€OO, 30ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "1,200,000ì›", finalPrice: "780,000ì›", savings: "420,000ì›", savingsPercent: "35%", desc: "ì •ê°€ ëŒ€ë¹„ 40% ì €ë ´í•˜ê²Œ í•´ì™¸ì§êµ¬!", review: "ìš”ì²­ê°€ 120ë§Œì› â†’ 78ë§Œì›ìœ¼ë¡œ êµ¬ë§¤! ìŒì§ˆë„ ì¢‹ê³  ë°°ì†¡ë„ ë¹¨ëì–´ìš”!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-28" },
    { name: "ì´OO, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=600&q=80", originalPrice: "450,000ì›", finalPrice: "280,000ì›", savings: "170,000ì›", savingsPercent: "38%", desc: "êµ­ë‚´ ìµœì €ê°€ë³´ë‹¤ 30% ì €ë ´!", review: "ìš”ì²­ê°€ 45ë§Œì› â†’ 28ë§Œì›ìœ¼ë¡œ ì ˆì•½! í•´ì™¸ì§êµ¬ë³´ë‹¤ ë” ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ë¯¸êµ­", shipping: "7ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.5, date: "2024-06-25" },
    { name: "ë°•OO, 40ëŒ€ ì£¼ë¶€", img: "https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80", originalPrice: "890,000ì›", finalPrice: "520,000ì›", savings: "370,000ì›", savingsPercent: "42%", desc: "í•œì •íŒë„ ì €ë ´í•˜ê²Œ ë“í…œ!", review: "ìš”ì²­ê°€ 89ë§Œì› â†’ 52ë§Œì›ìœ¼ë¡œ ì ˆì•½! í•œì •íŒë„ ê³µì¥ê°€ë¡œ ë“í…œ! ë§Œì¡±í•©ë‹ˆë‹¤.", country: "ì¼ë³¸", shipping: "5ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-20" },
    { name: "ìµœOO, 50ëŒ€ ìì˜ì—…ì", img: "https://images.unsplash.com/photo-1512499617640-c2f999098c01?auto=format&fit=crop&w=600&q=80", originalPrice: "320,000ì›", finalPrice: "210,000ì›", savings: "110,000ì›", savingsPercent: "34%", desc: "ì§êµ¬ë¡œ 50% ì ˆì•½!", review: "ìš”ì²­ê°€ 32ë§Œì› â†’ 21ë§Œì›ìœ¼ë¡œ êµ¬ë§¤! íƒ€ê±´ê° ìµœê³ , ê°€ê²©ë„ ë§Œì¡±!", country: "ì¤‘êµ­", shipping: "8ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-06-18" },
    { name: "ì •OO, 20ëŒ€ ì‹ í˜¼ë¶€ë¶€", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", originalPrice: "680,000ì›", finalPrice: "420,000ì›", savings: "260,000ì›", savingsPercent: "38%", desc: "ì‹ í˜¼ê°€ì „ë„ ìµœì €ê°€ë¡œ!", review: "ìš”ì²­ê°€ 68ë§Œì› â†’ 42ë§Œì›ìœ¼ë¡œ ì ˆì•½! ëƒ‰ì¥ê³ , ì„¸íƒê¸° ëª¨ë‘ ë§Œì¡±! ë°°ì†¡ë„ ë¹ ë¦„.", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-15" },
    { name: "ì˜¤OO, 30ëŒ€ 1ì¸ê°€êµ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "234,000ì›", finalPrice: "145,000ì›", savings: "89,000ì›", savingsPercent: "38%", desc: "ìƒí™œìš©í’ˆë„ ì €ë ´í•˜ê²Œ!", review: "ìš”ì²­ê°€ 23.4ë§Œì› â†’ 14.5ë§Œì›ìœ¼ë¡œ ì ˆì•½! í˜¼ì ì‚¬ëŠ”ë° í•„ìš”í•œ ì†Œí˜•ê°€ì „, ìƒí™œìš©í’ˆ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.7, date: "2024-06-10" },
    { name: "ìœ OO, 60ëŒ€ ë¶€ëª¨ë‹˜ ì„ ë¬¼", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", originalPrice: "189,000ì›", finalPrice: "67,000ì›", savings: "122,000ì›", savingsPercent: "65%", desc: "ë¶€ëª¨ë‹˜ ê±´ê°•ìš©í’ˆë„ ìµœì €ê°€!", review: "ìš”ì²­ê°€ 18.9ë§Œì› â†’ 6.7ë§Œì›ìœ¼ë¡œ ì ˆì•½! ì•ˆë§ˆê¸°, ê±´ê°•ì‹í’ˆ ëª¨ë‘ ë§Œì¡±! ë¶€ëª¨ë‹˜ì´ ì¢‹ì•„í•˜ì…¨ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-08" },
    { name: "ì¥OO, 10ëŒ€ í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "890,000ì›", finalPrice: "520,000ì›", savings: "370,000ì›", savingsPercent: "42%", desc: "í•™ìš©í’ˆ, ITê¸°ê¸°ê¹Œì§€!", review: "ìš”ì²­ê°€ 89ë§Œì› â†’ 52ë§Œì›ìœ¼ë¡œ ì ˆì•½! ë…¸íŠ¸ë¶, íƒœë¸”ë¦¿, í•™ìš©í’ˆ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.9, date: "2024-06-05" },
    { name: "ì„œOO, 30ëŒ€ ì·¨ë¯¸ëŸ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "456,000ì›", finalPrice: "234,000ì›", savings: "222,000ì›", savingsPercent: "49%", desc: "ì·¨ë¯¸ìš©í’ˆë„ ì €ë ´í•˜ê²Œ!", review: "ìš”ì²­ê°€ 45.6ë§Œì› â†’ 23.4ë§Œì›ìœ¼ë¡œ ì ˆì•½! ê¸°íƒ€, ìº í•‘ìš©í’ˆ, ìš´ë™ê¸°êµ¬ê¹Œì§€ ë‹¤ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-01" },
    { name: "ë¬¸OO, 40ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "345,000ì›", finalPrice: "198,000ì›", savings: "147,000ì›", savingsPercent: "43%", desc: "íŒ¨ì…˜/ì¡í™”ë„ OK!", review: "ìš”ì²­ê°€ 34.5ë§Œì› â†’ 19.8ë§Œì›ìœ¼ë¡œ ì ˆì•½! ê°€ë°©, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ê¹Œì§€ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.6, date: "2024-05-28" },
    { name: "ì´OO, 30ëŒ€ í”„ë¦¬ëœì„œ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "567,000ì›", finalPrice: "345,000ì›", savings: "222,000ì›", savingsPercent: "39%", desc: "ì‚¬ë¬´ìš©í’ˆë„ ìµœì €ê°€!", review: "ìš”ì²­ê°€ 56.7ë§Œì› â†’ 34.5ë§Œì›ìœ¼ë¡œ ì ˆì•½! í”„ë¦°í„°, ëª¨ë‹ˆí„°, ì˜ìê¹Œì§€ ë‹¤ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-05-25" },
    { name: "ìµœOO, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "789,000ì›", finalPrice: "456,000ì›", savings: "333,000ì›", savingsPercent: "42%", desc: "ì „ìê¸°ê¸°ë„ ì €ë ´í•˜ê²Œ!", review: "ìš”ì²­ê°€ 78.9ë§Œì› â†’ 45.6ë§Œì›ìœ¼ë¡œ ì ˆì•½! ìŠ¤ë§ˆíŠ¸í°, ì´ì–´í°, ë…¸íŠ¸ë¶ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-05-20" },
    // ì‚¬ì—…ì/ëŒ€ëŸ‰êµ¬ë§¤ ìƒ˜í”Œ ì¶”ê°€
    { name: "ë°•OO, 40ëŒ€ ì‚¬ì—…ì", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", originalPrice: "2,340,000ì›", finalPrice: "1,450,000ì›", savings: "890,000ì›", savingsPercent: "38%", desc: "ì‚¬ë¬´ì‹¤ ë¹„í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ë„ ìµœì €ê°€!", review: "ìš”ì²­ê°€ 234ë§Œì› â†’ 145ë§Œì›ìœ¼ë¡œ ì ˆì•½! í”„ë¦°í„°, ì˜ì, ì±…ìƒ ë“± ëŒ€ëŸ‰êµ¬ë§¤ë„ ë¹ ë¥´ê³  ì €ë ´í•˜ê²Œ í•´ê²°!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-06-27" },
    { name: "ì´OO, 30ëŒ€ ì˜¨ë¼ì¸ì…€ëŸ¬", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", originalPrice: "1,560,000ì›", finalPrice: "890,000ì›", savings: "670,000ì›", savingsPercent: "43%", desc: "ì˜¨ë¼ì¸ íŒë§¤ìš© ìƒí’ˆë„ ëŒ€ëŸ‰êµ¬ë§¤ OK!", review: "ìš”ì²­ê°€ 156ë§Œì› â†’ 89ë§Œì›ìœ¼ë¡œ ì ˆì•½! ë„ë§¤ê°€ë¡œ ëŒ€ëŸ‰êµ¬ë§¤í•´ì„œ ë§ˆì§„ì´ í¬ê²Œ ë‚¨ì•˜ì–´ìš”.", country: "ì¤‘êµ­", shipping: "7ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 4.9, date: "2024-06-22" },
    { name: "ìµœOO, 50ëŒ€ ìœ í†µì—…ì", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "3,450,000ì›", finalPrice: "2,100,000ì›", savings: "1,350,000ì›", savingsPercent: "39%", desc: "ìœ í†µìš© ìƒí™œìš©í’ˆ ëŒ€ëŸ‰êµ¬ë§¤", review: "ìš”ì²­ê°€ 345ë§Œì› â†’ 210ë§Œì›ìœ¼ë¡œ ì ˆì•½! ìƒí™œìš©í’ˆ 1000ê°œ ë‹¨ìœ„ë¡œë„ ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ê³µê¸‰ë°›ì•˜ìŠµë‹ˆë‹¤.", country: "ëŒ€í•œë¯¼êµ­", shipping: "5ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-06-18" },
    { name: "ì •OO, 30ëŒ€ ì¹´í˜ìš´ì˜ì", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", originalPrice: "234,000ì›", finalPrice: "145,000ì›", savings: "89,000ì›", savingsPercent: "38%", desc: "ì¹´í˜ ì†Œëª¨í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ë„ OK!", review: "ìš”ì²­ê°€ 23.4ë§Œì› â†’ 14.5ë§Œì›ìœ¼ë¡œ ì ˆì•½! ì¢…ì´ì»µ, ë¹¨ëŒ€, ëƒ…í‚¨ ë“± ëŒ€ëŸ‰êµ¬ë§¤ë„ ì €ë ´í•˜ê²Œ í•´ê²°!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 4.8, date: "2024-06-12" }
  ];
  localStorage.setItem('caseProducts', JSON.stringify(defaults));
  return defaults;
}




// ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
window.addEventListener('DOMContentLoaded', function() {
  document.getElementById('case-modal-close').onclick = closeCaseModal;
  document.getElementById('case-modal-overlay').onclick = function(e) {
    if (e.target === this) closeCaseModal();
  };
});

function closeCaseModal() {
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  modal.classList.remove('opacity-100','scale-100');
  modal.classList.add('opacity-0','scale-95');
  overlay.classList.remove('opacity-100');
  setTimeout(() => { overlay.classList.add('hidden'); }, 300);
  document.body.style.overflow = '';
}

    </script>
    <script>
// ... existing code ...
// ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ íŒì—…
function showMinOrderPopupIfNeeded() {
  const popup = document.getElementById('min-order-popup');
  const closeBtn = document.getElementById('close-min-order-popup');
  const hideToday = document.getElementById('hide-popup-today');
  const today = new Date().toISOString().slice(0,10);
  const hideKey = 'hideMinOrderPopup';
  const hideValue = localStorage.getItem(hideKey);
  if (hideValue === today) return; // ì˜¤ëŠ˜ì€ ì•ˆë³´ì„
  popup.style.display = 'flex';
  closeBtn.onclick = function() {
    if (hideToday.checked) {
      localStorage.setItem(hideKey, today);
    }
    popup.style.display = 'none';
    document.body.style.overflow = '';
  };
}
document.addEventListener('DOMContentLoaded', showMinOrderPopupIfNeeded);
// ... existing code ...
    </script>
    <script>
// ... existing code ...
// ìŠ¬ë¼ì´ë” ì•„ë˜ ì•ˆë‚´ë¬¸êµ¬ ì¶”ê°€
const caseDots = document.getElementById('case-dots');
if (caseDots && caseDots.parentElement) {
  let moreGuide = document.getElementById('case-more-guide');
  if (!moreGuide) {
    moreGuide = document.createElement('div');
    moreGuide.id = 'case-more-guide';
    moreGuide.className = 'text-center text-sm text-gray-500 mt-2';
    moreGuide.innerHTML = 'ë” ë§ì€ í›„ê¸°ëŠ” ìŠ¬ë¼ì´ë“œ(â†’) ë²„íŠ¼ì´ë‚˜ â—â—â—â—ë¥¼ ëˆŒëŸ¬ í™•ì¸í•˜ì„¸ìš”!';
    caseDots.parentElement.appendChild(moreGuide);
  }
}
// ... existing code ...
    </script>
    <script>
// ... existing code ...
// ë§ˆì´í˜ì´ì§€ ì •ë³´ ìˆ˜ì • ê¸°ëŠ¥ (ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì´ ì œê±°ë˜ì–´ ë¹„í™œì„±í™”)
function showMypageSuccess() {
  console.log('ë§ˆì´í˜ì´ì§€ ê¸°ëŠ¥ì€ íšŒì› ëŒ€ì‹œë³´ë“œì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.');
}


// ë¡œê·¸ì•„ì›ƒ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
function showLogoutSuccess() {
  const msg = document.getElementById('logout-success');
  if (msg) {
    msg.classList.remove('hidden');
    setTimeout(() => msg.classList.add('hidden'), 1500);
  }
}
var logoutBtn = document.getElementById('logout-btn');
if (logoutBtn) {
  logoutBtn.onclick = function() {
    localStorage.setItem('loggedIn', 'false');
    updateAuthUI();
    showLogoutSuccess();
  };
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <!-- ë¡œê·¸ì•„ì›ƒ ì„±ê³µ ë©”ì‹œì§€(ìƒë‹¨ ê³ ì •) -->
    <div id="logout-success" class="fixed top-20 left-1/2 -translate-x-1/2 z-50 text-emerald-600 text-center mt-3 hidden flex items-center justify-center gap-2 animate-fadein bg-white/90 px-6 py-3 rounded-xl shadow-lg">
      <svg class="w-5 h-5 text-emerald-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8 12l2 2 4-4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span>ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.</span>
    </div>
    <script>
// ë¹ˆ ë°°ì—´ì´ ì €ì¥ë˜ì–´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ì‚­ì œ(ë³µêµ¬)
(function() {
  const saved = localStorage.getItem('caseProducts');
  if (saved) {
    try {
      const arr = JSON.parse(saved);
      if (Array.isArray(arr) && arr.length === 0) {
        localStorage.removeItem('caseProducts');
      }
    } catch (e) {}
  }
})();
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// ìƒì„¸ë³´ê¸°/ìˆ˜ì • ëª¨ë‹¬ ë° ìˆ˜ì • ê¸°ëŠ¥ ìµœì‹ í™”
function openCaseModal(idx) {
  const caseSamples = getCaseProducts();
  const p = caseSamples[idx];
  document.getElementById('case-modal-img').src = p.img;
  document.getElementById('case-modal-name').textContent = p.name;
      document.getElementById('case-modal-original-price').textContent = p.originalPrice;
      document.getElementById('case-modal-final-price').textContent = p.finalPrice;
      document.getElementById('case-modal-savings').textContent = p.savings;
      document.getElementById('case-modal-savings-percent').textContent = p.savingsPercent + ' ì ˆì•½';
  document.getElementById('case-modal-desc').textContent = p.desc;
  document.getElementById('case-modal-review').textContent = p.review;
  document.getElementById('case-modal-country').textContent = p.country;
  document.getElementById('case-modal-shipping').textContent = p.shipping;
  document.getElementById('case-modal-method').textContent = p.method;
  // ìˆ˜ì • ë²„íŠ¼ ë…¸ì¶œ ì—¬ë¶€
  const isAdmin = localStorage.getItem('isAdmin') === 'true';
  const editBtn = document.getElementById('case-modal-edit');
  editBtn.classList.toggle('hidden', !isAdmin);
  // ìˆ˜ì • ë²„íŠ¼ ì´ë²¤íŠ¸
  editBtn.onclick = function() {
    showCaseEditForm(idx);
  };
  // ëª¨ë‹¬ í‘œì‹œ
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  overlay.classList.remove('hidden');
  setTimeout(() => {
    overlay.classList.add('opacity-100');
    modal.classList.remove('opacity-0','scale-95');
    modal.classList.add('opacity-100','scale-100');
  }, 10);
  document.body.style.overflow = 'hidden';
}

function showCaseEditForm(idx) {
  const caseSamples = getCaseProducts();
  const p = caseSamples[idx];
  const modal = document.getElementById('case-modal');
  // ê¸°ì¡´ ìƒì„¸ì •ë³´ ìˆ¨ê¸°ê¸°
  Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = 'none'; });
  // ê¸°ì¡´ í¼ ì œê±°
  let form = modal.querySelector('form');
  if (form) form.remove();
  form = document.createElement('form');
  form.className = 'flex flex-col gap-4';
  form.innerHTML = `
    <label>ì´ë¯¸ì§€
      <div class="flex flex-col gap-2 items-center">
        <img id="case-edit-img-preview" src="${p.img}" alt="ë¯¸ë¦¬ë³´ê¸°" class="w-40 h-40 object-contain rounded-xl border bg-gray-100" />
        <input type="file" accept="image/*" class="w-full" id="case-edit-img-input" />
      </div>
    </label>
    <label>ì´ë¦„<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.name}" required></label>
    <label>ì„¤ëª…<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.desc}" required></label>
    <label>í›„ê¸°<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.review}" required></label>
    <label>êµ­ê°€<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.country}" required></label>
    <label>ë°°ì†¡<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.shipping}" required></label>
    <label>ë°©ë²•<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.method}" required></label>
    <div class="flex gap-2 mt-2">
      <button type="submit" class="flex-1 py-2 min-h-[44px] text-base bg-blue-500 text-white rounded font-bold">ì €ì¥</button>
      <button type="button" class="flex-1 py-2 min-h-[44px] text-base bg-gray-200 text-gray-600 rounded font-bold" id="case-edit-cancel">ì·¨ì†Œ</button>
    </div>
  `;
  modal.appendChild(form);
  // ì´ë¯¸ì§€ íŒŒì¼ ì²¨ë¶€ ë° ë¯¸ë¦¬ë³´ê¸°
  const imgInput = form.querySelector('#case-edit-img-input');
  const imgPreview = form.querySelector('#case-edit-img-preview');
  let newImgBase64 = null;
  imgInput.addEventListener('change', function(e) {
    const file = e.target.files && e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(ev) {
        imgPreview.src = ev.target.result;
        newImgBase64 = ev.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
  // ì €ì¥ ì´ë²¤íŠ¸
  form.onsubmit = function(e) {
    e.preventDefault();
    // ì´ë¯¸ì§€ê°€ ìƒˆë¡œ ì„ íƒëœ ê²½ìš°ì—ë§Œ p.imgë¥¼ ë³€ê²½
    if (newImgBase64 !== null) {
      p.img = newImgBase64;
    }
    p.name = form.children[1].querySelector('input').value;
    p.desc = form.children[2].querySelector('input').value;
    p.review = form.children[3].querySelector('input').value;
    p.country = form.children[4].querySelector('input').value;
    p.shipping = form.children[5].querySelector('input').value;
    p.method = form.children[6].querySelector('input').value;
    localStorage.setItem('caseProducts', JSON.stringify(caseSamples));
    renderCaseSlider();
    openCaseModal(idx);
  };
  // ì·¨ì†Œ ì´ë²¤íŠ¸
  form.querySelector('#case-edit-cancel').onclick = function() {
    form.remove();
    Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = ''; });
  };
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// 1. Toast í”¼ë“œë°± ë©”ì‹œì§€ í•¨ìˆ˜ ì¶”ê°€
function showToast(msg, type = 'success') {
  let toast = document.getElementById('global-toast');
  if (!toast) {
    toast = document.createElement('div');
    toast.id = 'global-toast';
    toast.className = 'fixed top-8 left-1/2 -translate-x-1/2 z-[9999] px-6 py-3 rounded-xl shadow-lg text-white text-lg font-bold flex items-center gap-2 transition-all duration-300 opacity-0 pointer-events-none';
    document.body.appendChild(toast);
  }
  toast.textContent = msg;
  toast.className = 'fixed top-8 left-1/2 -translate-x-1/2 z-[9999] px-6 py-3 rounded-xl shadow-lg text-white text-lg font-bold flex items-center gap-2 transition-all duration-300 opacity-100 pointer-events-auto ' + (type === 'error' ? 'bg-red-500' : 'bg-emerald-600');
  setTimeout(() => { toast.classList.add('opacity-0'); }, 1500);
}

// 2. ëª¨ë‹¬/íŒì—… escë¡œ ë‹«ê¸°, í¬ì»¤ìŠ¤ ì´ë™, transition ë³´ê°•
window.addEventListener('keydown', function(e) {
  const overlay = document.getElementById('case-modal-overlay');
  if (!overlay || overlay.classList.contains('hidden')) return;
  if (e.key === 'Escape') closeCaseModal();
});
function openCaseModal(idx) {
  const caseSamples = getCaseProducts();
  const p = caseSamples[idx];
  document.getElementById('case-modal-img').src = p.img;
  document.getElementById('case-modal-img').alt = p.name + ' ì´ë¯¸ì§€';
  document.getElementById('case-modal-name').textContent = p.name;
      document.getElementById('case-modal-original-price').textContent = p.originalPrice;
      document.getElementById('case-modal-final-price').textContent = p.finalPrice;
      document.getElementById('case-modal-savings').textContent = p.savings;
      document.getElementById('case-modal-savings-percent').textContent = p.savingsPercent + ' ì ˆì•½';
  document.getElementById('case-modal-desc').textContent = p.desc;
  document.getElementById('case-modal-review').textContent = p.review;
  document.getElementById('case-modal-country').textContent = p.country;
  document.getElementById('case-modal-shipping').textContent = p.shipping;
  document.getElementById('case-modal-method').textContent = p.method;
  // ìˆ˜ì • ë²„íŠ¼ ë…¸ì¶œ ì—¬ë¶€
  const isAdmin = localStorage.getItem('isAdmin') === 'true';
  const editBtn = document.getElementById('case-modal-edit');
  editBtn.classList.toggle('hidden', !isAdmin);
  editBtn.setAttribute('aria-label', 'ì‚¬ë¡€ ìˆ˜ì •');
  editBtn.setAttribute('title', 'ì‚¬ë¡€ ìˆ˜ì •');
  // ìˆ˜ì • ë²„íŠ¼ ì´ë²¤íŠ¸
  editBtn.onclick = function() {
    showCaseEditForm(idx);
  };
  // ëª¨ë‹¬ í‘œì‹œ
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  overlay.classList.remove('hidden');
  setTimeout(() => {
    overlay.classList.add('opacity-100');
    modal.classList.remove('opacity-0','scale-95');
    modal.classList.add('opacity-100','scale-100');
    // í¬ì»¤ìŠ¤ ì´ë™
    modal.setAttribute('tabindex', '-1');
    modal.focus();
  }, 10);
  document.body.style.overflow = 'hidden';
}
function closeCaseModal() {
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  modal.classList.remove('opacity-100','scale-100');
  modal.classList.add('opacity-0','scale-95');
  overlay.classList.remove('opacity-100');
  setTimeout(() => { overlay.classList.add('hidden'); }, 300);
  document.body.style.overflow = '';
}
// 3. ìˆ˜ì • í¼ ì ‘ê·¼ì„±/ëª¨ë°”ì¼/í”¼ë“œë°± ë³´ê°•
function showCaseEditForm(idx) {
  const caseSamples = getCaseProducts();
  const p = caseSamples[idx];
  const modal = document.getElementById('case-modal');
  Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = 'none'; });
  let form = modal.querySelector('form');
  if (form) form.remove();
  form = document.createElement('form');
  form.className = 'flex flex-col gap-4';
  form.setAttribute('aria-label', 'ì‚¬ë¡€ ìˆ˜ì • í¼');
  form.innerHTML = `
    <label>ì´ë¯¸ì§€
      <div class="flex flex-col gap-2 items-center">
        <img id="case-edit-img-preview" src="${p.img}" alt="ë¯¸ë¦¬ë³´ê¸°" class="w-40 h-40 object-contain rounded-xl border bg-gray-100" />
        <input type="file" accept="image/*" class="w-full min-h-[44px]" id="case-edit-img-input" aria-label="ì´ë¯¸ì§€ ì²¨ë¶€" />
      </div>
    </label>
    <label>ì´ë¦„<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.name}" required aria-label="ì´ë¦„" /></label>
    <label>ì„¤ëª…<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.desc}" required aria-label="ì„¤ëª…" /></label>
    <label>í›„ê¸°<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.review}" required aria-label="í›„ê¸°" /></label>
    <label>êµ­ê°€<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.country}" required aria-label="êµ­ê°€" /></label>
    <label>ë°°ì†¡<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.shipping}" required aria-label="ë°°ì†¡" /></label>
    <label>ë°©ë²•<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.method}" required aria-label="ë°©ë²•" /></label>
    <div class="flex gap-2 mt-2">
      <button type="submit" class="flex-1 py-2 min-h-[44px] text-base bg-blue-500 text-white rounded font-bold" aria-label="ì €ì¥">ì €ì¥</button>
      <button type="button" class="flex-1 py-2 min-h-[44px] text-base bg-gray-200 text-gray-600 rounded font-bold" id="case-edit-cancel" aria-label="ì·¨ì†Œ">ì·¨ì†Œ</button>
    </div>
  `;
  modal.appendChild(form);
  // ì´ë¯¸ì§€ íŒŒì¼ ì²¨ë¶€ ë° ë¯¸ë¦¬ë³´ê¸°
  const imgInput = form.querySelector('#case-edit-img-input');
  const imgPreview = form.querySelector('#case-edit-img-preview');
  let newImgBase64 = null;
  imgInput.addEventListener('change', function(e) {
    const file = e.target.files && e.target.files[0];
    if (file) {
      if (!file.type.startsWith('image/')) {
        showToast('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'error');
        imgInput.value = '';
        return;
      }
      if (file.size > 2 * 1024 * 1024) { // 2MB ì œí•œ
        showToast('2MB ì´í•˜ ì´ë¯¸ì§€ë§Œ ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'error');
        imgInput.value = '';
        return;
      }
      const reader = new FileReader();
      reader.onload = function(ev) {
        imgPreview.src = ev.target.result;
        newImgBase64 = ev.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
  // ì €ì¥ ì´ë²¤íŠ¸
  form.onsubmit = function(e) {
    e.preventDefault();
    // í•„ìˆ˜ê°’ ê²€ì¦
    let valid = true;
    Array.from(form.querySelectorAll('input[type=text]')).forEach(input => {
      if (!input.value.trim()) {
        input.classList.add('border-red-500');
        valid = false;
      } else {
        input.classList.remove('border-red-500');
      }
    });
    if (!valid) {
      showToast('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.', 'error');
      return;
    }
    if (newImgBase64 !== null) {
      p.img = newImgBase64;
    }
    p.name = form.children[1].querySelector('input').value;
    p.desc = form.children[2].querySelector('input').value;
    p.review = form.children[3].querySelector('input').value;
    p.country = form.children[4].querySelector('input').value;
    p.shipping = form.children[5].querySelector('input').value;
    p.method = form.children[6].querySelector('input').value;
    localStorage.setItem('caseProducts', JSON.stringify(caseSamples));
    renderCaseSlider();
    openCaseModal(idx);
    showToast('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
  };
  // ì·¨ì†Œ ì´ë²¤íŠ¸
  form.querySelector('#case-edit-cancel').onclick = function() {
    form.remove();
    Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = ''; });
  };
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ ë‚´ 'ë‚´ í™œë™' ì„¹ì…˜ ì¶”ê°€ ë° ë°ì´í„° í‘œì‹œ
// 1. ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì— ë‚´ í™œë™ ì˜ì—­ ì¶”ê°€ (ì£¼ë¬¸/ë¬¸ì˜/ë‹µë³€)
(function addMyActivitySection() {
  const mypageModal = document.getElementById('mypage-modal');
  if (!mypageModal) return;
  let activity = document.getElementById('mypage-activity');
  if (!activity) {
    activity = document.createElement('div');
    activity.id = 'mypage-activity';
    activity.className = 'mt-8';
    activity.innerHTML = `
      <h3 class="text-xl font-bold text-blue-700 mb-3">ë‚´ í™œë™</h3>
      <div class="flex flex-col gap-4">
        <div>
          <div class="font-semibold text-gray-700 mb-1">ì£¼ë¬¸ ë‚´ì—­</div>
          <ul id="mypage-orders" class="bg-gray-50 rounded-xl p-3 text-sm min-h-[44px]"></ul>
        </div>
        <div>
          <div class="font-semibold text-gray-700 mb-1">ë¬¸ì˜ ë‚´ì—­</div>
          <ul id="mypage-contacts" class="bg-gray-50 rounded-xl p-3 text-sm min-h-[44px]"></ul>
        </div>
        <div>
          <div class="font-semibold text-gray-700 mb-1">ë‹µë³€ ë‚´ì—­</div>
          <ul id="mypage-answers" class="bg-gray-50 rounded-xl p-3 text-sm min-h-[44px]"></ul>
        </div>
      </div>
    `;
    mypageModal.querySelector('form').after(activity);
  }
})();

// 2. ë‚´ í™œë™ ë°ì´í„° ë Œë”ë§ í•¨ìˆ˜ (ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë§Œ í‘œì‹œ)
function renderMyActivity() {
  const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
  
  // ì£¼ë¬¸ ë‚´ì—­ (ì‹¤ì œ orders ë°ì´í„°ì—ì„œ í˜„ì¬ ì‚¬ìš©ì ê²ƒë§Œ í•„í„°ë§)
  let orders = [];
  try {
    const allOrders = JSON.parse(localStorage.getItem('orders') || '[]');
    orders = allOrders.filter(order => order.email === currentUser.email);
  } catch (e) { orders = []; }
  const ordersUl = document.getElementById('mypage-orders');
  if (ordersUl) {
    ordersUl.innerHTML = orders.length ? orders.map(o => `<li class="py-1 border-b last:border-b-0 flex flex-col sm:flex-row sm:items-center sm:gap-2"><span class="font-bold">${o.productName || o.name || 'ìƒí’ˆ'}</span><span class="text-gray-500 ml-2">${o.orderDate || o.date || ''}</span><span class="text-pink-600 ml-2">${o.totalAmount || o.price ? (o.totalAmount || o.price) + 'ì›' : ''}</span></li>`).join('') : '<li class="text-gray-400">ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
  }
  
  // ë¬¸ì˜ ë‚´ì—­ (ì‹¤ì œ inquiries ë°ì´í„°ì—ì„œ í˜„ì¬ ì‚¬ìš©ì ê²ƒë§Œ í•„í„°ë§)
  let contacts = [];
  try {
    const allInquiries = JSON.parse(localStorage.getItem('inquiries') || '[]');
    contacts = allInquiries.filter(inquiry => inquiry.email === currentUser.email);
  } catch (e) { contacts = []; }
  const contactsUl = document.getElementById('mypage-contacts');
  if (contactsUl) {
    contactsUl.innerHTML = contacts.length ? contacts.map(c => `<li class="py-1 border-b last:border-b-0 flex flex-col sm:flex-row sm:items-center sm:gap-2"><span class="font-bold">${c.title || c.subject || 'ë¬¸ì˜'}</span><span class="text-gray-500 ml-2">${c.date || ''}</span><span class="ml-2">${c.status === 'completed' ? 'ë‹µë³€ì™„ë£Œ' : 'ë‹µë³€ëŒ€ê¸°'}</span></li>`).join('') : '<li class="text-gray-400">ë¬¸ì˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
  }
  
  // ë‹µë³€ ë‚´ì—­ (ë¬¸ì˜ ë‚´ì—­ê³¼ ë™ì¼í•˜ì§€ë§Œ ë‹µë³€ ìƒíƒœë³„ë¡œ í‘œì‹œ)
  const answersUl = document.getElementById('mypage-answers');
  if (answersUl) {
    const answeredInquiries = contacts.filter(c => c.status === 'completed');
    answersUl.innerHTML = answeredInquiries.length ? answeredInquiries.map(a => `<li class="py-1 border-b last:border-b-0 flex flex-col sm:flex-row sm:items-center sm:gap-2"><span class="font-bold">${a.title || a.subject || 'ë¬¸ì˜'}</span><span class="text-gray-500 ml-2">${a.date || ''}</span><span class="ml-2 text-emerald-700">ë‹µë³€ì™„ë£Œ</span></li>`).join('') : '<li class="text-gray-400">ë‹µë³€ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
  }
}
// 3. ë§ˆì´í˜ì´ì§€ ì—´ë¦´ ë•Œë§ˆë‹¤ ë‚´ í™œë™ ë Œë”ë§
const mypageBtn = document.getElementById('mypage-btn');
if (mypageBtn) {
  mypageBtn.addEventListener('click', function() {
    setTimeout(renderMyActivity, 100); // ëª¨ë‹¬ ì—´ë¦¼ í›„ ë Œë”ë§
  });
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// ë‚´ í™œë™ ë°ì´í„°ëŠ” ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë§Œ í‘œì‹œ
// ê¸°ì¡´ ê°€ì§œ ë°ì´í„° ì œê±°
(function clearFakeData() {
  // ê°€ì§œ ë°ì´í„° ì œê±°
  localStorage.removeItem('orders');
  localStorage.removeItem('contacts');
  localStorage.removeItem('answers');
})();
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...

// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>

    <!-- í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ í•¨ìˆ˜ -->
    <script>
      // í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ í•¨ìˆ˜
      function cleanupTestData() {
        console.log('=== ë©”ì¸ í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ ì‹œì‘ ===');
        const allKeys = Object.keys(localStorage);
        let deletedCount = 0;
        
        allKeys.forEach(key => {
          // í…ŒìŠ¤íŠ¸ ë°ì´í„° íŒ¨í„´ë“¤
          const isTestData = 
            key.includes('TEST') || 
            key.startsWith('requestCount-') ||
            key.includes('#PH-') ||
            key.includes('result-#PH-') ||
            key.includes('order-#PH-') ||
            key.includes('notify-#PH-') ||
            key.includes('inquiry-#PH-') ||
            key.includes('kakao') ||
            key.includes('Kakao');
          
          if (isTestData) {
            localStorage.removeItem(key);
            deletedCount++;
            console.log(`í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚­ì œ: ${key}`);
          }
        });
        
        if (deletedCount > 0) {
          console.log(`ì´ ${deletedCount}ê°œì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`);
          showToast(`í…ŒìŠ¤íŠ¸ ë°ì´í„° ${deletedCount}ê°œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
        } else {
          console.log('ì‚­ì œí•  í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
          showToast('ì‚­ì œí•  í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.', 'info');
        }
      }
      
      // ì ˆê°ì™• ë°°ì§€ ìˆ¨ê¸°ê¸°
      function hideSavingsBadge() {
        const badge = document.getElementById('savings-badge');
        if (badge) {
          badge.style.opacity = '0';
          badge.style.transform = 'scale(0.8)';
          setTimeout(() => {
            badge.style.display = 'none';
          }, 300);
        }
      }
      
      // ì ˆê°ì™• ì„¹ì…˜ ë²„íŠ¼ í•¨ìˆ˜ë“¤
      function showEvidence() {
        if (checkPurchaseCaseAccess()) {
          window.location.href = 'gallery.html';
        }
      }
      
      // í¬ì¸íŠ¸ ì‹œìŠ¤í…œ í•¨ìˆ˜ë“¤ì€ ìœ„ì—ì„œ ì´ë¯¸ ì •ì˜ë¨
      
      // ì˜ë¢° ì™„ë£Œ ì—¬ë¶€ í™•ì¸ í•¨ìˆ˜
      function checkCompletedRequest() {
        try {
          // localStorageì—ì„œ ì˜ë¢° ë°ì´í„° í™•ì¸
          for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            if (key && key.startsWith('request-')) {
              const requestData = JSON.parse(localStorage.getItem(key));
              if (requestData && requestData.status === 'ì™„ë£Œ') {
                return true;
              }
            }
          }
          return false;
        } catch (error) {
          console.error('ì˜ë¢° ì™„ë£Œ í™•ì¸ ì¤‘ ì˜¤ë¥˜:', error);
          return false;
        }
      }
      
      function goToRequest() {
        window.location.href = 'request-v2.html';
      }
    </script>
    
    <!-- í–„ë²„ê±° ë©”ë‰´ ì œì–´ í•¨ìˆ˜ (ì „ì—­ ìŠ¤ì½”í”„) -->
    <script>
      // í–„ë²„ê±° ë©”ë‰´ ì œì–´
      function initHamburgerMenu() {
        const hamburgerBtn = document.getElementById('hamburger-menu');
        const menuPanel = document.getElementById('menu-panel');
        const menuOverlay = document.getElementById('menu-overlay');
        const closeBtn = document.getElementById('close-menu');

        function openMenu() {
          menuPanel.classList.remove('-translate-x-full');
          menuOverlay.classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        }

        function closeMenu() {
          menuPanel.classList.add('-translate-x-full');
          menuOverlay.classList.add('hidden');
          document.body.style.overflow = '';
        }

        if (hamburgerBtn && menuPanel && menuOverlay && closeBtn) {
          hamburgerBtn.addEventListener('click', openMenu);
          closeBtn.addEventListener('click', closeMenu);
          menuOverlay.addEventListener('click', closeMenu);

          // ESC í‚¤ë¡œ ë©”ë‰´ ë‹«ê¸°
          document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
              closeMenu();
            }
          });
        }
      }
    </script>

    <!-- í”„ë¡œì„¸ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
      window.addEventListener('DOMContentLoaded', function() {
        // í”„ë¡œì„¸ìŠ¤ ì¹´ë“œë“¤ì„ ìˆœì„œëŒ€ë¡œ ì• ë‹ˆë©”ì´ì…˜
        const processSteps = Array.from(document.querySelectorAll('.process-step'));
        let idx = 0;
        function showNext() {
          if (idx < processSteps.length) {
            processSteps[idx].classList.add('visible');
            idx++;
            setTimeout(showNext, 600); // 0.6ì´ˆ ê°„ê²©
          }
        }
        // í˜ì´ì§€ ë¡œë“œ í›„ 1ì´ˆ ë’¤ì— ì‹œì‘
        setTimeout(showNext, 1000);
        
        // í¬ì¸íŠ¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ë° ë Œë”ë§
        initializePointsSystem();
        renderCaseSlider();
        
        // í–„ë²„ê±° ë©”ë‰´ ì´ˆê¸°í™”
        initHamburgerMenu();
      });
    </script>
    
    <!-- í˜ì´ìŠ¤ë¶ ìŠ¤íƒ€ì¼ í‘¸í„° -->
    <footer class="bg-gray-900 text-white mt-20">
      <div class="max-w-6xl mx-auto px-4 py-12">
        <!-- ë©”ì¸ í‘¸í„° ì½˜í…ì¸  -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
          <!-- íšŒì‚¬ ì •ë³´ -->
          <div class="col-span-1 md:col-span-2">
            <div class="flex items-center gap-3 mb-4">
              <svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24">
                <rect x="4" y="4" width="16" height="16" rx="4" stroke="currentColor"/>
                <path d="M8 8h8M8 12h8M8 16h4" stroke-linecap="round"/>
              </svg>
              <h3 class="text-2xl font-bold text-blue-400">PriceHunter</h3>
            </div>
            <p class="text-gray-300 mb-4 leading-relaxed">
              ë¸Œëœë“œê°€ ì•„ë‹Œ ì§„ì§œ ê°€ì¹˜ì— ì§‘ì¤‘í•©ë‹ˆë‹¤.<br class="sm:hidden"> 
              êµ­ë‚´ì™¸ ë„ë§¤ì—…ì²´ì™€ ê³µì¥ ë„¤íŠ¸ì›Œí¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ<br class="sm:hidden"> 
              ëˆ„êµ¬ë‚˜ ê³µì¥ê°€ë¡œ ì œí’ˆì„ êµ¬ë§¤í•  ìˆ˜ ìˆë„ë¡<br class="sm:hidden"> 
              í˜ì‹ ì ì¸ ê°€ê²© ì¤‘ê°œ í”Œë«í¼ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-sm">#ê³µì¥ê°€</span>
              <span class="bg-emerald-900/50 text-emerald-300 px-3 py-1 rounded-full text-sm">#ë¸Œëœë“œì—†ëŠ”ì œí’ˆ</span>
              <span class="bg-pink-900/50 text-pink-300 px-3 py-1 rounded-full text-sm">#ìŠ¤ë§ˆíŠ¸êµ¬ë§¤</span>
            </div>
          </div>
          
          <!-- ì„œë¹„ìŠ¤ -->
          <div>
            <h4 class="text-lg font-semibold mb-4 text-gray-200">ì„œë¹„ìŠ¤</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="request-v2.html" class="hover:text-blue-400 transition">ìµœì €ê°€ ê²€ì¦ ì˜ë¢°</a></li>
              <li><a href="gallery.html" class="hover:text-blue-400 transition">ì‹¤ì œ ê³ ê° í›„ê¸°</a></li>
              <li><a href="about.html" class="hover:text-blue-400 transition">íšŒì‚¬ ì†Œê°œ</a></li>
              <li><a href="support.html" class="hover:text-blue-400 transition">ê³ ê° ì§€ì›</a></li>
            </ul>
          </div>
          
          <!-- ì—°ë½ì²˜ -->
          <div>
            <h4 class="text-lg font-semibold mb-4 text-gray-200">ì—°ë½ì²˜</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="contact.html" class="hover:text-blue-400 transition">1:1 ë¬¸ì˜</a></li>
              <li class="flex items-center gap-2">
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
                <span>support@pricehunter.co.kr</span>
              </li>
            </ul>
          </div>
        </div>
        
        <!-- íŒ€ ì •ë³´ (í˜ì´ìŠ¤ë¶ ìŠ¤íƒ€ì¼) -->
        <div class="border-t border-gray-800 pt-8">
          <div class="text-center">
            <h5 class="text-sm font-medium text-gray-400 mb-4">íŒ€ PriceHunter</h5>
                      <div class="flex flex-wrap justify-center gap-6 text-sm text-gray-500">
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xs">H</div>
              <span>Jin Young Huh</span>
              <span class="text-xs bg-blue-900/50 text-blue-300 px-2 py-1 rounded">Founder</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xs">L</div>
              <span>Yo Han Lim</span>
              <span class="text-xs bg-emerald-900/50 text-emerald-300 px-2 py-1 rounded">Co-Founder</span>
            </div>
          </div>
          </div>
        </div>
        
                        <!-- ì €ì‘ê¶Œ -->
                <div class="border-t border-gray-800 pt-6 mt-8 text-center">
                  <p class="text-gray-500 text-sm">
                    Â© 2024 PriceHunter. All rights reserved. | 
                    <a href="#" onclick="openPrivacyPolicy()" class="hover:text-blue-400 transition">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a> | 
                    <a href="#" onclick="openTermsOfService()" class="hover:text-blue-400 transition">ì´ìš©ì•½ê´€</a>
                  </p>
                </div>
      </div>
    </footer>

    <!-- ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ íŒì—… -->
    <div id="privacy-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
      <div class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
          <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
            <h2 class="text-2xl font-bold text-gray-800">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</h2>
            <button onclick="closePrivacyPolicy()" class="text-gray-400 hover:text-gray-600 transition">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <div class="px-6 py-6 text-gray-700 leading-relaxed">
            <div class="space-y-6">
              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">1. ê°œì¸ì •ë³´ì˜ ì²˜ë¦¬ ëª©ì </h3>
                <p class="mb-3">PriceHunterëŠ” ë‹¤ìŒì˜ ëª©ì ì„ ìœ„í•˜ì—¬ ê°œì¸ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ê³  ìˆìœ¼ë©°, ì´ì™€ ê´€ë ¨í•˜ì—¬ ê°œì¸ì •ë³´ë³´í˜¸ë²• ì œ15ì¡° ë° ì œ17ì¡°ì— ë”°ë¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                <ul class="list-disc list-inside space-y-2 ml-4">
                  <li>ì„œë¹„ìŠ¤ ì œê³µ ë° ê³„ì • ê´€ë¦¬</li>
                  <li>ê³ ê° ë¬¸ì˜ ë° ìƒë‹´ ì‘ëŒ€</li>
                  <li>ì„œë¹„ìŠ¤ ê°œì„  ë° ì‹ ê·œ ì„œë¹„ìŠ¤ ê°œë°œ</li>
                  <li>ë§ˆì¼€íŒ… ë° ê´‘ê³  í™œìš© (ì‚¬ì „ ë™ì˜ ì‹œ)</li>
                </ul>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">2. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©</h3>
                <div class="space-y-3">
                  <div>
                    <h4 class="font-medium text-gray-800">í•„ìˆ˜ í•­ëª©</h4>
                    <ul class="list-disc list-inside ml-4 text-sm">
                      <li>ì´ë¦„, ì´ë©”ì¼ ì£¼ì†Œ, íœ´ëŒ€í° ë²ˆí˜¸</li>
                      <li>ë³¸ì¸ì¸ì¦ ì •ë³´ (í†µì‹ ì‚¬ ë³¸ì¸ì¸ì¦)</li>
                    </ul>
                  </div>
                  <div>
                    <h4 class="font-medium text-gray-800">ì„ íƒ í•­ëª©</h4>
                    <ul class="list-disc list-inside ml-4 text-sm">
                      <li>í”„ë¡œí•„ ì´ë¯¸ì§€, ì¶”ê°€ ì—°ë½ì²˜</li>
                      <li>ì„œë¹„ìŠ¤ ì´ìš© ê¸°ë¡ ë° ì„ í˜¸ë„</li>
                    </ul>
                  </div>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">3. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš©ê¸°ê°„</h3>
                <p class="mb-3">íšŒì› íƒˆí‡´ ì‹œê¹Œì§€ (ë‹¨, ê´€ê³„ë²•ë ¹ì— ë”°ë¼ ë³´ì¡´ì´ í•„ìš”í•œ ê²½ìš° í•´ë‹¹ ê¸°ê°„ê¹Œì§€)</p>
                <ul class="list-disc list-inside space-y-2 ml-4">
                  <li>ê³„ì•½ ë˜ëŠ” ì²­ì•½ì² íšŒ ë“±ì— ê´€í•œ ê¸°ë¡: 5ë…„</li>
                  <li>ëŒ€ê¸ˆê²°ì œ ë° ì¬í™” ë“±ì˜ ê³µê¸‰ì— ê´€í•œ ê¸°ë¡: 5ë…„</li>
                  <li>ì†Œë¹„ìì˜ ë¶ˆë§Œ ë˜ëŠ” ë¶„ìŸì²˜ë¦¬ì— ê´€í•œ ê¸°ë¡: 3ë…„</li>
                </ul>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">4. ê°œì¸ì •ë³´ì˜ ì œ3ì ì œê³µ</h3>
                <p class="mb-3">PriceHunterëŠ” ì›ì¹™ì ìœ¼ë¡œ ê°œì¸ì •ë³´ë¥¼ ì œ3ìì—ê²Œ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ë‹¤ìŒì˜ ê²½ìš°ì—ëŠ” ì˜ˆì™¸ë¡œ í•©ë‹ˆë‹¤.</p>
                <ul class="list-disc list-inside space-y-2 ml-4">
                  <li>ì‚¬ì „ì— ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì— ê³µê°œí•œ ê²½ìš°</li>
                  <li>ê´€ê³„ë²•ë ¹ì˜ ê·œì •ì— ì˜ê±°í•˜ê±°ë‚˜, ìˆ˜ì‚¬ ëª©ì ìœ¼ë¡œ ë²•ë ¹ì— ì •í•´ì§„ ì ˆì°¨ì™€ ë°©ë²•ì— ë”°ë¼ ìˆ˜ì‚¬ê¸°ê´€ì˜ ìš”êµ¬ê°€ ìˆëŠ” ê²½ìš°</li>
                  <li>ê°œì¸ì •ë³´ì£¼ì²´ì˜ ì‚¬ì „ ë™ì˜ê°€ ìˆëŠ” ê²½ìš°</li>
                </ul>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">5. ê°œì¸ì •ë³´ì˜ íŒŒê¸°</h3>
                <p class="mb-3">ê°œì¸ì •ë³´ ë³´ìœ ê¸°ê°„ì˜ ê²½ê³¼, ì²˜ë¦¬ëª©ì  ë‹¬ì„± ë“± ê°œì¸ì •ë³´ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë˜ì—ˆì„ ë•Œì—ëŠ” ì§€ì²´ì—†ì´ í•´ë‹¹ ê°œì¸ì •ë³´ë¥¼ íŒŒê¸°í•©ë‹ˆë‹¤.</p>
                <div class="space-y-3">
                  <div>
                    <h4 class="font-medium text-gray-800">ì „ìì  íŒŒì¼ í˜•íƒœ</h4>
                    <p class="text-sm">ë³µêµ¬ ë° ì¬ìƒì´ ë¶ˆê°€ëŠ¥í•œ ë°©ë²•ìœ¼ë¡œ ì˜êµ¬ ì‚­ì œ</p>
                  </div>
                  <div>
                    <h4 class="font-medium text-gray-800">ì¢…ì´ì— ì¶œë ¥ëœ ê°œì¸ì •ë³´</h4>
                    <p class="text-sm">ë¶„ì‡„ê¸°ë¡œ ë¶„ì‡„í•˜ê±°ë‚˜ ì†Œê°</p>
                  </div>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">6. ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ì</h3>
                <div class="bg-gray-50 p-4 rounded-lg">
                  <p class="mb-2"><strong>ì´ë¦„:</strong> í—ˆì§„ì˜ (ê°œì¸ì •ë³´ë³´í˜¸ì±…ì„ì)</p>
                  <p class="mb-2"><strong>ì—°ë½ì²˜:</strong> support@pricehunter.co.kr</p>
                  <p><strong>ì£¼ì†Œ:</strong> ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123, 456í˜¸</p>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">7. ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ ë³€ê²½</h3>
                <p>ì´ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì€ ì‹œí–‰ì¼ë¡œë¶€í„° ì ìš©ë˜ë©°, ë²•ë ¹ ë° ë°©ì¹¨ì— ë”°ë¥¸ ë³€ê²½ë‚´ìš©ì˜ ì¶”ê°€, ì‚­ì œ ë° ì •ì •ì´ ìˆëŠ” ê²½ìš°ì—ëŠ” ë³€ê²½ì‚¬í•­ì˜ ì‹œí–‰ 7ì¼ ì „ë¶€í„° ê³µì§€ì‚¬í•­ì„ í†µí•˜ì—¬ ê³ ì§€í•  ê²ƒì…ë‹ˆë‹¤.</p>
                <p class="mt-3 text-sm text-gray-600">ì‹œí–‰ì¼: 2024ë…„ 1ì›” 1ì¼</p>
              </section>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ì´ìš©ì•½ê´€ íŒì—… -->
    <div id="terms-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
      <div class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
          <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
            <h2 class="text-2xl font-bold text-gray-800">ì´ìš©ì•½ê´€</h2>
            <button onclick="closeTermsOfService()" class="text-gray-400 hover:text-gray-600 transition">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <div class="px-6 py-6 text-gray-700 leading-relaxed">
            <div class="space-y-6">
              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ1ì¡° (ëª©ì )</h3>
                <p>ì´ ì•½ê´€ì€ PriceHunter(ì´í•˜ "íšŒì‚¬")ê°€ ì œê³µí•˜ëŠ” ìµœì €ê°€ ê²€ì¦ ì„œë¹„ìŠ¤(ì´í•˜ "ì„œë¹„ìŠ¤")ì˜ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì‚¬ì™€ íšŒì› ê°„ì˜ ê¶Œë¦¬, ì˜ë¬´ ë° ì±…ì„ì‚¬í•­, ê¸°íƒ€ í•„ìš”í•œ ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ2ì¡° (ì •ì˜)</h3>
                <div class="space-y-3">
                  <div>
                    <h4 class="font-medium text-gray-800">1. "ì„œë¹„ìŠ¤"ë€</h4>
                    <p class="text-sm">íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ìµœì €ê°€ ê²€ì¦ ë° ê°€ê²© ë¹„êµ ì¤‘ê°œ ì„œë¹„ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                  </div>
                  <div>
                    <h4 class="font-medium text-gray-800">2. "íšŒì›"ì´ë€</h4>
                    <p class="text-sm">íšŒì‚¬ì™€ ì„œë¹„ìŠ¤ ì´ìš©ê³„ì•½ì„ ì²´ê²°í•˜ê³  íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ê³ ê°ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                  </div>
                  <div>
                    <h4 class="font-medium text-gray-800">3. "ì˜ë¢°"ë€</h4>
                    <p class="text-sm">íšŒì›ì´ íšŒì‚¬ì— íŠ¹ì • ìƒí’ˆì˜ ìµœì €ê°€ ê²€ì¦ì„ ìš”ì²­í•˜ëŠ” í–‰ìœ„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                  </div>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ3ì¡° (ì•½ê´€ì˜ íš¨ë ¥ ë° ë³€ê²½)</h3>
                <div class="space-y-3">
                  <p>1. ì´ ì•½ê´€ì€ ì„œë¹„ìŠ¤ í™”ë©´ì— ê²Œì‹œí•˜ê±°ë‚˜ ê¸°íƒ€ì˜ ë°©ë²•ìœ¼ë¡œ íšŒì›ì—ê²Œ ê³µì§€í•¨ìœ¼ë¡œì¨ íš¨ë ¥ì´ ë°œìƒí•©ë‹ˆë‹¤.</p>
                  <p>2. íšŒì‚¬ëŠ” í•„ìš”í•œ ê²½ìš° ê´€ë ¨ë²•ë ¹ì„ ìœ„ë°°í•˜ì§€ ì•ŠëŠ” ë²”ìœ„ì—ì„œ ì´ ì•½ê´€ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                  <p>3. ì•½ê´€ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ë³€ê²½ì‚¬í•­ì˜ ì‹œí–‰ì¼ì 7ì¼ ì „ë¶€í„° ê³µì§€ì‚¬í•­ì„ í†µí•´ ê³µì§€í•©ë‹ˆë‹¤.</p>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ4ì¡° (ì„œë¹„ìŠ¤ì˜ ì œê³µ)</h3>
                <div class="space-y-3">
                  <p>1. íšŒì‚¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤:</p>
                  <ul class="list-disc list-inside ml-4 space-y-1">
                    <li>ìµœì €ê°€ ê²€ì¦ ë° ê°€ê²© ë¹„êµ ì„œë¹„ìŠ¤</li>
                    <li>êµ¬ë§¤ ë§í¬ ì œê³µ</li>
                    <li>ì ˆì•½ ê¸ˆì•¡ ê³„ì‚°</li>
                    <li>ìƒí’ˆ ì •ë³´ ë° í›„ê¸° ì œê³µ</li>
                  </ul>
                  <p>2. ì„œë¹„ìŠ¤ëŠ” ì—°ì¤‘ë¬´íœ´, 1ì¼ 24ì‹œê°„ ì œê³µí•¨ì„ ì›ì¹™ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ5ì¡° (ì„œë¹„ìŠ¤ ì´ìš©)</h3>
                <div class="space-y-3">
                  <p>1. ì„œë¹„ìŠ¤ ì´ìš©ì„ ìœ„í•´ì„œëŠ” íšŒì›ê°€ì…ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                  <p>2. íšŒì›ì€ ë³¸ì¸ì¸ì¦ì„ í†µí•´ ì‹ ì›ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                  <p>3. ì˜ë¢° ì‹œì—ëŠ” ìƒí’ˆëª…, ìš”ì²­ê°€ê²©, ìƒì„¸ì„¤ëª… ë“±ì„ ì •í™•íˆ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                  <p>4. íšŒì‚¬ëŠ” ì˜ë¢° ì ‘ìˆ˜ í›„ ê²€ì¦ ê³¼ì •ì„ ê±°ì³ ê²°ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ6ì¡° (íšŒì›ì˜ ì˜ë¬´)</h3>
                <div class="space-y-3">
                  <p>1. íšŒì›ì€ ë‹¤ìŒ í–‰ìœ„ë¥¼ í•˜ì—¬ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤:</p>
                  <ul class="list-disc list-inside ml-4 space-y-1">
                    <li>í—ˆìœ„ ì •ë³´ ì œê³µ</li>
                    <li>íƒ€ì¸ì˜ ê¶Œë¦¬ ì¹¨í•´</li>
                    <li>ì„œë¹„ìŠ¤ì˜ ì •ìƒì ì¸ ìš´ì˜ ë°©í•´</li>
                    <li>ë¶ˆë²•ì ì¸ ëª©ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ ì´ìš©</li>
                  </ul>
                  <p>2. íšŒì›ì€ ê´€ê³„ë²•ë ¹, ì´ ì•½ê´€ì˜ ê·œì •, ì´ìš©ì•ˆë‚´ ë° ì„œë¹„ìŠ¤ìƒì— ê³µì§€í•œ ì£¼ì˜ì‚¬í•­ì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ7ì¡° (íšŒì‚¬ì˜ ì˜ë¬´)</h3>
                <div class="space-y-3">
                  <p>1. íšŒì‚¬ëŠ” ì•ˆì •ì ì´ê³  ì§€ì†ì ì¸ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ìµœì„ ì„ ë‹¤í•©ë‹ˆë‹¤.</p>
                  <p>2. íšŒì‚¬ëŠ” íšŒì›ì˜ ê°œì¸ì •ë³´ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•´ ë³´ì•ˆ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³  ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì„ ê³µì‹œí•˜ê³  ì¤€ìˆ˜í•©ë‹ˆë‹¤.</p>
                  <p>3. íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì›ìœ¼ë¡œë¶€í„° ì œê¸°ëœ ì˜ê²¬ì´ë‚˜ ë¶ˆë§Œì´ ì •ë‹¹í•˜ë‹¤ê³  ê°ê´€ì ìœ¼ë¡œ ì¸ì •ë  ê²½ìš°ì—ëŠ” ì ì ˆí•œ ì ˆì°¨ë¥¼ ê±°ì³ ì¦‰ì‹œ ì²˜ë¦¬í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.</p>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ8ì¡° (ì±…ì„ì œí•œ)</h3>
                <div class="space-y-3">
                  <p>1. íšŒì‚¬ëŠ” ì²œì¬ì§€ë³€ ë˜ëŠ” ì´ì— ì¤€í•˜ëŠ” ë¶ˆê°€í•­ë ¥ìœ¼ë¡œ ì¸í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ëŠ” ì„œë¹„ìŠ¤ ì œê³µì— ê´€í•œ ì±…ì„ì´ ë©´ì œë©ë‹ˆë‹¤.</p>
                  <p>2. íšŒì‚¬ëŠ” íšŒì›ì˜ ê·€ì±…ì‚¬ìœ ë¡œ ì¸í•œ ì„œë¹„ìŠ¤ ì´ìš©ì˜ ì¥ì• ì— ëŒ€í•˜ì—¬ëŠ” ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                  <p>3. íšŒì‚¬ëŠ” íšŒì›ì´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ê¸°ëŒ€í•˜ëŠ” ìˆ˜ìµì„ ìƒì‹¤í•œ ê²ƒì— ëŒ€í•˜ì—¬ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                </div>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ9ì¡° (ë¶„ìŸí•´ê²°)</h3>
                <p>1. íšŒì‚¬ëŠ” ì´ìš©ìê°€ ì œê¸°í•˜ëŠ” ì •ë‹¹í•œ ì˜ê²¬ì´ë‚˜ ë¶ˆë§Œì„ ë°˜ì˜í•˜ê³  ê·¸ í”¼í•´ë¥¼ ë³´ìƒì²˜ë¦¬í•˜ê¸° ìœ„í•˜ì—¬ í”¼í•´ë³´ìƒì²˜ë¦¬ê¸°êµ¬ë¥¼ ì„¤ì¹˜Â·ìš´ì˜í•©ë‹ˆë‹¤.</p>
                <p>2. íšŒì‚¬ì™€ ì´ìš©ì ê°„ì— ë°œìƒí•œ ì „ììƒê±°ë˜ ë¶„ìŸì— ê´€í•˜ì—¬ëŠ” ì†Œë¹„ìë¶„ìŸì¡°ì •ìœ„ì›íšŒì˜ ì¡°ì •ì— ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
              </section>

              <section>
                <h3 class="text-lg font-semibold text-gray-800 mb-3">ì œ10ì¡° (ì¬íŒê¶Œ ë° ì¤€ê±°ë²•)</h3>
                <p>1. íšŒì‚¬ì™€ ì´ìš©ì ê°„ì— ë°œìƒí•œ ë¶„ìŸì— ê´€í•˜ì—¬ëŠ” ëŒ€í•œë¯¼êµ­ ë²•ì›ì— ì†Œì†¡ì„ ì œê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <p>2. íšŒì‚¬ì™€ ì´ìš©ì ê°„ì— ì œê¸°ëœ ì†Œì†¡ì—ëŠ” ëŒ€í•œë¯¼êµ­ ë²•ì„ ì ìš©í•©ë‹ˆë‹¤.</p>
                <p class="mt-3 text-sm text-gray-600">ì‹œí–‰ì¼: 2024ë…„ 1ì›” 1ì¼</p>
              </section>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ íŒì—… ì—´ê¸°
      function openPrivacyPolicy() {
        document.getElementById('privacy-modal').classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }

      // ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ íŒì—… ë‹«ê¸°
      function closePrivacyPolicy() {
        document.getElementById('privacy-modal').classList.add('hidden');
        document.body.style.overflow = 'auto';
      }

      // ì´ìš©ì•½ê´€ íŒì—… ì—´ê¸°
      function openTermsOfService() {
        document.getElementById('terms-modal').classList.remove('hidden');
        document.body.style.overflow = 'auto';
      }

      // ì´ìš©ì•½ê´€ íŒì—… ë‹«ê¸°
      function closeTermsOfService() {
        document.getElementById('terms-modal').classList.add('hidden');
        document.body.style.overflow = 'auto';
      }

      // ESC í‚¤ë¡œ íŒì—… ë‹«ê¸°
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closePrivacyPolicy();
          closeTermsOfService();
        }
      });

      // íŒì—… ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
      document.addEventListener('click', function(e) {
        if (e.target.classList.contains('backdrop-blur-sm')) {
          closePrivacyPolicy();
          closeTermsOfService();
        }
      });

      
    </script>
  </body>
</html>