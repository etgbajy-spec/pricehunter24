<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PriceHunter</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ì¹´ì¹´ì˜¤ SDK - CSP ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ìˆ˜ì • -->
    <script>
      // ì¹´ì¹´ì˜¤ SDK ë¡œë”© ìƒíƒœ í™•ì¸
      window.kakaoSDKLoaded = false;
      
      // ì¹´ì¹´ì˜¤ SDK ë™ì  ë¡œë”©
      function loadKakaoSDK() {
        return new Promise((resolve, reject) => {
          if (window.Kakao) {
            window.kakaoSDKLoaded = true;
            resolve();
            return;
          }
          
          const script = document.createElement('script');
          script.src = 'https://developers.kakao.com/sdk/js/kakao.js';
          script.onload = () => {
            window.kakaoSDKLoaded = true;
            resolve();
          };
          script.onerror = () => {
            console.warn('ì¹´ì¹´ì˜¤ SDK ë¡œë”© ì‹¤íŒ¨ - ì¼ë°˜ ë¡œê·¸ì¸ìœ¼ë¡œ ëŒ€ì²´');
            reject(new Error('ì¹´ì¹´ì˜¤ SDK ë¡œë”© ì‹¤íŒ¨'));
          };
          document.head.appendChild(script);
        });
      }
      
      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´ì¹´ì˜¤ SDK ë¡œë”© ì‹œë„
      loadKakaoSDK().catch(() => {
        console.log('ì¹´ì¹´ì˜¤ SDK ë¡œë”© ì‹¤íŒ¨ - ì¼ë°˜ ë¡œê·¸ì¸ë§Œ ì‚¬ìš© ê°€ëŠ¥');
      });
    </script>
  </head>
  <body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 min-h-screen">
    <section class="relative w-full min-h-[70vh] flex flex-col items-center justify-center text-center px-4 py-20 bg-gradient-to-br from-gray-900 to-gray-700 overflow-hidden">
      <!-- ë°°ê²½ ê·¸ë˜í”½/ë¸”ëŸ¬ íš¨ê³¼ -->
      <div class="absolute inset-0 pointer-events-none z-0">
        <div class="absolute -top-32 -left-32 w-96 h-96 bg-yellow-400 opacity-20 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 right-0 w-80 h-80 bg-pink-400 opacity-20 rounded-full blur-2xl"></div>
      </div>
      <!-- Hero ì½˜í…ì¸  -->
      <div class="relative z-10 max-w-7xl mx-auto flex flex-col items-center animate-fadein-up w-full">
        <!-- ì•„ì´ì½˜/ì¼ëŸ¬ìŠ¤íŠ¸ -->
        <div class="mb-10 animate-bounce-slow w-full flex justify-center items-center gap-4">
          <span class="text-3xl md:text-5xl font-extrabold text-blue-400 drop-shadow-lg">PriceHunter</span>
          <svg class="w-24 h-24 md:w-40 md:h-40 text-yellow-300 drop-shadow-xl" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48" aria-hidden="true">
            <circle cx="22" cy="22" r="12" stroke="currentColor" />
            <line x1="34" y1="34" x2="44" y2="44" stroke="currentColor" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="flex flex-col items-center w-full max-w-5xl mx-auto">
          <h1 class="text-3xl sm:text-4xl md:text-6xl font-extrabold text-white mb-8 md:mb-12 drop-shadow-lg tracking-tight leading-[1.5] md:leading-[1.15] text-center w-full">
            ì¸í„°ë„·ì—ì„œ ë³¸ ê°€ê²©<span id="admin-hero-trigger">,</span><br class="hidden md:inline" />
            ì •ë§ <span class="text-yellow-300">ìµœì €ê°€</span>ì¼ê¹Œ?
      </h1>
          <p class="text-lg sm:text-xl md:text-3xl text-gray-200 mb-8 md:mb-12 font-medium leading-relaxed whitespace-pre-line text-center w-full">
            ë‚´ê°€ ì°¾ì€ ì œí’ˆ, ë” ì‹¸ê²Œ ì‚´ ìˆ˜ ìˆì—ˆëŠ”ë°...<br />
            ğŸ’¸ ì§ì ‘ ê°€ê²© ì°¾ëŠ” ì‹œê°„ ë‚­ë¹„ëŠ” ê·¸ë§Œ!<br />
            <span class="text-yellow-200 font-bold">ê³ ê°ë‹˜ì´ ë³¸ ê°€ê²©ë³´ë‹¤ ë” ì €ë ´í•œ ê°€ê²©ì„ ìš°ë¦¬ê°€ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤.</span>
          </p>
          <div class="flex flex-col items-center w-full gap-4">
            <button id="request-v2-btn"
              class="inline-block px-12 md:px-20 py-6 md:py-8 bg-pink-500 text-white text-2xl md:text-4xl font-extrabold rounded-full shadow-2xl hover:bg-pink-600 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-pink-300 animate-fadein-up text-center mb-2"
              style="box-shadow:0 8px 32px 0 rgba(0,0,0,0.18);"
                      aria-label="ìµœì €ê°€ ìš”ì²­í•˜ê¸°">
        ğŸš€ ìµœì €ê°€ ìš”ì²­í•˜ê¸°
            </button>
            <a href="support.html"
              class="inline-block px-8 md:px-12 py-4 md:py-6 bg-yellow-200 text-pink-700 text-lg md:text-2xl font-bold rounded-full shadow-xl hover:bg-yellow-300 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-yellow-300 animate-fadein-up text-center border-2 border-pink-300"
              aria-label="êµ¬ë§¤ ì „ í•„ë…ì‚¬í•­ ì½ê¸°">
              ğŸ“¢ êµ¬ë§¤ ì „ <span class="underline">í•„ë…ì‚¬í•­</span> ì½ê¸°
            </a>
            <a href="notice.html"
              class="inline-block px-8 md:px-12 py-4 md:py-6 bg-blue-100 text-blue-800 text-lg md:text-2xl font-bold rounded-full shadow-xl hover:bg-blue-200 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300 animate-fadein-up text-center border-2 border-blue-300 mt-2"
              aria-label="ê°€ê²© ì•ˆë‚´ ë° ìœ ì˜ì‚¬í•­ ì „ì²´ë³´ê¸°">
              ğŸ“ ê°€ê²© ì•ˆë‚´ ë° ìœ ì˜ì‚¬í•­ ì „ì²´ë³´ê¸°
            </a>
            <div class="text-pink-200 text-base md:text-xl mt-2 animate-fadein-up text-center">êµ¬ë§¤ ì „ <span class="underline">í•„ë…ì‚¬í•­</span>ì„ ê¼­ í™•ì¸í•´ ì£¼ì„¸ìš”!</div>
          </div>
          <div class="mt-8 md:mt-12 animate-fadein-up-slow w-full flex justify-center">
            <span class="text-gray-300 text-base md:text-2xl flex items-center gap-2">
              <svg class="w-6 h-6 md:w-8 md:h-8 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
              ìŠ¤í¬ë¡¤í•´ì„œ ë” ì•Œì•„ë³´ê¸°
            </span>
          </div>
        </div>
      </div>
      <style>
        @keyframes fadein-up { 0% { opacity: 0; transform: translateY(40px);} 100% { opacity: 1; transform: translateY(0);} }
        .animate-fadein-up { animation: fadein-up 1.2s cubic-bezier(.4,0,.2,1) both; }
        @keyframes fadein-up-slow { 0% { opacity: 0; transform: translateY(60px);} 100% { opacity: 1; transform: translateY(0);} }
        .animate-fadein-up-slow { animation: fadein-up-slow 2.2s cubic-bezier(.4,0,.2,1) both; }
        @keyframes bounce-slow { 0%, 100% { transform: translateY(0);} 50% { transform: translateY(-18px);} }
        .animate-bounce-slow { animation: bounce-slow 2.2s infinite; }
      </style>
    </section>
      <!-- ê³ ê°ì˜ ì§„ì§œ ê³ ë¯¼, ìš°ë¦¬ê°€ í•´ê²°í•©ë‹ˆë‹¤ ì„¹ì…˜ -->
      <section class="w-full py-20 px-4 bg-gradient-to-b from-white/80 to-blue-50 relative">
        <div class="max-w-4xl mx-auto flex flex-col items-center">
          <h2 class="text-2xl md:text-4xl font-extrabold text-blue-800 text-center mb-10 drop-shadow-lg animate-fadein-up">ê³ ê°ì˜ ì§„ì§œ ê³ ë¯¼, <span class="text-pink-500">ìš°ë¦¬ê°€ í•´ê²°í•©ë‹ˆë‹¤</span></h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 w-full">
            <!-- ìŠ¤í† ë¦¬ ì¹´ë“œ 1 -->
            <div class="bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center animate-fadein-up" style="animation-delay:0.1s;">
              <div class="mb-4">
                <svg class="w-14 h-14 text-blue-400 mx-auto" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 32 32"><path d="M16 4a12 12 0 1 0 0 24A12 12 0 0 0 16 4Zm0 0v8m0 8h.01" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </div>
              <div class="font-bold text-lg text-gray-800 mb-2">"ì¸í„°ë„· ìµœì €ê°€ë¼ ìƒ€ëŠ”ë°, ë©°ì¹  ë’¤ ë” ì‹¸ê²Œ íŒŒëŠ” ê³³ì„ ë°œê²¬..."</div>
              <div class="text-gray-500 text-base mb-3">- ê¹€OO, 30ëŒ€ ì§ì¥ì¸</div>
              <div class="text-gray-700 text-sm">ì§ì ‘ ê°€ê²© ë¹„êµì— ì§€ì³ ê²°êµ­ ìƒ€ì§€ë§Œ, ë‚˜ì¤‘ì— ë” ì €ë ´í•œ ê³³ì„ ì•Œê²Œ ë˜ì–´ ì†ìƒí–ˆì–´ìš”. PriceHunter ë•ë¶„ì— ì§„ì§œ ìµœì €ê°€ë¥¼ ë†“ì¹˜ì§€ ì•Šê²Œ ëìŠµë‹ˆë‹¤!</div>
            </div>
            <!-- ìŠ¤í† ë¦¬ ì¹´ë“œ 2 -->
            <div class="bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center animate-fadein-up" style="animation-delay:0.3s;">
              <div class="mb-4">
                <svg class="w-14 h-14 text-emerald-400 mx-auto" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 32 32"><path d="M8 16h16M8 16l6-6m-6 6l6 6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </div>
              <div class="font-bold text-lg text-gray-800 mb-2">"í•´ì™¸ì§êµ¬ê°€ ë” ì‹¸ë‹¤ê¸¸ë˜ ì‹œë„í–ˆë‹¤ê°€, ë³µì¡í•œ í†µê´€Â·ë°°ì†¡ì— í¬ê¸°..."</div>
              <div class="text-gray-500 text-base mb-3">- ì´OO, 20ëŒ€ ëŒ€í•™ìƒ</div>
              <div class="text-gray-700 text-sm">ì§êµ¬ ì •ë³´ ì°¾ê³ , ë°°ì†¡ëŒ€í–‰ ì‹ ì²­ê¹Œì§€ ë„ˆë¬´ ë³µì¡í–ˆì–´ìš”. PriceHunterê°€ ëŒ€ì‹  ì•Œì•„ë´ì£¼ë‹ˆ ì‰½ê³  ë¹ ë¥´ê²Œ ìµœì €ê°€ë¡œ ì‚´ ìˆ˜ ìˆì—ˆì–´ìš”!</div>
            </div>
            <!-- ìŠ¤í† ë¦¬ ì¹´ë“œ 3 -->
            <div class="bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center animate-fadein-up" style="animation-delay:0.5s;">
              <div class="mb-4">
                <svg class="w-14 h-14 text-pink-400 mx-auto" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 32 32"><circle cx="16" cy="16" r="12" stroke="currentColor"/><path d="M12 20c1.5-2 6.5-2 8 0" stroke-linecap="round"/><circle cx="12" cy="14" r="1.5" fill="currentColor"/><circle cx="20" cy="14" r="1.5" fill="currentColor"/></svg>
              </div>
              <div class="font-bold text-lg text-gray-800 mb-2">"ë¹„ë¸Œëœë“œ ì œí’ˆ, ì •ë³´ë„ ì—†ê³  í›„ê¸° ì°¾ê¸°ë„ í˜ë“¤ì—ˆëŠ”ë°..."</div>
              <div class="text-gray-500 text-base mb-3">- ë°•OO, 40ëŒ€ ì£¼ë¶€</div>
              <div class="text-gray-700 text-sm">ê²€ìƒ‰í•´ë„ ì •ë³´ê°€ ë¶€ì¡±í•´ ë§ì„¤ì˜€ëŠ”ë°, PriceHunterê°€ ìƒì„¸ ë¹„êµì™€ í›„ê¸°ê¹Œì§€ ì•ˆë‚´í•´ì¤˜ì„œ ì•ˆì‹¬í•˜ê³  êµ¬ë§¤í–ˆì–´ìš”.</div>
            </div>
          </div>
          <div class="mt-12 text-xl text-blue-700 font-bold animate-fadein-up" style="animation-delay:0.7s;">
            <span class="bg-yellow-100 px-4 py-2 rounded-full shadow">ê³ ê°ì˜ ê³ ë¯¼, PriceHunterê°€ ì§ì ‘ í•´ê²°í•´ë“œë¦½ë‹ˆë‹¤!</span>
          </div>
        </div>
        <style>
          .animate-fadein-up { animation: fadein-up 1.2s cubic-bezier(.4,0,.2,1) both; }
          @keyframes fadein-up { 0% { opacity: 0; transform: translateY(40px);} 100% { opacity: 1; transform: translateY(0);} }
        </style>
      </section>
    <div id="request-form-area"></div>
    <!-- ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ (ìˆ¨ê¹€) -->
    <div class="fixed top-4 right-4 z-50">
    </div>
    <!-- ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ë³´ì´ëŠ” ì˜ë¢° ê²°ê³¼ ì…ë ¥ ë²„íŠ¼ -->
    <button id="admin-result-btn" class="fixed top-20 right-4 z-50 px-4 py-2 bg-pink-600 text-white rounded-lg shadow hover:bg-pink-700 transition hidden" aria-label="ì˜ë¢° ê²°ê³¼ ì…ë ¥" title="ì˜ë¢° ê²°ê³¼ ì…ë ¥">ì˜ë¢° ê²°ê³¼ ì…ë ¥</button>
    <!-- ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ë³´ì´ëŠ” 1:1 ë¬¸ì˜ í™•ì¸ ë²„íŠ¼ -->
    <button id="admin-inquiry-btn" class="fixed top-32 right-4 z-50 px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition hidden" aria-label="1:1 ë¬¸ì˜ í™•ì¸" title="1:1 ë¬¸ì˜ í™•ì¸">1:1 ë¬¸ì˜ í™•ì¸</button>
    <!-- ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ë³´ì´ëŠ” íšŒì› ê´€ë¦¬ ë²„íŠ¼ -->
            <button id="admin-member-btn" class="fixed top-44 right-4 z-50 px-4 py-2 bg-purple-600 text-white rounded-lg shadow hover:bg-purple-700 transition hidden" aria-label="íšŒì› ê´€ë¦¬" title="íšŒì› ê´€ë¦¬">íšŒì› ê´€ë¦¬</button>
        <button id="admin-cleanup-btn" class="fixed top-56 right-4 z-50 px-4 py-2 bg-red-600 text-white rounded-lg shadow hover:bg-red-700 transition hidden" aria-label="í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬" title="í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬" onclick="cleanupTestData()">ğŸ§¹ ì •ë¦¬</button>
    <!-- ê´€ë¦¬ì í•´ì œ ë²„íŠ¼ (ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ë…¸ì¶œ) -->
    <button id="admin-logout-btn" class="fixed top-4 right-4 z-50 px-4 py-2 bg-gray-800 text-white rounded-lg shadow hover:bg-amber-500 transition hidden" aria-label="ê´€ë¦¬ì í•´ì œ" title="ê´€ë¦¬ì í•´ì œ">ê´€ë¦¬ì í•´ì œ</button>
    <!-- ì €ë ´í•˜ê²Œ êµ¬ì…í•œ ì‚¬ë¡€ ì„¹ì…˜: main ë°”ê¹¥, ì „ì²´ í­ -->
    <section class="mt-24 mb-10 max-w-7xl mx-auto px-2">
      <div class="flex flex-col items-center mb-12">
        <h2 class="relative text-3xl md:text-4xl font-extrabold text-blue-800 text-center tracking-tight drop-shadow-lg mb-3">
          <span class="px-6 py-2 bg-gradient-to-r from-blue-100 via-white to-emerald-100 rounded-2xl shadow-md inline-block">
            ì €ë ´í•˜ê²Œ êµ¬ì…í•œ ì‚¬ë¡€
          </span>
          <span class="block w-24 h-1 bg-gradient-to-r from-blue-400 via-emerald-400 to-pink-300 rounded-full mx-auto mt-4"></span>
        </h2>
        <p class="text-lg md:text-xl text-gray-500 font-medium mt-2 text-center">ì‹¤ì œ êµ¬ë§¤ìë“¤ì˜ ìƒìƒí•œ í›„ê¸°ì™€ ìµœì €ê°€ êµ¬ë§¤ ì„±ê³µ ìŠ¤í† ë¦¬</p>
      </div>
      <div id="case-slider-wrapper" class="relative w-full max-w-7xl mx-auto">
        <div id="case-slider" class="flex overflow-x-auto no-scrollbar snap-x snap-mandatory gap-2 sm:gap-8 py-2 sm:py-4 transition-all duration-500">
          <!-- ìŠ¬ë¼ì´ë“œ ì•„ì´í…œì´ JSë¡œ ë Œë”ë§ë¨ -->
        </div>
        <!-- ì¢Œìš° ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
        <button id="case-prev" class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 rounded-full shadow p-2 z-10 hidden md:block" aria-label="ì´ì „ ì‚¬ë¡€ ë³´ê¸°" title="ì´ì „ ì‚¬ë¡€ ë³´ê¸°"><svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
        <button id="case-next" class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 rounded-full shadow p-2 z-10 hidden md:block" aria-label="ë‹¤ìŒ ì‚¬ë¡€ ë³´ê¸°" title="ë‹¤ìŒ ì‚¬ë¡€ ë³´ê¸°"><svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
      </div>
    </section>
    <script>
        // 1. ë³µêµ¬ IIFE
        (function() {
          const saved = localStorage.getItem('caseProducts');
          if (saved) {
            try {
              const arr = JSON.parse(saved);
              if (Array.isArray(arr) && arr.length === 0) {
                localStorage.removeItem('caseProducts');
              }
            } catch (e) {}
          }
        })();
        
        // 2. getCaseProducts í•¨ìˆ˜ (16ê°œ ì˜ˆì‹œ ì¹´ë“œë§Œ)
        function getCaseProducts() {
          const saved = localStorage.getItem('caseProducts');
          if (saved) {
            try {
              const arr = JSON.parse(saved);
              if (Array.isArray(arr) && arr.length > 0) return arr;
            } catch (e) {}
          }
          // 16ê°œ ì˜ˆì‹œ ì¹´ë“œ (ë”ë¯¸ ë°ì´í„°)
          const defaults = [
            { name: "í™ê¸¸ë™, 20ëŒ€ ê°œë°œì", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ë…¸íŠ¸ë¶ì„ ì •ë§ ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "ë°°ì†¡ë„ ë¹ ë¥´ê³  ë§Œì¡±í•©ë‹ˆë‹¤.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-01" },
            { name: "ê¹€ì˜í¬, 30ëŒ€ ë””ìì´ë„ˆ", img: "https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=600&q=80", desc: "ëª¨ë‹ˆí„°ë¥¼ ì €ë ´í•˜ê²Œ ë“í…œ!", review: "í™”ì§ˆë„ ì¢‹ê³  ê°€ê²©ë„ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.5, date: "2024-07-02" },
            { name: "ì´ì² ìˆ˜, 40ëŒ€ ìì˜ì—…ì", img: "https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80", desc: "ì‚¬ë¬´ìš©í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ ì„±ê³µ!", review: "ë¹ ë¥¸ ë°°ì†¡, ì €ë ´í•œ ê°€ê²©!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-07-03" },
            { name: "ë°•ë¯¼ìˆ˜, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1512499617640-c2f999098c01?auto=format&fit=crop&w=600&q=80", desc: "íƒœë¸”ë¦¿ì„ ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "í•™ìƒ í• ì¸ê¹Œì§€ ë°›ì•„ì„œ êµ¿!", country: "ëŒ€í•œë¯¼êµ­", shipping: "4ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-07-04" },
            { name: "ìµœì§€ì€, 30ëŒ€ ì£¼ë¶€", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", desc: "ê°€ì „ì œí’ˆ ì €ë ´í•˜ê²Œ êµ¬ì…!", review: "ë¯¿ê³  êµ¬ë§¤í–ˆì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-05" },
            { name: "ì •ìš°ì„±, 40ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ìŠ¤ë§ˆíŠ¸ì›Œì¹˜ ë“í…œ!", review: "ê¸°ëŠ¥ë„ ë§ê³  ì €ë ´!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.7, date: "2024-07-06" },
            { name: "í•œê°€ì˜, 20ëŒ€ ì‹ í˜¼ë¶€ë¶€", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", desc: "ì‹ í˜¼ê°€ì „ ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "ë°°ì†¡ë„ ë¹ ë¥´ê³  ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-07" },
            { name: "ì˜¤ì¤€í˜¸, 30ëŒ€ 1ì¸ê°€êµ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ìƒí™œìš©í’ˆ ì €ë ´í•˜ê²Œ!", review: "í˜¼ì ì‚¬ëŠ”ë° ë”±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.6, date: "2024-07-08" },
            { name: "ìœ ìˆ˜ì§„, 60ëŒ€ ë¶€ëª¨ë‹˜ ì„ ë¬¼", img: "https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=600&q=80", desc: "ì•ˆë§ˆê¸° ì‹¸ê²Œ ìƒ€ì–´ìš”!", review: "ë¶€ëª¨ë‹˜ì´ ì¢‹ì•„í•˜ì…¨ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-09" },
            { name: "ì¥ë™ê±´, 10ëŒ€ í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "í•™ìš©í’ˆ, ITê¸°ê¸°ê¹Œì§€!", review: "ë…¸íŠ¸ë¶, íƒœë¸”ë¦¿ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.9, date: "2024-07-10" },
            { name: "ì„œì§€í›ˆ, 30ëŒ€ ì·¨ë¯¸ëŸ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì·¨ë¯¸ìš©í’ˆ ì €ë ´í•˜ê²Œ!", review: "ê¸°íƒ€, ìº í•‘ìš©í’ˆ, ìš´ë™ê¸°êµ¬ê¹Œì§€ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-11" },
            { name: "ë¬¸ì§€í˜„, 40ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "íŒ¨ì…˜/ì¡í™”ë„ OK!", review: "ê°€ë°©, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.6, date: "2024-07-12" },
            { name: "ì´í•˜ë‚˜, 30ëŒ€ í”„ë¦¬ëœì„œ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì‚¬ë¬´ìš©í’ˆë„ ìµœì €ê°€!", review: "í”„ë¦°í„°, ëª¨ë‹ˆí„°, ì˜ìê¹Œì§€ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-07-13" },
            { name: "ìµœìœ ë¦¬, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì „ìê¸°ê¸°ë„ ì €ë ´í•˜ê²Œ!", review: "ìŠ¤ë§ˆíŠ¸í°, ì´ì–´í°, ë…¸íŠ¸ë¶ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-07-14" },
            { name: "ë°•ìƒë¯¼, 40ëŒ€ ì‚¬ì—…ì", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", desc: "ì‚¬ë¬´ì‹¤ ë¹„í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ ì„±ê³µ!", review: "í”„ë¦°í„°, ì˜ì, ì±…ìƒ ë“± ëŒ€ëŸ‰êµ¬ë§¤ë„ ë¹ ë¥´ê³  ì €ë ´!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-07-15" }
          ];
          localStorage.setItem('caseProducts', JSON.stringify(defaults));
          return defaults;
        }
        
        // 3. let caseSamples = getCaseProducts();
        let caseSamples = getCaseProducts();
        
        // 4. renderCaseSlider í•¨ìˆ˜ ì •ì˜ (ë³µì‚¬í•´ì£¼ì‹  ì½”ë“œ ê·¸ëŒ€ë¡œ)
        const adminComments = [
          "ì´ ì‚¬ë¡€ëŠ” ì‹¤ì œ ê²€ì¦ëœ í›„ê¸°ì…ë‹ˆë‹¤!",
          "ê´€ë¦¬ìê°€ ì§ì ‘ í™•ì¸í•œ êµ¬ë§¤ ì„±ê³µ ì‚¬ë¡€ì…ë‹ˆë‹¤.",
          "ì‹¤ì œ êµ¬ë§¤ì ì¸ì¦ ì™„ë£Œ!",
          "ë¯¿ê³  ë§¡ê²¨ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.",
          "ì‹¤ì œ ë°°ì†¡/êµ¬ë§¤ ë‚´ì—­ í™•ì¸ ì™„ë£Œ!"
        ];
       function renderCaseSlider() {
  const slider = document.getElementById('case-slider');
  slider.innerHTML = caseSamples.map((p, i) => `
    <div class="bg-white/90 rounded-3xl shadow-2xl overflow-hidden flex flex-col items-center p-8 m-2 w-80 min-w-[320px] max-w-xs snap-center transition-transform duration-500 cursor-pointer group" data-idx="${i}">
      <img src="${p.img}" alt="${p.name}" class="w-full h-48 object-cover rounded-2xl mb-4 shadow-2xl lazy-image" loading="lazy" />
      <div class="flex items-center justify-center gap-2 mb-2 w-full">
        <span class="flex-shrink-0 bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-xs font-bold text-center">${p.badge}</span>
        <span class="text-yellow-400 text-lg flex-shrink-0">${'â˜…'.repeat(Math.floor(p.stars))}${p.stars % 1 ? 'Â½' : ''}</span>
        <span class="text-gray-400 text-xs flex-shrink-0">${p.date}</span>
      </div>
      <div class="text-gray-800 font-bold text-xl mb-1 w-full text-center">${p.name}</div>
      <div class="text-gray-500 text-base w-full text-center mb-2">${p.desc}</div>
      <div class="text-gray-700 text-sm w-full text-center mb-2">${p.review}</div>
      <div class="flex flex-wrap gap-2 justify-center text-xs text-gray-500 mb-2 w-full">
        <span>êµ­ê°€: ${p.country}</span>
        <span>ë°°ì†¡: ${p.shipping}</span>
        <span>ë°©ë²•: ${p.method}</span>
      </div>
      <div class="text-xs text-blue-500 mt-2 mb-2 w-full text-center">ğŸ’¬ ${adminComments[Math.floor(Math.random()*adminComments.length)]}</div>
      <button class="case-detail-btn px-4 py-2 bg-blue-100 text-blue-700 rounded-lg shadow hover:bg-blue-200 transition text-sm font-bold mt-auto" aria-label="ì‚¬ë¡€ ìƒì„¸ë³´ê¸°" title="ì‚¬ë¡€ ìƒì„¸ë³´ê¸°">ìƒì„¸ë³´ê¸°</button>
    </div>
  `).join('');
  // ìƒì„¸ë³´ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
  Array.from(slider.getElementsByClassName('case-detail-btn')).forEach((btn, idx) => {
    btn.onclick = function(e) {
      e.stopPropagation();
      openCaseModal(idx);
    };
  });
  // ì¹´ë“œ ì „ì²´ í´ë¦­ë„ ìƒì„¸ë³´ê¸°
  Array.from(slider.children).forEach((card, idx) => {
    card.onclick = function(e) {
      if (e.target.classList.contains('case-detail-btn')) return;
      openCaseModal(idx);
    };
  });
  // â˜…â˜…â˜… ì—¬ê¸°ë¶€í„° ì¶”ê°€! â˜…â˜…â˜…
  const prevBtn = document.getElementById('case-prev');
  const nextBtn = document.getElementById('case-next');
  if (prevBtn && nextBtn && slider) {
    const card = slider.querySelector('div');
    let cardWidth = card ? card.offsetWidth + 16 : 340;
    prevBtn.onclick = function() {
      slider.scrollBy({ left: -cardWidth, behavior: 'smooth' });
    };
    nextBtn.onclick = function() {
      slider.scrollBy({ left: cardWidth, behavior: 'smooth' });
    };
  }
}
        
        
        // 5. renderCaseSlider() í•¨ìˆ˜ í˜¸ì¶œ
        renderCaseSlider();
        
        // ì´ë¯¸ì§€ Lazy Loading êµ¬í˜„
        function initLazyLoading() {
          const lazyImages = document.querySelectorAll('.lazy-image');
          
          const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                const img = entry.target;
                img.classList.add('loaded');
                observer.unobserve(img);
              }
            });
          });
          
          lazyImages.forEach(img => {
            imageObserver.observe(img);
          });
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ Lazy Loading ì´ˆê¸°í™”
        window.addEventListener('load', initLazyLoading);
        </script>
    <!-- íšŒì›ê°€ì…/ë¡œê·¸ì¸/ë§ˆì´í˜ì´ì§€/ë¡œê·¸ì•„ì›ƒ/ì˜ë¢°ê²°ê³¼ì¡°íšŒ ë²„íŠ¼ ì˜ì—­ -->
    <div class="fixed top-4 left-4 z-50 flex gap-1 sm:gap-2">
      <a href="about.html" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-blue-100 text-blue-700 rounded-lg shadow hover:bg-blue-200 transition" aria-label="ì†Œê°œ í˜ì´ì§€ë¡œ ì´ë™" title="ì†Œê°œ">ì†Œê°œ</a>
      <a href="support.html" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-emerald-100 text-emerald-700 rounded-lg shadow hover:bg-emerald-200 transition" aria-label="FAQ í˜ì´ì§€ë¡œ ì´ë™" title="FAQ">FAQ</a>
      <a href="contact.html" id="contact-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-pink-100 text-pink-700 rounded-lg shadow hover:bg-pink-200 transition hidden" aria-label="1:1 ë¬¸ì˜í•˜ê¸° í˜ì´ì§€ë¡œ ì´ë™" title="1:1 ë¬¸ì˜í•˜ê¸°">1:1ë¬¸ì˜í•˜ê¸°</a>
      <button id="login-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-gray-700 text-white rounded-lg shadow hover:bg-gray-800 focus:ring-2 focus:ring-blue-400 focus:outline-none transition" aria-label="ë¡œê·¸ì¸" title="ë¡œê·¸ì¸">ë¡œê·¸ì¸</button>
      <button id="signup-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 focus:ring-2 focus:ring-blue-400 focus:outline-none transition" aria-label="íšŒì›ê°€ì…" title="íšŒì›ê°€ì…">íšŒì›ê°€ì…</button>
      <button id="kakao-login-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-yellow-400 text-black rounded-lg shadow hover:bg-yellow-500 focus:ring-2 focus:ring-yellow-400 focus:outline-none transition flex items-center gap-2" aria-label="ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸" title="ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸">
        <span class="text-lg">ğŸ’¬</span>
        ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
      </button>
      <button id="mypage-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-emerald-500 text-white rounded-lg shadow hover:bg-emerald-600 focus:ring-2 focus:ring-emerald-400 focus:outline-none transition hidden" aria-label="ë§ˆì´í˜ì´ì§€" title="ë§ˆì´í˜ì´ì§€">ë§ˆì´í˜ì´ì§€</button>
      <a href="orders.html" id="orders-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-orange-500 text-white rounded-lg shadow hover:bg-orange-600 focus:ring-2 focus:ring-orange-400 focus:outline-none transition hidden" aria-label="ì£¼ë¬¸ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™" title="ì£¼ë¬¸ëª©ë¡">ì£¼ë¬¸ëª©ë¡</a>
      <button id="logout-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-gray-400 text-white rounded-lg shadow hover:bg-gray-500 focus:ring-2 focus:ring-gray-400 focus:outline-none transition hidden" aria-label="ë¡œê·¸ì•„ì›ƒ" title="ë¡œê·¸ì•„ì›ƒ">ë¡œê·¸ì•„ì›ƒ</button>
      <a href="result-search.html" id="result-btn" class="px-3 py-2 sm:px-4 sm:py-3 min-h-[44px] min-w-[44px] text-sm sm:text-base md:text-lg bg-pink-500 text-white rounded-lg shadow hover:bg-pink-600 focus:ring-2 focus:ring-pink-400 focus:outline-none transition hidden" aria-label="ì˜ë¢°ê²°ê³¼ì¡°íšŒ í˜ì´ì§€ë¡œ ì´ë™" title="ì˜ë¢°ê²°ê³¼ì¡°íšŒ">ì˜ë¢°ê²°ê³¼ì¡°íšŒ</a>
    </div>
    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div id="signup-modal" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="signup-modal-title">
      <div class="bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-xs sm:max-w-md md:max-w-2xl relative">
        <button id="close-signup" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl" aria-label="íšŒì›ê°€ì… ì°½ ë‹«ê¸°" title="íšŒì›ê°€ì… ì°½ ë‹«ê¸°">&times;</button>
        <h2 id="signup-modal-title" class="text-2xl font-bold text-center mb-6 text-blue-600">íšŒì›ê°€ì…</h2>
        
        <!-- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì„¹ì…˜ -->
        <div class="mb-6">
          <div class="text-center mb-4">
            <span class="text-gray-500 text-sm">ê°„í¸í•˜ê²Œ ì¹´ì¹´ì˜¤ë¡œ ì‹œì‘í•˜ê¸°</span>
          </div>
          <button type="button" id="signup-kakao-login-btn" class="w-full py-3 bg-yellow-400 text-black font-bold rounded-lg shadow hover:bg-yellow-500 transition text-lg flex items-center justify-center gap-2" aria-label="ì¹´ì¹´ì˜¤ë¡œ íšŒì›ê°€ì…/ë¡œê·¸ì¸" title="ì¹´ì¹´ì˜¤ë¡œ íšŒì›ê°€ì…/ë¡œê·¸ì¸">
            <span class="text-lg">ğŸ’¬</span>
            ì¹´ì¹´ì˜¤ë¡œ íšŒì›ê°€ì…/ë¡œê·¸ì¸
          </button>
        </div>
        
        <div class="relative mb-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-gray-500">ë˜ëŠ” ì§ì ‘ ì…ë ¥í•˜ê¸°</span>
          </div>
        </div>
        
        <form id="signup-form" class="space-y-4">
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="signup-name">ì´ë¦„</label>
            <input type="text" id="signup-name" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" aria-label="ì´ë¦„" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="signup-birth">ìƒë…„ì›”ì¼</label>
            <input type="date" id="signup-birth" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" aria-label="ìƒë…„ì›”ì¼" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="signup-phone">íœ´ëŒ€í°ë²ˆí˜¸</label>
            <div class="flex gap-2">
              <input type="tel" id="signup-phone" required pattern="[0-9]{11}" placeholder="01012345678" class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 flex-1 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" aria-label="íœ´ëŒ€í°ë²ˆí˜¸" />
              <button type="button" id="certify-btn" class="px-3 py-2 bg-emerald-500 text-white rounded-lg shadow hover:bg-emerald-600 transition text-sm" aria-label="ë³¸ì¸ì¸ì¦" title="ë³¸ì¸ì¸ì¦">ë³¸ì¸ì¸ì¦</button>
            </div>
            <div id="certify-success" class="text-emerald-600 text-sm mt-1 hidden flex items-center gap-1 animate-fadein">
              <svg class="w-4 h-4 text-emerald-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8 12l2 2 4-4" stroke-linecap="round" stroke-linejoin="round"/></svg>
              <span>ë³¸ì¸ì¸ì¦ ì™„ë£Œ</span>
            </div>
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="signup-email">ì´ë©”ì¼(ì•„ì´ë””)</label>
            <input type="email" id="signup-email" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" aria-label="ì´ë©”ì¼(ì•„ì´ë””)" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="signup-password">ë¹„ë°€ë²ˆí˜¸</label>
            <input type="password" id="signup-password" required minlength="6" class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" aria-label="ë¹„ë°€ë²ˆí˜¸" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="signup-password2">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
            <input type="password" id="signup-password2" required minlength="6" class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" aria-label="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" />
            <div id="pw-match-error" class="text-red-500 text-sm mt-1 hidden flex items-center gap-1 animate-fadein">
              <svg class="w-4 h-4 text-red-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="8" y1="8" x2="16" y2="16"/><line x1="16" y1="8" x2="8" y2="16"/></svg>
              <span>ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
            </div>
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="signup-kakao">ì¹´ì¹´ì˜¤ID (ì„ íƒ)</label>
            <input type="text" id="signup-kakao" class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" aria-label="ì¹´ì¹´ì˜¤ID (ì„ íƒ)" />
          </div>
          <button type="submit" id="signup-submit" class="w-full py-3 bg-blue-500 text-white font-bold rounded-lg shadow hover:bg-blue-600 transition text-lg" aria-label="íšŒì›ê°€ì… ì™„ë£Œ" title="íšŒì›ê°€ì… ì™„ë£Œ" disabled>íšŒì›ê°€ì… ì™„ë£Œ</button>
        </form>
      </div>
    </div>
    <div id="signup-success" class="text-emerald-600 text-center mt-3 hidden flex items-center justify-center gap-2 animate-fadein">
      <svg class="w-5 h-5 text-emerald-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8 12l2 2 4-4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span>íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</span>
    </div>
    <!-- ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ -->
    <div id="mypage-modal" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="mypage-modal-title">
      <div class="bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-xs sm:max-w-md md:max-w-2xl relative">
        <button id="close-mypage" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl" aria-label="ë§ˆì´í˜ì´ì§€ ì°½ ë‹«ê¸°" title="ë§ˆì´í˜ì´ì§€ ì°½ ë‹«ê¸°">&times;</button>
        <h2 id="mypage-modal-title" class="text-2xl font-bold text-center mb-6 text-emerald-600">ë‚´ ì •ë³´</h2>
        <form id="mypage-form" class="space-y-4">
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="mypage-name">ì´ë¦„</label>
            <input type="text" id="mypage-name" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-400 focus:outline-none bg-gray-100 cursor-not-allowed" readonly aria-label="ì´ë¦„" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="mypage-email">ì´ë©”ì¼</label>
            <input type="email" id="mypage-email" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-400 focus:outline-none bg-gray-100 cursor-not-allowed" readonly aria-label="ì´ë©”ì¼" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="mypage-phone">íœ´ëŒ€í°ë²ˆí˜¸</label>
            <input type="tel" id="mypage-phone" required pattern="[0-9]{11}" class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-400 focus:outline-none bg-gray-100 cursor-not-allowed" readonly aria-label="íœ´ëŒ€í°ë²ˆí˜¸" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="mypage-kakao">ì¹´ì¹´ì˜¤ID</label>
            <input type="text" id="mypage-kakao" class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-400 focus:outline-none" aria-label="ì¹´ì¹´ì˜¤ID" />
          </div>
          <button type="submit" class="w-full py-3 bg-emerald-500 text-white font-bold rounded-lg shadow hover:bg-emerald-600 transition text-lg" aria-label="ì •ë³´ ìˆ˜ì •" title="ì •ë³´ ìˆ˜ì •">ì •ë³´ ìˆ˜ì •</button>
        </form>
        
        <!-- êµ¬ë¶„ì„  -->
        <div class="relative my-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-gray-500">ê³„ì • ê´€ë¦¬</span>
          </div>
        </div>
        
        <!-- íƒˆí‡´ ë²„íŠ¼ -->
        <button type="button" id="withdraw-btn" class="w-full py-3 bg-red-500 text-white font-bold rounded-lg shadow hover:bg-red-600 transition text-lg" aria-label="íšŒì› íƒˆí‡´" title="íšŒì› íƒˆí‡´">
          íšŒì› íƒˆí‡´
        </button>
      </div>
    </div>
    <div id="mypage-success" class="text-emerald-600 text-center mt-3 hidden flex items-center justify-center gap-2 animate-fadein">
      <svg class="w-5 h-5 text-emerald-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8 12l2 2 4-4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span>ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!</span>
    </div>
    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div id="login-modal" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="login-modal-title">
      <div class="bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-xs sm:max-w-md md:max-w-2xl relative">
        <button id="close-login" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl" aria-label="ë¡œê·¸ì¸ ì°½ ë‹«ê¸°" title="ë¡œê·¸ì¸ ì°½ ë‹«ê¸°">&times;</button>
        <h2 id="login-modal-title" class="text-2xl font-bold text-center mb-6 text-gray-700">ë¡œê·¸ì¸</h2>
        
        <!-- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì„¹ì…˜ -->
        <div class="mb-6">
          <div class="text-center mb-4">
            <span class="text-gray-500 text-sm">ê°„í¸í•˜ê²Œ ì¹´ì¹´ì˜¤ë¡œ ì‹œì‘í•˜ê¸°</span>
          </div>
          <button type="button" id="login-kakao-login-btn" class="w-full py-3 bg-yellow-400 text-black font-bold rounded-lg shadow hover:bg-yellow-500 transition text-lg flex items-center justify-center gap-2" aria-label="ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸" title="ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸">
            <span class="text-lg">ğŸ’¬</span>
            ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸
          </button>
        </div>
        
        <div class="relative mb-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-gray-500">ë˜ëŠ” ì§ì ‘ ì…ë ¥í•˜ê¸°</span>
          </div>
        </div>
        
        <form id="login-form" class="space-y-4">
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="login-email">ì´ë©”ì¼</label>
            <input type="email" id="login-email" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:outline-none" aria-label="ì´ë©”ì¼" />
          </div>
          <div>
            <label class="block text-gray-700 font-semibold mb-1" for="login-password">ë¹„ë°€ë²ˆí˜¸</label>
            <input type="password" id="login-password" required class="min-h-[44px] text-sm sm:text-base md:text-lg px-3 sm:px-4 py-2 sm:py-3 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:outline-none" aria-label="ë¹„ë°€ë²ˆí˜¸" />
          </div>
          <button type="submit" class="w-full py-3 bg-gray-700 text-white font-bold rounded-lg shadow hover:bg-gray-800 transition text-lg" aria-label="ë¡œê·¸ì¸" title="ë¡œê·¸ì¸">ë¡œê·¸ì¸</button>
        </form>
        <div id="login-error" class="text-red-500 text-center mt-3 hidden flex items-center justify-center gap-2 animate-fadein">
          <svg class="w-5 h-5 text-red-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="8" y1="8" x2="16" y2="16"/><line x1="16" y1="8" x2="8" y2="16"/></svg>
          <span>ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
        </div>
      </div>
    </div>
    <!-- êµ¬ë§¤ì‚¬ë¡€ íŒì—… -->
    <div id="case-modal-overlay" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden transition-opacity duration-300" role="dialog" aria-modal="true" aria-labelledby="case-modal-title">
      <div id="case-modal" class="bg-white rounded-3xl shadow-2xl p-10 max-w-2xl h-auto min-h-[500px] w-full relative scale-95 opacity-0 transition-all duration-300 flex flex-col gap-4 overflow-y-auto max-h-[90vh]">
        <button id="case-modal-close" class="absolute top-4 right-4 text-2xl text-gray-400 hover:text-gray-700" aria-label="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°" title="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°">&times;</button>
        <button id="case-modal-edit" class="absolute top-4 left-4 px-4 py-2 bg-yellow-300 text-gray-800 font-bold rounded-lg shadow hover:bg-yellow-400 transition hidden" aria-label="ì‚¬ë¡€ ìˆ˜ì •" title="ì‚¬ë¡€ ìˆ˜ì •">ìˆ˜ì •</button>
        <h2 id="case-modal-title" class="text-2xl font-bold text-blue-700 mb-2">ì‚¬ë¡€ ìƒì„¸</h2>
        <img id="case-modal-img" src="" alt="ì œí’ˆ ì´ë¯¸ì§€" class="w-full max-h-[60vh] object-contain rounded-xl mb-6 bg-gray-100 border" />
        <h2 id="case-modal-name" class="text-2xl font-bold text-blue-700 mb-2"></h2>
        <div id="case-modal-desc" class="text-gray-700 mb-3"></div>
        <div id="case-modal-review" class="text-gray-600 mb-2"></div>
        <div class="mb-2 text-gray-600"><span id="case-modal-country"></span> | <span id="case-modal-shipping"></span></div>
        <div class="mb-4 text-gray-800 font-semibold">ìµœì €ê°€ í™•ë³´ ë°©ë²•: <span id="case-modal-method"></span></div>
      </div>
    </div>
    <!-- íšŒì› íƒˆí‡´ í™•ì¸ ëª¨ë‹¬ -->
    <div id="withdraw-modal" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="withdraw-modal-title">
      <div class="bg-white rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md relative">
        <button id="close-withdraw" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl" aria-label="íƒˆí‡´ ì°½ ë‹«ê¸°" title="íƒˆí‡´ ì°½ ë‹«ê¸°">&times;</button>
        <h2 id="withdraw-modal-title" class="text-2xl font-bold text-center mb-6 text-red-600">íšŒì› íƒˆí‡´</h2>
        
        <div class="space-y-4 mb-6">
          <div class="bg-red-50 border border-red-200 rounded-lg p-4">
            <div class="flex items-start">
              <svg class="w-5 h-5 text-red-500 mt-0.5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <div>
                <h3 class="text-sm font-medium text-red-800">íƒˆí‡´ ì‹œ ì£¼ì˜ì‚¬í•­</h3>
                <div class="mt-2 text-sm text-red-700">
                  <ul class="list-disc list-inside space-y-1">
                    <li>ëª¨ë“  ê°œì¸ì •ë³´ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤</li>
                    <li>ì§„í–‰ ì¤‘ì¸ ì˜ë¢°ë‚˜ ë¬¸ì˜ëŠ” ì·¨ì†Œë©ë‹ˆë‹¤</li>
                    <li>êµ¬ë§¤ ë‚´ì—­ì€ ë²•ì  ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë³´ê´€ë©ë‹ˆë‹¤</li>
                    <li>íƒˆí‡´ í›„ ì¬ê°€ì… ì‹œ ì´ì „ ë°ì´í„°ëŠ” ë³µêµ¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <div class="flex items-start">
              <svg class="w-5 h-5 text-yellow-500 mt-0.5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <div>
                <h3 class="text-sm font-medium text-yellow-800">ì§„í–‰ ì¤‘ì¸ ì‘ì—… í™•ì¸</h3>
                <div class="mt-2 text-sm text-yellow-700">
                  <div id="withdraw-check-list">
                    <!-- ì§„í–‰ ì¤‘ì¸ ì‘ì—…ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="space-y-3">
          <label class="flex items-center">
            <input type="checkbox" id="withdraw-confirm-checkbox" class="w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500">
            <span class="ml-2 text-sm text-gray-700">ìœ„ ë‚´ìš©ì„ ëª¨ë‘ í™•ì¸í–ˆìœ¼ë©°, íšŒì› íƒˆí‡´ì— ë™ì˜í•©ë‹ˆë‹¤</span>
          </label>
          
          <div class="flex space-x-3">
            <button id="cancel-withdraw" class="flex-1 py-3 bg-gray-500 text-white font-bold rounded-lg shadow hover:bg-gray-600 transition">ì·¨ì†Œ</button>
            <button id="confirm-withdraw" class="flex-1 py-3 bg-red-500 text-white font-bold rounded-lg shadow hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>íƒˆí‡´</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ íŒì—… -->
    <div id="min-order-popup" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40" style="display:none;" role="dialog" aria-modal="true" aria-labelledby="min-order-popup-title">
      <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-xs w-full text-center animate-fadein-up">
        <div class="text-xl font-bold text-pink-600 mb-2" id="min-order-popup-title">ì•ˆë‚´</div>
        <div class="text-gray-800 mb-4 leading-relaxed">
          í˜„ì¬ëŠ” <span class="font-semibold">ì´ˆê¸° í…ŒìŠ¤íŠ¸ ë²„ì „</span>ìœ¼ë¡œ,<br>
          <span class="font-bold text-blue-700">í•˜ë£¨ ìµœëŒ€ 2ê±´ê¹Œì§€ë§Œ ì˜ë¢°í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span><br>
          <span class="font-bold text-blue-700">ë˜í•œ ìµœì†Œ ì˜ë¢° ê¸ˆì•¡ì´ 1ë§Œì› ì´ìƒ</span>ìœ¼ë¡œ ì œí•œë©ë‹ˆë‹¤.<br>
        </div>
        <label class="inline-flex items-center mb-4 cursor-pointer select-none">
          <input type="checkbox" id="hide-popup-today" class="form-checkbox h-4 w-4 text-pink-500 mr-2" />
          <span class="text-sm text-gray-600">ì˜¤ëŠ˜ í•˜ë£¨ ë³´ì§€ ì•Šê¸°</span>
        </label>
        <button id="close-min-order-popup" class="w-full py-2 bg-pink-500 text-white font-bold rounded-lg shadow hover:bg-pink-600 transition" aria-label="ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ ë‹«ê¸°" title="ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ ë‹«ê¸°">í™•ì¸</button>
      </div>
    </div>
    <script>
      // ë¡œê·¸ì¸/íšŒì›ê°€ì…/ë§ˆì´í˜ì´ì§€/ë¡œê·¸ì•„ì›ƒ/ì˜ë¢°ê²°ê³¼ì¡°íšŒ ë²„íŠ¼ ì œì–´
      function updateAuthUI() {
        const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
        const isAdmin = validateAdminSession(); // ì„¸ì…˜ ê²€ì¦ ì¶”ê°€
        
        if (isLoggedIn) {
          document.getElementById('login-btn').style.display = 'none';
          document.getElementById('signup-btn').style.display = 'none';
          document.getElementById('kakao-login-btn').style.display = 'none';
          document.getElementById('mypage-btn').style.display = 'inline-block';
          document.getElementById('orders-btn').style.display = 'inline-block';
          document.getElementById('logout-btn').style.display = 'inline-block';
          document.getElementById('result-btn').style.display = 'inline-block';
          document.getElementById('contact-btn').style.display = 'inline-block'; // 1:1ë¬¸ì˜í•˜ê¸° ë²„íŠ¼ í‘œì‹œ
          
          if (isAdmin) {
            setAdminMode(true);
          } else {
            setAdminMode(false);
          }
        } else {
          document.getElementById('login-btn').style.display = 'inline-block';
          document.getElementById('signup-btn').style.display = 'inline-block';
          document.getElementById('kakao-login-btn').style.display = 'inline-block';
          document.getElementById('mypage-btn').style.display = 'none';
          document.getElementById('orders-btn').style.display = 'none';
          document.getElementById('logout-btn').style.display = 'none';
          document.getElementById('result-btn').style.display = 'none';
          document.getElementById('contact-btn').style.display = 'none'; // 1:1ë¬¸ì˜í•˜ê¸° ë²„íŠ¼ ìˆ¨ê¹€
          setAdminMode(false);
        }
      }
      
      // ê´€ë¦¬ì ì„¸ì…˜ ê²€ì¦ (ì „ì—­ í•¨ìˆ˜ë¡œ ì´ë™)
      function validateAdminSession() {
        const isAdmin = localStorage.getItem('isAdmin') === 'true';
        const loginTime = localStorage.getItem('adminLoginTime');
        
        if (isAdmin && loginTime) {
          // 24ì‹œê°„ ì„¸ì…˜ ì œí•œ
          const sessionAge = Date.now() - parseInt(loginTime);
          const maxSessionAge = 24 * 60 * 60 * 1000; // 24ì‹œê°„
          
          if (sessionAge > maxSessionAge) {
            localStorage.removeItem('isAdmin');
            localStorage.removeItem('adminLoginTime');
            return false;
          }
        }
        return isAdmin;
      }
      
      // ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ
      function adminLogout() {
        localStorage.removeItem('isAdmin');
        localStorage.removeItem('adminLoginTime');
        updateAuthUI();
        showToast('ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
      }
      
      // ë¡œê·¸ì¸ ì‹œë„ ì œí•œ (ê°„ë‹¨í•œ êµ¬í˜„)
      let loginAttempts = 0;
      const maxLoginAttempts = 5;
      let lockoutTime = 0;
      
      function checkLoginLimit() {
        const now = Date.now();
        if (lockoutTime > now) {
          const remainingTime = Math.ceil((lockoutTime - now) / 1000 / 60);
          showToast(`ë¡œê·¸ì¸ ì‹œë„ê°€ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤. ${remainingTime}ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`, 'error');
          return false;
        }
        return true;
      }
      
      function recordLoginAttempt(success) {
        if (success) {
          loginAttempts = 0;
          lockoutTime = 0;
        } else {
          loginAttempts++;
          if (loginAttempts >= maxLoginAttempts) {
            lockoutTime = Date.now() + (15 * 60 * 1000); // 15ë¶„ ì œí•œ
            showToast('ë¡œê·¸ì¸ ì‹œë„ê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. 15ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
          }
        }
      }
      
      // í–¥ìƒëœ Toast ë©”ì‹œì§€ í‘œì‹œ í•¨ìˆ˜
      function showToast(msg, type = 'success', duration = 3000) {
        let toast = document.getElementById('global-toast');
        if (!toast) {
          toast = document.createElement('div');
          toast.id = 'global-toast';
          document.body.appendChild(toast);
        }
        
        const icon = type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'âœ…';
        const bgColor = type === 'error' ? 'bg-red-500' : type === 'warning' ? 'bg-yellow-500' : 'bg-emerald-600';
        
        toast.innerHTML = `
          <div class="flex items-center gap-3">
            <span class="text-xl">${icon}</span>
            <span>${msg}</span>
            <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white/80 hover:text-white">Ã—</button>
          </div>
        `;
        
        toast.className = `fixed top-8 left-1/2 -translate-x-1/2 z-[9999] px-6 py-4 rounded-xl shadow-2xl text-white text-lg font-bold transition-all duration-300 opacity-100 pointer-events-auto ${bgColor}`;
        
        setTimeout(() => { 
          toast.style.opacity = '0';
          setTimeout(() => toast.remove(), 300);
        }, duration);
      }
      
      // ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
      window.addEventListener('error', function(e) {
        console.error('Global error:', e.error);
        showToast('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.', 'error', 5000);
      });
      
      // Promise ì—ëŸ¬ í•¸ë“¤ëŸ¬
      window.addEventListener('unhandledrejection', function(e) {
        console.error('Unhandled promise rejection:', e.reason);
        showToast('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error', 5000);
      });
      
      // ê´€ë¦¬ì ëª¨ë“œ ì„¤ì • í•¨ìˆ˜
      function setAdminMode(isAdmin) {
        // localStorageì— ê´€ë¦¬ì ëª¨ë“œ ìƒíƒœ ì €ì¥
        localStorage.setItem('adminMode', isAdmin.toString());
        localStorage.setItem('isAdmin', isAdmin.toString());
        
        // ê´€ë¦¬ì ëª¨ë“œ ë²„íŠ¼ë“¤ í‘œì‹œ/ìˆ¨ê¹€
        var adminModeBtn = document.getElementById('admin-mode-btn');
        if (adminModeBtn) adminModeBtn.classList.add('hidden');
        var adminLogoutBtn = document.getElementById('admin-logout-btn');
        if (adminLogoutBtn) adminLogoutBtn.classList.toggle('hidden', !isAdmin);
        const adminResultBtn = document.getElementById('admin-result-btn');
        if (adminResultBtn) adminResultBtn.classList.toggle('hidden', !isAdmin);
        var adminInquiryBtn = document.getElementById('admin-inquiry-btn');
        if (adminInquiryBtn) adminInquiryBtn.classList.toggle('hidden', !isAdmin);
                   var adminMemberBtn = document.getElementById('admin-member-btn');
           if (adminMemberBtn) {
             adminMemberBtn.classList.toggle('hidden', !isAdmin);
             console.log('íšŒì›ê´€ë¦¬ ë²„íŠ¼ í‘œì‹œ ìƒíƒœ:', !isAdmin ? 'ìˆ¨ê¹€' : 'í‘œì‹œ');
           }
           var adminCleanupBtn = document.getElementById('admin-cleanup-btn');
           if (adminCleanupBtn) {
             adminCleanupBtn.classList.toggle('hidden', !isAdmin);
             console.log('í…ŒìŠ¤íŠ¸ë°ì´í„°ì •ë¦¬ ë²„íŠ¼ í‘œì‹œ ìƒíƒœ:', !isAdmin ? 'ìˆ¨ê¹€' : 'í‘œì‹œ');
           }
        
        // ì‚¬ë¡€ ì¹´ë“œ í¸ì§‘ ê¸°ëŠ¥ í™œì„±í™”/ë¹„í™œì„±í™”
        enableCaseTextEdit(isAdmin);
        
        console.log('ê´€ë¦¬ì ëª¨ë“œ ì„¤ì •:', isAdmin);
      }
      
      // ì‚¬ë¡€ ì¹´ë“œ í…ìŠ¤íŠ¸ í¸ì§‘ ê¸°ëŠ¥
      function enableCaseTextEdit(isAdmin) {
        // ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ í¸ì§‘ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
        // (ì‹¤ì œ êµ¬í˜„ì€ renderCaseSliderì—ì„œ ì²˜ë¦¬)
      }
      
      window.addEventListener('storage', function(e) {
        // ë‹¤ë¥¸ íƒ­ì—ì„œ localStorage ë³€ê²½ ì‹œ UI ë™ê¸°í™”
        updateAuthUI();
        setAdminMode(localStorage.getItem('isAdmin') === 'true');
      });
      
      // XSS ë°©ì§€ í•¨ìˆ˜
      function sanitizeInput(input) {
        if (typeof input !== 'string') return input;
        return input
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#x27;')
          .replace(/\//g, '&#x2F;');
      }
      
      // ì…ë ¥ê°’ ê²€ì¦ í•¨ìˆ˜
      function validateInput(input, type = 'text') {
        if (!input || typeof input !== 'string') return false;
        
        const patterns = {
          email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
          phone: /^[0-9]{10,11}$/,
          name: /^[ê°€-í£a-zA-Z\s]{2,20}$/,
          password: /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/
        };
        
        return patterns[type] ? patterns[type].test(input) : input.length > 0;
      }
      
      // ë°ì´í„° ë°±ì—… ì‹œìŠ¤í…œ
      function backupData() {
        try {
          const data = {};
          for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            if (key && !key.startsWith('ph_backup_')) {
              data[key] = localStorage.getItem(key);
            }
          }
          
          const backup = {
            timestamp: new Date().toISOString(),
            data: data,
            version: '1.0'
          };
          
          localStorage.setItem('ph_backup_' + Date.now(), JSON.stringify(backup));
          
          // ì˜¤ë˜ëœ ë°±ì—… ì •ë¦¬ (ìµœê·¼ 5ê°œë§Œ ìœ ì§€)
          const backupKeys = Object.keys(localStorage).filter(key => key.startsWith('ph_backup_'));
          if (backupKeys.length > 5) {
            backupKeys.sort().slice(0, -5).forEach(key => localStorage.removeItem(key));
          }
          
          console.log('ë°ì´í„° ë°±ì—… ì™„ë£Œ');
        } catch (error) {
          console.error('ë°±ì—… ì‹¤íŒ¨:', error);
        }
      }
      
          // ìë™ ë°±ì—… (30ë¶„ë§ˆë‹¤)
    setInterval(backupData, 30 * 60 * 1000);
    
    // ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
    function requestNotificationPermission() {
      if ('Notification' in window && Notification.permission === 'default') {
        Notification.requestPermission().then(function(permission) {
          if (permission === 'granted') {
            console.log('ì•Œë¦¼ ê¶Œí•œì´ í—ˆìš©ë˜ì—ˆìŠµë‹ˆë‹¤.');
          }
        });
      }
    }
    
    // ì•Œë¦¼ ë³´ë‚´ê¸°
    function sendNotification(title, body) {
      if ('Notification' in window && Notification.permission === 'granted') {
        new Notification(title, {
          body: body,
          icon: '/favicon.ico',
          badge: '/favicon.ico'
        });
      }
    }
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ ë° ê¸°ì¡´ íšŒì› ë§ˆì´ê·¸ë ˆì´ì…˜
    window.addEventListener('DOMContentLoaded', function() {
      requestNotificationPermission();
      
      // ê¸°ì¡´ íšŒì› ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (í•œ ë²ˆë§Œ ì‹¤í–‰)
      (function migrateExistingUsers() {
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        // ê¸°ì¡´ userê°€ ìˆì§€ë§Œ users ë°°ì—´ì— ì—†ëŠ” ê²½ìš° ì¶”ê°€
        if (user.email && !users.find(u => u.email === user.email)) {
          const migratedUser = {
            name: user.name || '',
            email: user.email || '',
            password: user.password || '',
            phone: user.phone || '',
            kakao: user.kakao || '',
            joinDate: Date.now() - (7 * 24 * 60 * 60 * 1000), // ì¼ì£¼ì¼ ì „ìœ¼ë¡œ ì¶”ì •
            lastLogin: Date.now(),
            status: 'active',
            loginType: user.loginType || 'normal'
          };
          users.push(migratedUser);
          localStorage.setItem('users', JSON.stringify(users));
          console.log('ê¸°ì¡´ íšŒì› ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ:', user.email);
        }
        
        // currentUserê°€ ìˆì§€ë§Œ users ë°°ì—´ì— ì—†ëŠ” ê²½ìš° ì¶”ê°€
        if (currentUser.email && !users.find(u => u.email === currentUser.email)) {
          const migratedUser = {
            name: currentUser.name || '',
            email: currentUser.email || '',
            password: currentUser.password || '',
            phone: currentUser.phone || '',
            kakao: currentUser.kakaoId || currentUser.kakao || '',
            joinDate: currentUser.joinDate || (Date.now() - (7 * 24 * 60 * 60 * 1000)),
            lastLogin: currentUser.lastLogin || Date.now(),
            status: 'active',
            loginType: currentUser.loginType || 'normal'
          };
          users.push(migratedUser);
          localStorage.setItem('users', JSON.stringify(users));
          console.log('ê¸°ì¡´ í˜„ì¬ ì‚¬ìš©ì ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ:', currentUser.email);
        }
        
        // ê¸°ì¡´ ì˜ë¢° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
        const allKeys = Object.keys(localStorage);
        const requestKeys = allKeys.filter(key => key.startsWith('request-'));
        
        requestKeys.forEach(key => {
          try {
            const requestData = JSON.parse(localStorage.getItem(key));
            
            // userName í•„ë“œê°€ ì—†ëŠ” ê²½ìš° ì¶”ê°€
            if (requestData && !requestData.userName) {
              // user ë˜ëŠ” currentUserì—ì„œ ì´ë¦„ ì°¾ê¸°
              let userName = '';
              if (requestData.email) {
                const user = JSON.parse(localStorage.getItem('user') || '{}');
                const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
                
                if (user.email === requestData.email) {
                  userName = user.name || '';
                } else if (currentUser.email === requestData.email) {
                  userName = currentUser.name || '';
                }
              }
              
              // userName í•„ë“œ ì¶”ê°€
              requestData.userName = userName;
              localStorage.setItem(key, JSON.stringify(requestData));
              console.log('ì˜ë¢° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ:', key, 'userName:', userName);
            }
          } catch (e) {
            console.log('ì˜ë¢° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨:', key, e);
          }
        });
        
        console.log('=== ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ ===');
        console.log('ì´ íšŒì› ìˆ˜:', users.length);
        console.log('ì´ ì˜ë¢° ìˆ˜:', requestKeys.length);
      })();
    });
      
      window.addEventListener('DOMContentLoaded', function() {
        // --- ë©”ì¸ í¼ ì „í™˜ ê¸°ëŠ¥ ---
        const requestFormArea = document.getElementById('request-form-area');
        const startBtn = document.getElementById('start-btn');
        if (startBtn) {
          // ì´ ë¶€ë¶„ì€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì œê±°
        }
        // --- ê´€ë¦¬ì ëª¨ë“œ/ì‚¬ë¡€ ì´ë¯¸ì§€ ë³€ê²½ ê¸°ëŠ¥ ---
        // ì‚¬ë¡€ ì¹´ë“œ í…ìŠ¤íŠ¸ ì¸ë¼ì¸ ìˆ˜ì • ê¸°ëŠ¥ (ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ)
        function tryAdminLogin() {
          if (!checkLoginLimit()) return;
          
          const password = prompt('ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
          if (!password) return;
          
          // í–¥ìƒëœ ë³´ì•ˆ ê²€ì¦
          const hashedInput = btoa(password + 'PriceHunter2024!');
          const correctHash = 'YXNkYXNkOTEyMyFAUHJpY2VIdW50ZXIyMDI0IQ=='; // asdasd9123!@ + salt
          
          // ë””ë²„ê¹…ìš©
          console.log('ì…ë ¥ëœ ë¹„ë°€ë²ˆí˜¸:', password);
          console.log('ì…ë ¥ í•´ì‹œ:', hashedInput);
          console.log('ì •ë‹µ í•´ì‹œ:', correctHash);
          console.log('ì¼ì¹˜ ì—¬ë¶€:', hashedInput === correctHash);
          
          // ì¶”ê°€ ë³´ì•ˆ: ì…ë ¥ê°’ ê²€ì¦
          if (password.length < 8 || password.length > 50) {
            showToast('ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
            return;
          }
          
          // íŠ¹ìˆ˜ë¬¸ì í¬í•¨ ì—¬ë¶€ í™•ì¸
          if (!/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
            showToast('ë¹„ë°€ë²ˆí˜¸ì— íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•´ì£¼ì„¸ìš”.', 'error');
            return;
          }
          
          if (hashedInput === correctHash) {
            localStorage.setItem('isAdmin', 'true');
            localStorage.setItem('adminLoginTime', Date.now().toString());
            console.log('ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ!');
            setAdminMode(true); // ì¦‰ì‹œ ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™”
            updateAuthUI();
            recordLoginAttempt(true);
            showToast('ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
          } else {
            recordLoginAttempt(false);
            showToast('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
          }
        }
        
        // ê´€ë¦¬ì ì„¸ì…˜ ê²€ì¦
        function validateAdminSession() {
          const isAdmin = localStorage.getItem('isAdmin') === 'true';
          const loginTime = localStorage.getItem('adminLoginTime');
          
          if (isAdmin && loginTime) {
            // 24ì‹œê°„ ì„¸ì…˜ ì œí•œ
            const sessionAge = Date.now() - parseInt(loginTime);
            const maxSessionAge = 24 * 60 * 60 * 1000; // 24ì‹œê°„
            
            if (sessionAge > maxSessionAge) {
              localStorage.removeItem('isAdmin');
              localStorage.removeItem('adminLoginTime');
              return false;
            }
          }
          return isAdmin;
        }
        var adminLogoutBtn = document.getElementById('admin-logout-btn');
        if (adminLogoutBtn) {
          adminLogoutBtn.addEventListener('click', function() {
            adminLogout();
          });
        }
        setAdminMode(localStorage.getItem('isAdmin') === 'true');
        
        // 'PriceHunter' ë¡œê³  3ë²ˆ ì—°ì† í´ë¦­ ì‹œ ê´€ë¦¬ì ëª¨ë“œ ì§„ì…
        let adminClickCount = 0;
        let adminClickTimer = null;
        const adminTrigger = document.getElementById('admin-hero-trigger');
        if (adminTrigger) {
          adminTrigger.addEventListener('click', function() {
            adminClickCount++;
            if (adminClickTimer) clearTimeout(adminClickTimer);
            adminClickTimer = setTimeout(function() { adminClickCount = 0; }, 2000);
            if (adminClickCount === 3) {
              adminClickCount = 0;
              tryAdminLogin();
            }
          });
        } else {
          console.warn('ê´€ë¦¬ì ì§„ì…ìš© ë§ˆì¹¨í‘œ spanì´ ì—†ìŠµë‹ˆë‹¤.');
        }
        // íšŒì›ê°€ì…/ë§ˆì´í˜ì´ì§€/ì˜ë¢°ê²°ê³¼ì¡°íšŒ ê¸°ëŠ¥
        updateAuthUI();
        setAdminMode(localStorage.getItem('isAdmin') === 'true');
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°±ì—… ì‹¤í–‰
        backupData();
        // íšŒì›ê°€ì… ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
        document.getElementById('signup-btn').onclick = function() {
          document.getElementById('signup-modal').classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        };
        document.getElementById('close-signup').onclick = function() {
          document.getElementById('signup-modal').classList.add('hidden');
          document.body.style.overflow = '';
        };
        // ë³¸ì¸ì¸ì¦(í†µì‹ ì‚¬ ì¸ì¦) ë²„íŠ¼
        let certified = false;
        document.getElementById('certify-btn').onclick = function() {
          // ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì™¸ë¶€ ì¸ì¦ ì—°ë™ í•„ìš”
          // ë°ëª¨: ì´ë¦„, ìƒë…„ì›”ì¼, íœ´ëŒ€í°ë²ˆí˜¸ê°€ ëª¨ë‘ ì…ë ¥ë˜ì–´ì•¼ ì¸ì¦ ì„±ê³µ
          const name = document.getElementById('signup-name').value.trim();
          const birth = document.getElementById('signup-birth').value.trim();
          const phone = document.getElementById('signup-phone').value.trim();
          if (!name || !birth || !phone) {
            alert('ì´ë¦„, ìƒë…„ì›”ì¼, íœ´ëŒ€í°ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
          }
          // ì¸ì¦ ì„±ê³µ ì²˜ë¦¬
          certified = true;
          document.getElementById('certify-success').classList.remove('hidden');
          document.getElementById('signup-submit').disabled = false;
          alert('ë³¸ì¸ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! (ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” í†µì‹ ì‚¬ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤)');
        };
        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì¼ì¹˜ ê²€ì‚¬
        const pw1 = document.getElementById('signup-password');
        const pw2 = document.getElementById('signup-password2');
        const pwError = document.getElementById('pw-match-error');
        const signupSubmit = document.getElementById('signup-submit');
        function checkPwMatch() {
          if (pw1.value && pw2.value && pw1.value !== pw2.value) {
            pwError.classList.remove('hidden');
            signupSubmit.disabled = true;
          } else {
            pwError.classList.add('hidden');
            if (certified && pw1.value && pw2.value && pw1.value === pw2.value) {
              signupSubmit.disabled = false;
            } else {
              signupSubmit.disabled = true;
            }
          }
        }
        pw1.addEventListener('input', checkPwMatch);
        pw2.addEventListener('input', checkPwMatch);
        // íšŒì›ê°€ì… í¼ ì œì¶œ ì‹œ ë³¸ì¸ì¸ì¦ ì²´í¬
        document.getElementById('signup-form').onsubmit = function(e) {
          e.preventDefault();
          
          if (!certified) {
            showToast('ë³¸ì¸ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”!', 'error');
            return;
          }
          
          // ì…ë ¥ê°’ ê²€ì¦ ë° ë³´ì•ˆ ì²˜ë¦¬
          const name = sanitizeInput(document.getElementById('signup-name').value.trim());
          const email = sanitizeInput(document.getElementById('signup-email').value.trim());
          const password = document.getElementById('signup-password').value;
          const phone = sanitizeInput(document.getElementById('signup-phone').value.trim());
          const kakao = sanitizeInput(document.getElementById('signup-kakao').value.trim());
          
          // ì…ë ¥ê°’ ê²€ì¦
          if (!validateInput(name, 'name')) {
            showToast('ì´ë¦„ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš” (2-20ì, í•œê¸€/ì˜ë¬¸)', 'error');
            return;
          }
          
          if (!validateInput(email, 'email')) {
            showToast('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
            return;
          }
          
          if (!validateInput(password, 'password')) {
            showToast('ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒ, ì˜ë¬¸/ìˆ«ì/íŠ¹ìˆ˜ë¬¸ì í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤', 'error');
            return;
          }
          
          if (!validateInput(phone, 'phone')) {
            showToast('ì˜¬ë°”ë¥¸ íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (10-11ìë¦¬)', 'error');
            return;
          }
          
          const user = {
            name: name,
            email: email,
            password: password,
            phone: phone,
            kakao: kakao,
            joinDate: Date.now(),
            lastLogin: Date.now(),
            status: 'active',
            loginType: 'normal'
          };
          
          // users ë°°ì—´ì— ìƒˆ íšŒì› ì¶”ê°€
          const users = JSON.parse(localStorage.getItem('users') || '[]');
          users.push(user);
          localStorage.setItem('users', JSON.stringify(users));
          
          // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì €ì¥
          localStorage.setItem('user', JSON.stringify(user));
          localStorage.setItem('currentUser', JSON.stringify(user));
          localStorage.setItem('loggedIn', 'true'); // íšŒì›ê°€ì… ì‹œ ë¡œê·¸ì¸ ìƒíƒœë¡œ ì „í™˜
          
          document.getElementById('signup-modal').classList.add('hidden');
          document.body.style.overflow = '';
          updateAuthUI();
          showToast('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        };
        // ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
        const mypageBtn = document.getElementById('mypage-btn');
        if (mypageBtn) {
          mypageBtn.onclick = function() {
            // í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ì •ë³´ë¡œ ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ ì±„ìš°ê¸°
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            
            // ì‚¬ìš©ì ì •ë³´ë¥¼ í¼ì— ì±„ìš°ê¸°
            document.getElementById('mypage-name').value = currentUser.name || user.name || '';
            document.getElementById('mypage-email').value = currentUser.email || user.email || '';
            document.getElementById('mypage-phone').value = currentUser.phone || user.phone || '';
            document.getElementById('mypage-kakao').value = currentUser.kakaoId || user.kakao || '';
            
            // ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ ì—´ê¸°
            document.getElementById('mypage-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
          };
        }
        document.getElementById('close-mypage').onclick = function() {
          document.getElementById('mypage-modal').classList.add('hidden');
          document.body.style.overflow = '';
        };
        // ë§ˆì´í˜ì´ì§€ ì •ë³´ ìˆ˜ì •
        document.getElementById('mypage-form').onsubmit = function(e) {
          e.preventDefault();
          
          // í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
          const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
          const updatedUser = {
            ...currentUser,
            name: document.getElementById('mypage-name').value,
            email: document.getElementById('mypage-email').value,
            phone: document.getElementById('mypage-phone').value,
            kakaoId: document.getElementById('mypage-kakao').value
          };
          
          // localStorage ì—…ë°ì´íŠ¸
          localStorage.setItem('currentUser', JSON.stringify(updatedUser));
          
          // ê¸°ì¡´ user ë°ì´í„°ë„ ì—…ë°ì´íŠ¸ (í˜¸í™˜ì„±)
          const user = JSON.parse(localStorage.getItem('user') || '{}');
          user.name = updatedUser.name;
          user.email = updatedUser.email;
          user.phone = updatedUser.phone;
          user.kakao = updatedUser.kakaoId;
          localStorage.setItem('user', JSON.stringify(user));
          
          // users ë°°ì—´ì—ì„œë„ ì—…ë°ì´íŠ¸
          const users = JSON.parse(localStorage.getItem('users') || '[]');
          const userIndex = users.findIndex(u => u.email === currentUser.email);
          if (userIndex >= 0) {
            users[userIndex] = { ...users[userIndex], ...updatedUser };
            localStorage.setItem('users', JSON.stringify(users));
          }
          
          document.getElementById('mypage-modal').classList.add('hidden');
          document.body.style.overflow = '';
          showToast('ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        };
        
        // íšŒì› íƒˆí‡´ ê¸°ëŠ¥
        document.getElementById('withdraw-btn').onclick = function() {
          showWithdrawModal();
        };
        
        // íƒˆí‡´ ëª¨ë‹¬ ë‹«ê¸°
        document.getElementById('close-withdraw').onclick = function() {
          document.getElementById('withdraw-modal').classList.add('hidden');
        };
        
        document.getElementById('cancel-withdraw').onclick = function() {
          document.getElementById('withdraw-modal').classList.add('hidden');
        };
        
        // íƒˆí‡´ í™•ì¸ ì²´í¬ë°•ìŠ¤
        document.getElementById('withdraw-confirm-checkbox').onchange = function() {
          const confirmBtn = document.getElementById('confirm-withdraw');
          confirmBtn.disabled = !this.checked;
        };
        
        // íƒˆí‡´ ì‹¤í–‰
        document.getElementById('confirm-withdraw').onclick = function() {
          if (document.getElementById('withdraw-confirm-checkbox').checked) {
            executeWithdraw();
          }
        };
        
        // íƒˆí‡´ ëª¨ë‹¬ í‘œì‹œ
        function showWithdrawModal() {
          const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
          const checkList = document.getElementById('withdraw-check-list');
          
          // ì§„í–‰ ì¤‘ì¸ ì‘ì—… í™•ì¸
          const requests = JSON.parse(localStorage.getItem('requests') || '[]');
          const inquiries = JSON.parse(localStorage.getItem('inquiries') || '[]');
          const orders = JSON.parse(localStorage.getItem('orders') || '[]');
          
          const pendingRequests = requests.filter(req => req.email === currentUser.email && req.status !== 'completed');
          const pendingInquiries = inquiries.filter(inq => inq.email === currentUser.email && inq.status !== 'completed');
          const pendingOrders = orders.filter(order => order.email === currentUser.email && order.status !== 'completed');
          
          let checkListHTML = '<ul class="list-disc list-inside space-y-1">';
          
          if (pendingRequests.length > 0) {
            checkListHTML += `<li>ì§„í–‰ ì¤‘ì¸ ì˜ë¢°: ${pendingRequests.length}ê±´</li>`;
          }
          if (pendingInquiries.length > 0) {
            checkListHTML += `<li>ë‹µë³€ ëŒ€ê¸° ì¤‘ì¸ ë¬¸ì˜: ${pendingInquiries.length}ê±´</li>`;
          }
          if (pendingOrders.length > 0) {
            checkListHTML += `<li>ì§„í–‰ ì¤‘ì¸ ì£¼ë¬¸: ${pendingOrders.length}ê±´</li>`;
          }
          
          if (pendingRequests.length === 0 && pendingInquiries.length === 0 && pendingOrders.length === 0) {
            checkListHTML += '<li>ì§„í–‰ ì¤‘ì¸ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤</li>';
          }
          
          checkListHTML += '</ul>';
          checkList.innerHTML = checkListHTML;
          
          document.getElementById('withdraw-modal').classList.remove('hidden');
        }
        
        // íƒˆí‡´ ì‹¤í–‰
        function executeWithdraw() {
          const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
          
          // 1. ì‚¬ìš©ì ëª©ë¡ì—ì„œ ì‚­ì œ
          const users = JSON.parse(localStorage.getItem('users') || '[]');
          const updatedUsers = users.map(user => {
            if (user.email === currentUser.email) {
              return { ...user, status: 'withdrawn', withdrawDate: Date.now() };
            }
            return user;
          });
          localStorage.setItem('users', JSON.stringify(updatedUsers));
          
          // 2. ë¡œê·¸ì¸ ìƒíƒœ í•´ì œ
          localStorage.removeItem('loggedIn');
          localStorage.removeItem('currentUser');
          
          // 3. ê´€ë ¨ ë°ì´í„° ì •ë¦¬
          // ì˜ë¢° ë‚´ì—­ ìµëª…í™”
          const requests = JSON.parse(localStorage.getItem('requests') || '[]');
          const updatedRequests = requests.map(req => {
            if (req.email === currentUser.email) {
              return { ...req, email: 'withdrawn_user', name: 'íƒˆí‡´í•œ ì‚¬ìš©ì' };
            }
            return req;
          });
          localStorage.setItem('requests', JSON.stringify(updatedRequests));
          
          // ë¬¸ì˜ ë‚´ì—­ ìµëª…í™”
          const inquiries = JSON.parse(localStorage.getItem('inquiries') || '[]');
          const updatedInquiries = inquiries.map(inq => {
            if (inq.email === currentUser.email) {
              return { ...inq, email: 'withdrawn_user', name: 'íƒˆí‡´í•œ ì‚¬ìš©ì' };
            }
            return inq;
          });
          localStorage.setItem('inquiries', JSON.stringify(updatedInquiries));
          
          // ì£¼ë¬¸ ë‚´ì—­ì€ ìœ ì§€ (ë²•ì  ìš”êµ¬ì‚¬í•­)
          
          // 4. ëª¨ë‹¬ ë‹«ê¸°
          document.getElementById('withdraw-modal').classList.add('hidden');
          document.getElementById('mypage-modal').classList.add('hidden');
          
          // 5. UI ì—…ë°ì´íŠ¸
          updateAuthUI();
          
          // 6. ì„±ê³µ ë©”ì‹œì§€
          showToast('íšŒì› íƒˆí‡´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
          
          // 7. í™ˆí˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 2000);
        }
        // ë²„íŠ¼ í´ë¦­ ì‹œ result-admin.html ì´ë™
        var adminResultBtn = document.getElementById('admin-result-btn');
        if (adminResultBtn) {
          adminResultBtn.onclick = function() {
            window.location.href = 'result-admin.html';
          };
        }
        // ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
        document.getElementById('login-btn').onclick = function() {
          document.getElementById('login-modal').classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        };
        document.getElementById('close-login').onclick = function() {
          document.getElementById('login-modal').classList.add('hidden');
          document.getElementById('login-error').classList.add('hidden');
          document.body.style.overflow = '';
        };
        // ë¡œê·¸ì¸ í¼ ì œì¶œ
        document.getElementById('login-form').onsubmit = function(e) {
          e.preventDefault();
          
          const email = sanitizeInput(document.getElementById('login-email').value.trim());
          const password = document.getElementById('login-password').value;
          
          // ì…ë ¥ê°’ ê²€ì¦
          if (!validateInput(email, 'email')) {
            showToast('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
            return;
          }
          
          if (!password || password.length < 6) {
            showToast('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
            return;
          }
          
          const user = JSON.parse(localStorage.getItem('user') || 'null');
          if (user && user.email === email && user.password === password) {
            // ë¡œê·¸ì¸ ì‹œê°„ ì—…ë°ì´íŠ¸
            user.lastLogin = Date.now();
            localStorage.setItem('user', JSON.stringify(user));
            localStorage.setItem('currentUser', JSON.stringify(user));
            localStorage.setItem('loggedIn', 'true');
            
            // users ë°°ì—´ì—ì„œë„ ì—…ë°ì´íŠ¸
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.email === email);
            if (userIndex >= 0) {
              users[userIndex].lastLogin = Date.now();
              localStorage.setItem('users', JSON.stringify(users));
            }
            
            document.getElementById('login-modal').classList.add('hidden');
            document.getElementById('login-error').classList.add('hidden');
            document.body.style.overflow = '';
            updateAuthUI();
            showToast('ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
          } else {
            document.getElementById('login-error').classList.remove('hidden');
            showToast('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤', 'error');
          }
        };
        // ë¡œê·¸ì•„ì›ƒ
        var logoutBtn = document.getElementById('logout-btn');
        if (logoutBtn) {
          logoutBtn.onclick = function() {
            // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‚¬ìš©ìì¸ ê²½ìš° ì¹´ì¹´ì˜¤ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            if (currentUser.loginType === 'kakao') {
              Kakao.Auth.logout(function() {
                console.log('ì¹´ì¹´ì˜¤ ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ');
              });
            }
            
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì •ë¦¬
            localStorage.removeItem('loggedIn');
            localStorage.removeItem('currentUser');
            updateAuthUI();
            showToast('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
          };
        }
        // ê´€ë¦¬ì í•´ì œ ë²„íŠ¼ null ì²´í¬ ë° ì•ˆë‚´ ë©”ì‹œì§€ ë³´ê°•
        var adminLogoutBtn = document.getElementById('admin-logout-btn');
        if (adminLogoutBtn) {
          adminLogoutBtn.onclick = function() {
            adminLogout();
          };
        }

        (function() {
          var adminClickCount = 0;
          var adminClickTimer = null;
          var adminDot = document.getElementById('admin-hero-trigger');
          if (adminDot) {
            adminDot.onclick = function() {
              adminClickCount++;
              if (adminClickTimer) clearTimeout(adminClickTimer);
              adminClickTimer = setTimeout(function() { adminClickCount = 0; }, 2000);
              if (adminClickCount === 3) {
                adminClickCount = 0;
                tryAdminLogin();
              }
            };
          }
        })();

        // ìµœì €ê°€ ìš”ì²­í•˜ê¸°(ë²„ì „2) ë²„íŠ¼ í´ë¦­ ì‹œ ë¡œê·¸ì¸ ì²´í¬
        var reqBtn = document.getElementById('request-v2-btn');
        if (reqBtn) {
          reqBtn.onclick = function() {
            var loggedIn = localStorage.getItem('loggedIn') === 'true';
            if (loggedIn) {
              window.location.href = 'request-v2.html';
            } else {
              // ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°
              var loginModal = document.getElementById('login-modal');
              if (loginModal) loginModal.classList.remove('hidden');
            }
          };
        }
        
        // ì˜ë¢°ê²°ê³¼ì…ë ¥ ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
        var adminResultBtn = document.getElementById('admin-result-btn');
        if (adminResultBtn) {
          adminResultBtn.onclick = function() {
            window.location.href = 'result-admin.html';
          };
        }
        
        // 1:1 ë¬¸ì˜ í™•ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë™
        var adminInquiryBtn = document.getElementById('admin-inquiry-btn');
        if (adminInquiryBtn) {
          adminInquiryBtn.onclick = function() {
            window.location.href = 'inquiry-admin.html';
          };
        }
        
        // íšŒì› ê´€ë¦¬ ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë™
        var adminMemberBtn = document.getElementById('admin-member-btn');
        if (adminMemberBtn) {
          adminMemberBtn.onclick = function() {
            window.location.href = 'member-admin.html';
          };
        }
      });
    </script>
    <!-- í”„ë¡œì„¸ìŠ¤(4ë‹¨ê³„) ì„¹ì…˜: íˆì–´ë¡œ ë°”ë¡œ ì•„ë˜ -->
    <section class="w-full bg-[#f8fafc] py-32 px-4">
      <div class="max-w-7xl mx-auto">
        <div class="flex flex-col md:flex-row md:items-stretch md:justify-between gap-0 items-center relative">
          <!-- 1ë‹¨ê³„: ì œí’ˆìš”ì²­ -->
          <div class="flex flex-col items-center text-center process-step opacity-0 bg-white rounded-3xl shadow-2xl p-8 md:p-10 hover:scale-105 hover:shadow-3xl cursor-pointer relative md:w-1/4">
            <span class="absolute top-6 left-6 bg-blue-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center text-2xl shadow">1</span>
            <div class="mb-10">
              <svg class="w-28 h-28 text-blue-500" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="4" stroke="currentColor"/><path d="M8 8h8M8 12h8M8 16h4" stroke-linecap="round"/></svg>
            </div>
            <div class="text-3xl font-extrabold mb-3 text-gray-800">ì œí’ˆìš”ì²­</div>
            <div class="text-gray-600 text-xl">êµ¬ë§¤í•˜ê³  ì‹¶ì€ ì œí’ˆì„ ê°„ë‹¨íˆ ì˜ë¢°í•©ë‹ˆë‹¤.</div>
          </div>
          <!-- 1-2ë‹¨ê³„ í™”ì‚´í‘œ -->
          <div class="process-arrow flex justify-center items-center py-2 md:py-0 md:px-2" aria-hidden="true">
            <svg class="w-10 h-10 text-blue-400 md:block hidden" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48"><path d="M8 24h32M32 16l8 8-8 8" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <svg class="w-10 h-10 text-blue-400 md:hidden" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48"><path d="M24 8v32M16 32l8 8 8-8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <!-- 2ë‹¨ê³„: ìµœì €ê°€ íƒìƒ‰ -->
          <div class="flex flex-col items-center text-center process-step opacity-0 bg-white rounded-3xl shadow-2xl p-8 md:p-10 hover:scale-105 hover:shadow-3xl cursor-pointer relative md:w-1/4">
            <span class="absolute top-6 left-6 bg-emerald-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center text-2xl shadow">2</span>
            <div class="mb-10">
              <svg class="w-28 h-28 text-emerald-500" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="7" stroke="currentColor"/><path d="M21 21l-4.35-4.35" stroke-linecap="round"/></svg>
            </div>
            <div class="text-3xl font-extrabold mb-3 text-gray-800">ìµœì €ê°€ íƒìƒ‰</div>
            <div class="text-gray-600 text-xl">ê³µì¥ê°€, ë„ë§¤ê°€ ë“± ë‹¤ì–‘í•œ ê²½ë¡œë¡œ ìµœì €ê°€ë¥¼ ì°¾ìŠµë‹ˆë‹¤.</div>
          </div>
          <!-- 2-3ë‹¨ê³„ í™”ì‚´í‘œ -->
          <div class="process-arrow flex justify-center items-center py-2 md:py-0 md:px-2" aria-hidden="true">
            <svg class="w-10 h-10 text-emerald-400 md:block hidden" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48"><path d="M8 24h32M32 16l8 8-8 8" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <svg class="w-10 h-10 text-emerald-400 md:hidden" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48"><path d="M24 8v32M16 32l8 8 8-8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <!-- 3ë‹¨ê³„: ê²°ê³¼ ì•ˆë‚´ -->
          <div class="flex flex-col items-center text-center process-step opacity-0 bg-white rounded-3xl shadow-2xl p-8 md:p-10 hover:scale-105 hover:shadow-3xl cursor-pointer relative md:w-1/4">
            <span class="absolute top-6 left-6 bg-pink-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center text-2xl shadow">3</span>
            <div class="mb-10">
              <svg class="w-28 h-28 text-pink-500" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24"><path d="M12 19v.01" stroke-linecap="round"/><path d="M12 5a7 7 0 0 1 7 7v3a3 3 0 0 0 2 2.83V19H3v-1.17A3 3 0 0 0 5 15v-3a7 7 0 0 1 7-7Z"/></svg>
            </div>
            <div class="text-3xl font-extrabold mb-3 text-gray-800">ê²°ê³¼ ì•ˆë‚´</div>
            <div class="text-gray-600 text-xl">2~3ì¼ ë‚´ ìµœì €ê°€ ê²°ê³¼ë¥¼ ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤.</div>
          </div>
          <!-- 3-4ë‹¨ê³„ í™”ì‚´í‘œ -->
          <div class="process-arrow flex justify-center items-center py-2 md:py-0 md:px-2" aria-hidden="true">
            <svg class="w-10 h-10 text-pink-400 md:block hidden" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48"><path d="M8 24h32M32 16l8 8-8 8" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <svg class="w-10 h-10 text-pink-400 md:hidden" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 48 48"><path d="M24 8v32M16 32l8 8 8-8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <!-- 4ë‹¨ê³„: êµ¬ë§¤ ì—°ê²° -->
          <div class="flex flex-col items-center text-center process-step opacity-0 bg-white rounded-3xl shadow-2xl p-8 md:p-10 hover:scale-105 hover:shadow-3xl cursor-pointer relative md:w-1/4">
            <span class="absolute top-6 left-6 bg-amber-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center text-2xl shadow">4</span>
            <div class="mb-10">
              <svg class="w-28 h-28 text-amber-500" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24"><path d="M7 17l5-5 5 5" stroke-linecap="round" stroke-linejoin="round"/><rect x="4" y="4" width="16" height="16" rx="4"/></svg>
            </div>
            <div class="text-3xl font-extrabold mb-3 text-gray-800">êµ¬ë§¤ ì—°ê²°</div>
            <div class="text-gray-600 text-xl">ìµœì €ê°€ ë§í¬ë¥¼ í†µí•´ ë°”ë¡œ êµ¬ë§¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
          </div>
        </div>
      </div>
      <style>
        @keyframes fadein-up-strong { from { opacity:0; transform:translateY(60px) scale(1);} to { opacity:1; transform:translateY(0) scale(1); box-shadow:0 8px 32px 0 rgba(0,0,0,0.12);} }
        .process-step.fadein-up-strong.visible { animation: fadein-up-strong 10s cubic-bezier(.4,0,.2,1) both; }
        .process-step.fadein-up-strong.visible:nth-of-type(1) { animation-delay: 0s; }
        .process-step.fadein-up-strong.visible:nth-of-type(3) { animation-delay: 2.5s; }
        .process-step.fadein-up-strong.visible:nth-of-type(5) { animation-delay: 5s; }
        .process-step.fadein-up-strong.visible:nth-of-type(7) { animation-delay: 7.5s; }
        .process-step, .process-arrow {
          opacity: 0;
          transform: translateY(40px) scale(0.96);
          box-shadow: 0 0 0 0 rgba(0,0,0,0);
          transition: opacity 1.2s ease, transform 1.2s ease, box-shadow 1.2s ease;
        }
        .process-step.visible, .process-arrow.visible {
          opacity: 1;
          transform: translateY(0) scale(1);
          box-shadow: 0 8px 32px 0 rgba(0,0,0,0.12);
        }
        
        /* Lazy Loading ìŠ¤íƒ€ì¼ */
        .lazy-image {
          opacity: 0;
          transition: opacity 0.3s ease-in-out;
        }
        
        .lazy-image.loaded {
          opacity: 1;
        }
        
        /* ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© */
        .lazy-image:not(.loaded) {
          background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
          background-size: 200% 100%;
          animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
          0% { background-position: 200% 0; }
          100% { background-position: -200% 0; }
        }
      </style>
      <script>
              function enableCaseTextEdit(isAdmin) {
          for (let i = 1; i <= 4; i++) {
            const nameEl = document.getElementById(`case-name-${i}`);
            const descEl = document.getElementById(`case-desc-${i}`);
            const reviewEl = document.getElementById(`case-review-${i}`);
            const countryEl = document.getElementById(`case-country-${i}`);
            const shippingEl = document.getElementById(`case-shipping-${i}`);
            const methodEl = document.getElementById(`case-method-${i}`);

            if (nameEl) {
              // nameEl ê´€ë ¨ ì½”ë“œ (onclick, classList ë“±)
            }
            if (descEl) {   
              // descEl ê´€ë ¨ ì½”ë“œ
            }
            if (reviewEl) {
              // reviewEl ê´€ë ¨ ì½”ë“œ
            }
            if (countryEl) {
              // countryEl ê´€ë ¨ ì½”ë“œ
            }
            if (shippingEl) {
              // shippingEl ê´€ë ¨ ì½”ë“œ
            }
            if (methodEl) {
              // methodEl ê´€ë ¨ ì½”ë“œ
            }
          }
        }
        // setAdminMode í•¨ìˆ˜ëŠ” ìœ„ì—ì„œ ì´ë¯¸ ì •ì˜ë˜ì—ˆìœ¼ë¯€ë¡œ ì¤‘ë³µ ì œê±°
        window.addEventListener('DOMContentLoaded', function() {
          // í”„ë¡œì„¸ìŠ¤ ì¹´ë“œì™€ í™”ì‚´í‘œë¥¼ ìˆœì„œëŒ€ë¡œ ëª¨ë‘ ê°€ì ¸ì˜´
          const processEls = Array.from(document.querySelectorAll('.process-step, .process-arrow'));
          let idx = 0;
          function showNext() {
            if (idx < processEls.length) {
              processEls[idx].classList.add('visible');
              idx++;
              setTimeout(showNext, 800); // 0.8ì´ˆ ê°„ê²©
            }
          }
          // ë·°í¬íŠ¸ì— ë“¤ì–´ì˜¤ë©´ ì‹œì‘(í˜¹ì€ ë°”ë¡œ ì‹œì‘)
          showNext();
        });
      </script>
    </section>
  
    <!-- êµ¬ë§¤ì‚¬ë¡€ íŒì—… -->
    <div id="case-modal-overlay" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden transition-opacity duration-300" role="dialog" aria-modal="true" aria-labelledby="case-modal-title">
      <div id="case-modal" class="bg-white rounded-3xl shadow-2xl p-10 max-w-2xl h-auto min-h-[500px] w-full relative scale-95 opacity-0 transition-all duration-300 flex flex-col gap-4 overflow-y-auto max-h-[90vh]">
        <button id="case-modal-close" class="absolute top-4 right-4 text-2xl text-gray-400 hover:text-gray-700" aria-label="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°" title="ì‚¬ë¡€ ìƒì„¸ ë‹«ê¸°">&times;</button>
        <button id="case-modal-edit" class="absolute top-4 left-4 px-4 py-2 bg-yellow-300 text-gray-800 font-bold rounded-lg shadow hover:bg-yellow-400 transition hidden" aria-label="ì‚¬ë¡€ ìˆ˜ì •" title="ì‚¬ë¡€ ìˆ˜ì •">ìˆ˜ì •</button>
        <h2 id="case-modal-title" class="text-2xl font-bold text-blue-700 mb-2">ì‚¬ë¡€ ìƒì„¸</h2>
        <img id="case-modal-img" src="" alt="ì œí’ˆ ì´ë¯¸ì§€" class="w-full max-h-[60vh] object-contain rounded-xl mb-6 bg-gray-100 border" />
        <h2 id="case-modal-name" class="text-2xl font-bold text-blue-700 mb-2"></h2>
        <div id="case-modal-desc" class="text-gray-700 mb-3"></div>
        <div id="case-modal-review" class="text-gray-600 mb-2"></div>
        <div class="mb-2 text-gray-600"><span id="case-modal-country"></span> | <span id="case-modal-shipping"></span></div>
        <div class="mb-4 text-gray-800 font-semibold">ìµœì €ê°€ í™•ë³´ ë°©ë²•: <span id="case-modal-method"></span></div>
      </div>
    </div>
    <script>
        function getCaseProducts() {
  const saved = localStorage.getItem('caseProducts');
  if (saved) {
    try {
      const arr = JSON.parse(saved);
      if (Array.isArray(arr) && arr.length > 0) return arr;
    } catch (e) {}
  }
  // ê¸°ë³¸ê°’
  const defaults = [
    { name: "ê¹€OO, 30ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì •ê°€ ëŒ€ë¹„ 40% ì €ë ´í•˜ê²Œ í•´ì™¸ì§êµ¬!", review: "ìŒì§ˆë„ ì¢‹ê³  ë°°ì†¡ë„ ë¹¨ëì–´ìš”!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-28" },
    { name: "ì´OO, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=600&q=80", desc: "êµ­ë‚´ ìµœì €ê°€ë³´ë‹¤ 30% ì €ë ´!", review: "í•´ì™¸ì§êµ¬ë³´ë‹¤ ë” ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ë¯¸êµ­", shipping: "7ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.5, date: "2024-06-25" },
    { name: "ë°•OO, 40ëŒ€ ì£¼ë¶€", img: "https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=600&q=80", desc: "í•œì •íŒë„ ì €ë ´í•˜ê²Œ ë“í…œ!", review: "í•œì •íŒë„ ê³µì¥ê°€ë¡œ ë“í…œ! ë§Œì¡±í•©ë‹ˆë‹¤.", country: "ì¼ë³¸", shipping: "5ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-20" },
    { name: "ìµœOO, 50ëŒ€ ìì˜ì—…ì", img: "https://images.unsplash.com/photo-1512499617640-c2f999098c01?auto=format&fit=crop&w=600&q=80", desc: "ì§êµ¬ë¡œ 50% ì ˆì•½!", review: "íƒ€ê±´ê° ìµœê³ , ê°€ê²©ë„ ë§Œì¡±!", country: "ì¤‘êµ­", shipping: "8ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-06-18" },
    { name: "ì •OO, 20ëŒ€ ì‹ í˜¼ë¶€ë¶€", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", desc: "ì‹ í˜¼ê°€ì „ë„ ìµœì €ê°€ë¡œ!", review: "ëƒ‰ì¥ê³ , ì„¸íƒê¸° ëª¨ë‘ ë§Œì¡±! ë°°ì†¡ë„ ë¹ ë¦„.", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-15" },
    { name: "ì˜¤OO, 30ëŒ€ 1ì¸ê°€êµ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ìƒí™œìš©í’ˆë„ ì €ë ´í•˜ê²Œ!", review: "í˜¼ì ì‚¬ëŠ”ë° í•„ìš”í•œ ì†Œí˜•ê°€ì „, ìƒí™œìš©í’ˆ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.7, date: "2024-06-10" },
    { name: "ìœ OO, 60ëŒ€ ë¶€ëª¨ë‹˜ ì„ ë¬¼", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", desc: "ë¶€ëª¨ë‹˜ ê±´ê°•ìš©í’ˆë„ ìµœì €ê°€!", review: "ì•ˆë§ˆê¸°, ê±´ê°•ì‹í’ˆ ëª¨ë‘ ë§Œì¡±! ë¶€ëª¨ë‹˜ì´ ì¢‹ì•„í•˜ì…¨ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-08" },
    { name: "ì¥OO, 10ëŒ€ í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "í•™ìš©í’ˆ, ITê¸°ê¸°ê¹Œì§€!", review: "ë…¸íŠ¸ë¶, íƒœë¸”ë¦¿, í•™ìš©í’ˆ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.9, date: "2024-06-05" },
    { name: "ì„œOO, 30ëŒ€ ì·¨ë¯¸ëŸ¬", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì·¨ë¯¸ìš©í’ˆë„ ì €ë ´í•˜ê²Œ!", review: "ê¸°íƒ€, ìº í•‘ìš©í’ˆ, ìš´ë™ê¸°êµ¬ê¹Œì§€ ë‹¤ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-06-01" },
    { name: "ë¬¸OO, 40ëŒ€ ì§ì¥ì¸", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "íŒ¨ì…˜/ì¡í™”ë„ OK!", review: "ê°€ë°©, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ê¹Œì§€ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.6, date: "2024-05-28" },
    { name: "ì´OO, 30ëŒ€ í”„ë¦¬ëœì„œ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì‚¬ë¬´ìš©í’ˆë„ ìµœì €ê°€!", review: "í”„ë¦°í„°, ëª¨ë‹ˆí„°, ì˜ìê¹Œì§€ ë‹¤ ë§Œì¡±!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 4.8, date: "2024-05-25" },
    { name: "ìµœOO, 20ëŒ€ ëŒ€í•™ìƒ", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì „ìê¸°ê¸°ë„ ì €ë ´í•˜ê²Œ!", review: "ìŠ¤ë§ˆíŠ¸í°, ì´ì–´í°, ë…¸íŠ¸ë¶ ë‹¤ ì‹¸ê²Œ ìƒ€ì–´ìš”.", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‹¤ì œ êµ¬ë§¤ì", stars: 5, date: "2024-05-20" },
    // ì‚¬ì—…ì/ëŒ€ëŸ‰êµ¬ë§¤ ìƒ˜í”Œ ì¶”ê°€
    { name: "ë°•OO, 40ëŒ€ ì‚¬ì—…ì", img: "https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=600&q=80", desc: "ì‚¬ë¬´ì‹¤ ë¹„í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ë„ ìµœì €ê°€!", review: "í”„ë¦°í„°, ì˜ì, ì±…ìƒ ë“± ëŒ€ëŸ‰êµ¬ë§¤ë„ ë¹ ë¥´ê³  ì €ë ´í•˜ê²Œ í•´ê²°!", country: "ëŒ€í•œë¯¼êµ­", shipping: "3ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-06-27" },
    { name: "ì´OO, 30ëŒ€ ì˜¨ë¼ì¸ì…€ëŸ¬", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", desc: "ì˜¨ë¼ì¸ íŒë§¤ìš© ìƒí’ˆë„ ëŒ€ëŸ‰êµ¬ë§¤ OK!", review: "ë„ë§¤ê°€ë¡œ ëŒ€ëŸ‰êµ¬ë§¤í•´ì„œ ë§ˆì§„ì´ í¬ê²Œ ë‚¨ì•˜ì–´ìš”.", country: "ì¤‘êµ­", shipping: "7ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 4.9, date: "2024-06-22" },
    { name: "ìµœOO, 50ëŒ€ ìœ í†µì—…ì", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ìœ í†µìš© ìƒí™œìš©í’ˆ ëŒ€ëŸ‰êµ¬ë§¤", review: "ìƒí™œìš©í’ˆ 1000ê°œ ë‹¨ìœ„ë¡œë„ ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ê³µê¸‰ë°›ì•˜ìŠµë‹ˆë‹¤.", country: "ëŒ€í•œë¯¼êµ­", shipping: "5ì¼", method: "ë„ë§¤ì²˜ ì—°ë™", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 5, date: "2024-06-18" },
    { name: "ì •OO, 30ëŒ€ ì¹´í˜ìš´ì˜ì", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80", desc: "ì¹´í˜ ì†Œëª¨í’ˆ ëŒ€ëŸ‰êµ¬ë§¤ë„ OK!", review: "ì¢…ì´ì»µ, ë¹¨ëŒ€, ëƒ…í‚¨ ë“± ëŒ€ëŸ‰êµ¬ë§¤ë„ ì €ë ´í•˜ê²Œ í•´ê²°!", country: "ëŒ€í•œë¯¼êµ­", shipping: "2ì¼", method: "ê³µì¥ ì§ì ‘êµ¬ë§¤", badge: "ì‚¬ì—…ì ëŒ€ëŸ‰êµ¬ë§¤", stars: 4.8, date: "2024-06-12" }
  ];
  localStorage.setItem('caseProducts', JSON.stringify(defaults));
  return defaults;
}




// ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
window.addEventListener('DOMContentLoaded', function() {
  document.getElementById('case-modal-close').onclick = closeCaseModal;
  document.getElementById('case-modal-overlay').onclick = function(e) {
    if (e.target === this) closeCaseModal();
  };
});

function closeCaseModal() {
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  modal.classList.remove('opacity-100','scale-100');
  modal.classList.add('opacity-0','scale-95');
  overlay.classList.remove('opacity-100');
  setTimeout(() => { overlay.classList.add('hidden'); }, 300);
  document.body.style.overflow = '';
}

    </script>
    <script>
// ... existing code ...
// ìµœì†Œì£¼ë¬¸ê¸ˆì•¡ ì•ˆë‚´ íŒì—…
function showMinOrderPopupIfNeeded() {
  const popup = document.getElementById('min-order-popup');
  const closeBtn = document.getElementById('close-min-order-popup');
  const hideToday = document.getElementById('hide-popup-today');
  const today = new Date().toISOString().slice(0,10);
  const hideKey = 'hideMinOrderPopup';
  const hideValue = localStorage.getItem(hideKey);
  if (hideValue === today) return; // ì˜¤ëŠ˜ì€ ì•ˆë³´ì„
  popup.style.display = 'flex';
  closeBtn.onclick = function() {
    if (hideToday.checked) {
      localStorage.setItem(hideKey, today);
    }
    popup.style.display = 'none';
    document.body.style.overflow = '';
  };
}
document.addEventListener('DOMContentLoaded', showMinOrderPopupIfNeeded);
// ... existing code ...
    </script>
    <script>
// ... existing code ...
// ìŠ¬ë¼ì´ë” ì•„ë˜ ì•ˆë‚´ë¬¸êµ¬ ì¶”ê°€
const caseDots = document.getElementById('case-dots');
if (caseDots && caseDots.parentElement) {
  let moreGuide = document.getElementById('case-more-guide');
  if (!moreGuide) {
    moreGuide = document.createElement('div');
    moreGuide.id = 'case-more-guide';
    moreGuide.className = 'text-center text-sm text-gray-500 mt-2';
    moreGuide.innerHTML = 'ë” ë§ì€ í›„ê¸°ëŠ” ìŠ¬ë¼ì´ë“œ(â†’) ë²„íŠ¼ì´ë‚˜ â—â—â—â—ë¥¼ ëˆŒëŸ¬ í™•ì¸í•˜ì„¸ìš”!';
    caseDots.parentElement.appendChild(moreGuide);
  }
}
// ... existing code ...
    </script>
    <script>
// ... existing code ...
// ë§ˆì´í˜ì´ì§€ ì •ë³´ ìˆ˜ì • ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
function showMypageSuccess() {
  const msg = document.getElementById('mypage-success');
  if (msg) {
    msg.classList.remove('hidden');
    setTimeout(() => msg.classList.add('hidden'), 1500);
  }
}
document.getElementById('mypage-form').onsubmit = function(e) {
  e.preventDefault();
  const user = JSON.parse(localStorage.getItem('user') || '{}');
  user.name = document.getElementById('mypage-name').value;
  user.email = document.getElementById('mypage-email').value;
  user.phone = document.getElementById('mypage-phone').value;
  user.kakao = document.getElementById('mypage-kakao').value;
  localStorage.setItem('user', JSON.stringify(user));
  document.getElementById('mypage-modal').classList.add('hidden');
  showMypageSuccess();
};
// íšŒì›ê°€ì… ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
function showSignupSuccess() {
  const msg = document.getElementById('signup-success');
  if (msg) {
    msg.classList.remove('hidden');
    setTimeout(() => msg.classList.add('hidden'), 1500);
  }
}
document.getElementById('signup-form').onsubmit = function(e) {
  if (!certified) {
    e.preventDefault();
    alert('ë³¸ì¸ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”!');
    return;
  }
  e.preventDefault();
  const user = {
    name: document.getElementById('signup-name').value,
    email: document.getElementById('signup-email').value,
    password: document.getElementById('signup-password').value,
    phone: document.getElementById('signup-phone').value,
    kakao: document.getElementById('signup-kakao').value
  };
  localStorage.setItem('user', JSON.stringify(user));
  localStorage.setItem('loggedIn', 'true'); // íšŒì›ê°€ì… ì‹œ ë¡œê·¸ì¸ ìƒíƒœë¡œ ì „í™˜
  document.getElementById('signup-modal').classList.add('hidden');
  updateAuthUI();
  showSignupSuccess();
};
// ë¡œê·¸ì•„ì›ƒ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
function showLogoutSuccess() {
  const msg = document.getElementById('logout-success');
  if (msg) {
    msg.classList.remove('hidden');
    setTimeout(() => msg.classList.add('hidden'), 1500);
  }
}
var logoutBtn = document.getElementById('logout-btn');
if (logoutBtn) {
  logoutBtn.onclick = function() {
    localStorage.setItem('loggedIn', 'false');
    updateAuthUI();
    showLogoutSuccess();
  };
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <!-- ë¡œê·¸ì•„ì›ƒ ì„±ê³µ ë©”ì‹œì§€(ìƒë‹¨ ê³ ì •) -->
    <div id="logout-success" class="fixed top-20 left-1/2 -translate-x-1/2 z-50 text-emerald-600 text-center mt-3 hidden flex items-center justify-center gap-2 animate-fadein bg-white/90 px-6 py-3 rounded-xl shadow-lg">
      <svg class="w-5 h-5 text-emerald-500 animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8 12l2 2 4-4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span>ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.</span>
    </div>
    <script>
// ë¹ˆ ë°°ì—´ì´ ì €ì¥ë˜ì–´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ì‚­ì œ(ë³µêµ¬)
(function() {
  const saved = localStorage.getItem('caseProducts');
  if (saved) {
    try {
      const arr = JSON.parse(saved);
      if (Array.isArray(arr) && arr.length === 0) {
        localStorage.removeItem('caseProducts');
      }
    } catch (e) {}
  }
})();
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// ìƒì„¸ë³´ê¸°/ìˆ˜ì • ëª¨ë‹¬ ë° ìˆ˜ì • ê¸°ëŠ¥ ìµœì‹ í™”
function openCaseModal(idx) {
  const p = caseSamples[idx];
  document.getElementById('case-modal-img').src = p.img;
  document.getElementById('case-modal-name').textContent = p.name;
  document.getElementById('case-modal-desc').textContent = p.desc;
  document.getElementById('case-modal-review').textContent = p.review;
  document.getElementById('case-modal-country').textContent = p.country;
  document.getElementById('case-modal-shipping').textContent = p.shipping;
  document.getElementById('case-modal-method').textContent = p.method;
  // ìˆ˜ì • ë²„íŠ¼ ë…¸ì¶œ ì—¬ë¶€
  const isAdmin = localStorage.getItem('isAdmin') === 'true';
  const editBtn = document.getElementById('case-modal-edit');
  editBtn.classList.toggle('hidden', !isAdmin);
  // ìˆ˜ì • ë²„íŠ¼ ì´ë²¤íŠ¸
  editBtn.onclick = function() {
    showCaseEditForm(idx);
  };
  // ëª¨ë‹¬ í‘œì‹œ
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  overlay.classList.remove('hidden');
  setTimeout(() => {
    overlay.classList.add('opacity-100');
    modal.classList.remove('opacity-0','scale-95');
    modal.classList.add('opacity-100','scale-100');
  }, 10);
  document.body.style.overflow = 'hidden';
}

function showCaseEditForm(idx) {
  const p = caseSamples[idx];
  const modal = document.getElementById('case-modal');
  // ê¸°ì¡´ ìƒì„¸ì •ë³´ ìˆ¨ê¸°ê¸°
  Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = 'none'; });
  // ê¸°ì¡´ í¼ ì œê±°
  let form = modal.querySelector('form');
  if (form) form.remove();
  form = document.createElement('form');
  form.className = 'flex flex-col gap-4';
  form.innerHTML = `
    <label>ì´ë¯¸ì§€
      <div class="flex flex-col gap-2 items-center">
        <img id="case-edit-img-preview" src="${p.img}" alt="ë¯¸ë¦¬ë³´ê¸°" class="w-40 h-40 object-contain rounded-xl border bg-gray-100" />
        <input type="file" accept="image/*" class="w-full" id="case-edit-img-input" />
      </div>
    </label>
    <label>ì´ë¦„<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.name}" required></label>
    <label>ì„¤ëª…<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.desc}" required></label>
    <label>í›„ê¸°<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.review}" required></label>
    <label>êµ­ê°€<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.country}" required></label>
    <label>ë°°ì†¡<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.shipping}" required></label>
    <label>ë°©ë²•<input type="text" class="w-full px-4 py-2 min-h-[44px] text-sm sm:text-base md:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.method}" required></label>
    <div class="flex gap-2 mt-2">
      <button type="submit" class="flex-1 py-2 min-h-[44px] text-base bg-blue-500 text-white rounded font-bold">ì €ì¥</button>
      <button type="button" class="flex-1 py-2 min-h-[44px] text-base bg-gray-200 text-gray-600 rounded font-bold" id="case-edit-cancel">ì·¨ì†Œ</button>
    </div>
  `;
  modal.appendChild(form);
  // ì´ë¯¸ì§€ íŒŒì¼ ì²¨ë¶€ ë° ë¯¸ë¦¬ë³´ê¸°
  const imgInput = form.querySelector('#case-edit-img-input');
  const imgPreview = form.querySelector('#case-edit-img-preview');
  let newImgBase64 = null;
  imgInput.addEventListener('change', function(e) {
    const file = e.target.files && e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(ev) {
        imgPreview.src = ev.target.result;
        newImgBase64 = ev.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
  // ì €ì¥ ì´ë²¤íŠ¸
  form.onsubmit = function(e) {
    e.preventDefault();
    // ì´ë¯¸ì§€ê°€ ìƒˆë¡œ ì„ íƒëœ ê²½ìš°ì—ë§Œ p.imgë¥¼ ë³€ê²½
    if (newImgBase64 !== null) {
      p.img = newImgBase64;
    }
    p.name = form.children[1].querySelector('input').value;
    p.desc = form.children[2].querySelector('input').value;
    p.review = form.children[3].querySelector('input').value;
    p.country = form.children[4].querySelector('input').value;
    p.shipping = form.children[5].querySelector('input').value;
    p.method = form.children[6].querySelector('input').value;
    localStorage.setItem('caseProducts', JSON.stringify(caseSamples));
    renderCaseSlider();
    openCaseModal(idx);
  };
  // ì·¨ì†Œ ì´ë²¤íŠ¸
  form.querySelector('#case-edit-cancel').onclick = function() {
    form.remove();
    Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = ''; });
  };
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// 1. Toast í”¼ë“œë°± ë©”ì‹œì§€ í•¨ìˆ˜ ì¶”ê°€
function showToast(msg, type = 'success') {
  let toast = document.getElementById('global-toast');
  if (!toast) {
    toast = document.createElement('div');
    toast.id = 'global-toast';
    toast.className = 'fixed top-8 left-1/2 -translate-x-1/2 z-[9999] px-6 py-3 rounded-xl shadow-lg text-white text-lg font-bold flex items-center gap-2 transition-all duration-300 opacity-0 pointer-events-none';
    document.body.appendChild(toast);
  }
  toast.textContent = msg;
  toast.className = 'fixed top-8 left-1/2 -translate-x-1/2 z-[9999] px-6 py-3 rounded-xl shadow-lg text-white text-lg font-bold flex items-center gap-2 transition-all duration-300 opacity-100 pointer-events-auto ' + (type === 'error' ? 'bg-red-500' : 'bg-emerald-600');
  setTimeout(() => { toast.classList.add('opacity-0'); }, 1500);
}

// 2. ëª¨ë‹¬/íŒì—… escë¡œ ë‹«ê¸°, í¬ì»¤ìŠ¤ ì´ë™, transition ë³´ê°•
window.addEventListener('keydown', function(e) {
  const overlay = document.getElementById('case-modal-overlay');
  if (!overlay || overlay.classList.contains('hidden')) return;
  if (e.key === 'Escape') closeCaseModal();
});
function openCaseModal(idx) {
  const p = caseSamples[idx];
  document.getElementById('case-modal-img').src = p.img;
  document.getElementById('case-modal-img').alt = p.name + ' ì´ë¯¸ì§€';
  document.getElementById('case-modal-name').textContent = p.name;
  document.getElementById('case-modal-desc').textContent = p.desc;
  document.getElementById('case-modal-review').textContent = p.review;
  document.getElementById('case-modal-country').textContent = p.country;
  document.getElementById('case-modal-shipping').textContent = p.shipping;
  document.getElementById('case-modal-method').textContent = p.method;
  // ìˆ˜ì • ë²„íŠ¼ ë…¸ì¶œ ì—¬ë¶€
  const isAdmin = localStorage.getItem('isAdmin') === 'true';
  const editBtn = document.getElementById('case-modal-edit');
  editBtn.classList.toggle('hidden', !isAdmin);
  editBtn.setAttribute('aria-label', 'ì‚¬ë¡€ ìˆ˜ì •');
  editBtn.setAttribute('title', 'ì‚¬ë¡€ ìˆ˜ì •');
  // ìˆ˜ì • ë²„íŠ¼ ì´ë²¤íŠ¸
  editBtn.onclick = function() {
    showCaseEditForm(idx);
  };
  // ëª¨ë‹¬ í‘œì‹œ
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  overlay.classList.remove('hidden');
  setTimeout(() => {
    overlay.classList.add('opacity-100');
    modal.classList.remove('opacity-0','scale-95');
    modal.classList.add('opacity-100','scale-100');
    // í¬ì»¤ìŠ¤ ì´ë™
    modal.setAttribute('tabindex', '-1');
    modal.focus();
  }, 10);
  document.body.style.overflow = 'hidden';
}
function closeCaseModal() {
  const overlay = document.getElementById('case-modal-overlay');
  const modal = document.getElementById('case-modal');
  modal.classList.remove('opacity-100','scale-100');
  modal.classList.add('opacity-0','scale-95');
  overlay.classList.remove('opacity-100');
  setTimeout(() => { overlay.classList.add('hidden'); }, 300);
  document.body.style.overflow = '';
}
// 3. ìˆ˜ì • í¼ ì ‘ê·¼ì„±/ëª¨ë°”ì¼/í”¼ë“œë°± ë³´ê°•
function showCaseEditForm(idx) {
  const p = caseSamples[idx];
  const modal = document.getElementById('case-modal');
  Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = 'none'; });
  let form = modal.querySelector('form');
  if (form) form.remove();
  form = document.createElement('form');
  form.className = 'flex flex-col gap-4';
  form.setAttribute('aria-label', 'ì‚¬ë¡€ ìˆ˜ì • í¼');
  form.innerHTML = `
    <label>ì´ë¯¸ì§€
      <div class="flex flex-col gap-2 items-center">
        <img id="case-edit-img-preview" src="${p.img}" alt="ë¯¸ë¦¬ë³´ê¸°" class="w-40 h-40 object-contain rounded-xl border bg-gray-100" />
        <input type="file" accept="image/*" class="w-full min-h-[44px]" id="case-edit-img-input" aria-label="ì´ë¯¸ì§€ ì²¨ë¶€" />
      </div>
    </label>
    <label>ì´ë¦„<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.name}" required aria-label="ì´ë¦„" /></label>
    <label>ì„¤ëª…<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.desc}" required aria-label="ì„¤ëª…" /></label>
    <label>í›„ê¸°<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.review}" required aria-label="í›„ê¸°" /></label>
    <label>êµ­ê°€<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.country}" required aria-label="êµ­ê°€" /></label>
    <label>ë°°ì†¡<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.shipping}" required aria-label="ë°°ì†¡" /></label>
    <label>ë°©ë²•<input type="text" class="w-full px-4 py-2 min-h-[44px] text-base sm:text-lg rounded border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none" value="${p.method}" required aria-label="ë°©ë²•" /></label>
    <div class="flex gap-2 mt-2">
      <button type="submit" class="flex-1 py-2 min-h-[44px] text-base bg-blue-500 text-white rounded font-bold" aria-label="ì €ì¥">ì €ì¥</button>
      <button type="button" class="flex-1 py-2 min-h-[44px] text-base bg-gray-200 text-gray-600 rounded font-bold" id="case-edit-cancel" aria-label="ì·¨ì†Œ">ì·¨ì†Œ</button>
    </div>
  `;
  modal.appendChild(form);
  // ì´ë¯¸ì§€ íŒŒì¼ ì²¨ë¶€ ë° ë¯¸ë¦¬ë³´ê¸°
  const imgInput = form.querySelector('#case-edit-img-input');
  const imgPreview = form.querySelector('#case-edit-img-preview');
  let newImgBase64 = null;
  imgInput.addEventListener('change', function(e) {
    const file = e.target.files && e.target.files[0];
    if (file) {
      if (!file.type.startsWith('image/')) {
        showToast('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'error');
        imgInput.value = '';
        return;
      }
      if (file.size > 2 * 1024 * 1024) { // 2MB ì œí•œ
        showToast('2MB ì´í•˜ ì´ë¯¸ì§€ë§Œ ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'error');
        imgInput.value = '';
        return;
      }
      const reader = new FileReader();
      reader.onload = function(ev) {
        imgPreview.src = ev.target.result;
        newImgBase64 = ev.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
  // ì €ì¥ ì´ë²¤íŠ¸
  form.onsubmit = function(e) {
    e.preventDefault();
    // í•„ìˆ˜ê°’ ê²€ì¦
    let valid = true;
    Array.from(form.querySelectorAll('input[type=text]')).forEach(input => {
      if (!input.value.trim()) {
        input.classList.add('border-red-500');
        valid = false;
      } else {
        input.classList.remove('border-red-500');
      }
    });
    if (!valid) {
      showToast('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.', 'error');
      return;
    }
    if (newImgBase64 !== null) {
      p.img = newImgBase64;
    }
    p.name = form.children[1].querySelector('input').value;
    p.desc = form.children[2].querySelector('input').value;
    p.review = form.children[3].querySelector('input').value;
    p.country = form.children[4].querySelector('input').value;
    p.shipping = form.children[5].querySelector('input').value;
    p.method = form.children[6].querySelector('input').value;
    localStorage.setItem('caseProducts', JSON.stringify(caseSamples));
    renderCaseSlider();
    openCaseModal(idx);
    showToast('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
  };
  // ì·¨ì†Œ ì´ë²¤íŠ¸
  form.querySelector('#case-edit-cancel').onclick = function() {
    form.remove();
    Array.from(modal.children).forEach(el => { if (el.id && el.id.startsWith('case-modal-')) el.style.display = ''; });
  };
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ ë‚´ 'ë‚´ í™œë™' ì„¹ì…˜ ì¶”ê°€ ë° ë°ì´í„° í‘œì‹œ
// 1. ë§ˆì´í˜ì´ì§€ ëª¨ë‹¬ì— ë‚´ í™œë™ ì˜ì—­ ì¶”ê°€ (ì£¼ë¬¸/ë¬¸ì˜/ë‹µë³€)
(function addMyActivitySection() {
  const mypageModal = document.getElementById('mypage-modal');
  if (!mypageModal) return;
  let activity = document.getElementById('mypage-activity');
  if (!activity) {
    activity = document.createElement('div');
    activity.id = 'mypage-activity';
    activity.className = 'mt-8';
    activity.innerHTML = `
      <h3 class="text-xl font-bold text-blue-700 mb-3">ë‚´ í™œë™</h3>
      <div class="flex flex-col gap-4">
        <div>
          <div class="font-semibold text-gray-700 mb-1">ì£¼ë¬¸ ë‚´ì—­</div>
          <ul id="mypage-orders" class="bg-gray-50 rounded-xl p-3 text-sm min-h-[44px]"></ul>
        </div>
        <div>
          <div class="font-semibold text-gray-700 mb-1">ë¬¸ì˜ ë‚´ì—­</div>
          <ul id="mypage-contacts" class="bg-gray-50 rounded-xl p-3 text-sm min-h-[44px]"></ul>
        </div>
        <div>
          <div class="font-semibold text-gray-700 mb-1">ë‹µë³€ ë‚´ì—­</div>
          <ul id="mypage-answers" class="bg-gray-50 rounded-xl p-3 text-sm min-h-[44px]"></ul>
        </div>
      </div>
    `;
    mypageModal.querySelector('form').after(activity);
  }
})();

// 2. ë‚´ í™œë™ ë°ì´í„° ë Œë”ë§ í•¨ìˆ˜ (ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë§Œ í‘œì‹œ)
function renderMyActivity() {
  const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
  
  // ì£¼ë¬¸ ë‚´ì—­ (ì‹¤ì œ orders ë°ì´í„°ì—ì„œ í˜„ì¬ ì‚¬ìš©ì ê²ƒë§Œ í•„í„°ë§)
  let orders = [];
  try {
    const allOrders = JSON.parse(localStorage.getItem('orders') || '[]');
    orders = allOrders.filter(order => order.email === currentUser.email);
  } catch (e) { orders = []; }
  const ordersUl = document.getElementById('mypage-orders');
  if (ordersUl) {
    ordersUl.innerHTML = orders.length ? orders.map(o => `<li class="py-1 border-b last:border-b-0 flex flex-col sm:flex-row sm:items-center sm:gap-2"><span class="font-bold">${o.productName || o.name || 'ìƒí’ˆ'}</span><span class="text-gray-500 ml-2">${o.orderDate || o.date || ''}</span><span class="text-pink-600 ml-2">${o.totalAmount || o.price ? (o.totalAmount || o.price) + 'ì›' : ''}</span></li>`).join('') : '<li class="text-gray-400">ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
  }
  
  // ë¬¸ì˜ ë‚´ì—­ (ì‹¤ì œ inquiries ë°ì´í„°ì—ì„œ í˜„ì¬ ì‚¬ìš©ì ê²ƒë§Œ í•„í„°ë§)
  let contacts = [];
  try {
    const allInquiries = JSON.parse(localStorage.getItem('inquiries') || '[]');
    contacts = allInquiries.filter(inquiry => inquiry.email === currentUser.email);
  } catch (e) { contacts = []; }
  const contactsUl = document.getElementById('mypage-contacts');
  if (contactsUl) {
    contactsUl.innerHTML = contacts.length ? contacts.map(c => `<li class="py-1 border-b last:border-b-0 flex flex-col sm:flex-row sm:items-center sm:gap-2"><span class="font-bold">${c.title || c.subject || 'ë¬¸ì˜'}</span><span class="text-gray-500 ml-2">${c.date || ''}</span><span class="ml-2">${c.status === 'completed' ? 'ë‹µë³€ì™„ë£Œ' : 'ë‹µë³€ëŒ€ê¸°'}</span></li>`).join('') : '<li class="text-gray-400">ë¬¸ì˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
  }
  
  // ë‹µë³€ ë‚´ì—­ (ë¬¸ì˜ ë‚´ì—­ê³¼ ë™ì¼í•˜ì§€ë§Œ ë‹µë³€ ìƒíƒœë³„ë¡œ í‘œì‹œ)
  const answersUl = document.getElementById('mypage-answers');
  if (answersUl) {
    const answeredInquiries = contacts.filter(c => c.status === 'completed');
    answersUl.innerHTML = answeredInquiries.length ? answeredInquiries.map(a => `<li class="py-1 border-b last:border-b-0 flex flex-col sm:flex-row sm:items-center sm:gap-2"><span class="font-bold">${a.title || a.subject || 'ë¬¸ì˜'}</span><span class="text-gray-500 ml-2">${a.date || ''}</span><span class="ml-2 text-emerald-700">ë‹µë³€ì™„ë£Œ</span></li>`).join('') : '<li class="text-gray-400">ë‹µë³€ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
  }
}
// 3. ë§ˆì´í˜ì´ì§€ ì—´ë¦´ ë•Œë§ˆë‹¤ ë‚´ í™œë™ ë Œë”ë§
const mypageBtn = document.getElementById('mypage-btn');
if (mypageBtn) {
  mypageBtn.addEventListener('click', function() {
    setTimeout(renderMyActivity, 100); // ëª¨ë‹¬ ì—´ë¦¼ í›„ ë Œë”ë§
  });
}
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...
// ë‚´ í™œë™ ë°ì´í„°ëŠ” ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë§Œ í‘œì‹œ
// ê¸°ì¡´ ê°€ì§œ ë°ì´í„° ì œê±°
(function clearFakeData() {
  // ê°€ì§œ ë°ì´í„° ì œê±°
  localStorage.removeItem('orders');
  localStorage.removeItem('contacts');
  localStorage.removeItem('answers');
})();
// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    <script>
// ... existing code ...

// ... ê¸°ì¡´ ì½”ë“œ ...
    </script>
    
    <!-- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
      // ì¹´ì¹´ì˜¤ ì´ˆê¸°í™” í•¨ìˆ˜
      async function initializeKakao() {
        console.log('=== ì¹´ì¹´ì˜¤ ì´ˆê¸°í™” ì‹œì‘ ===');
        try {
          await loadKakaoSDK();
          console.log('ì¹´ì¹´ì˜¤ SDK ë¡œë”© ì™„ë£Œ');
          
          if (window.Kakao && !window.Kakao.isInitialized()) {
            window.Kakao.init('6917a034b74fafd0ac80ab855af5ed6d');
            console.log('ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” ì„±ê³µ');
            console.log('ì´ˆê¸°í™” ìƒíƒœ:', window.Kakao.isInitialized());
          } else if (window.Kakao && window.Kakao.isInitialized()) {
            console.log('ì¹´ì¹´ì˜¤ SDKê°€ ì´ë¯¸ ì´ˆê¸°í™”ë¨');
          } else {
            console.warn('ì¹´ì¹´ì˜¤ SDK ê°ì²´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
          }
        } catch (error) {
          console.error('ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        }
      }
      
      // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í•¨ìˆ˜ (ê°œì„ ëœ ë²„ì „)
      async function performKakaoLogin() {
        console.log('=== ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹œì‘ ===');
        console.log('ì¹´ì¹´ì˜¤ SDK ë¡œë”© ìƒíƒœ:', window.kakaoSDKLoaded);
        console.log('ì¹´ì¹´ì˜¤ ê°ì²´ ì¡´ì¬:', !!window.Kakao);
        
        try {
          // ì¹´ì¹´ì˜¤ SDK ë¡œë”© í™•ì¸
          if (!window.kakaoSDKLoaded || !window.Kakao) {
            console.log('ì¹´ì¹´ì˜¤ SDKê°€ ë¡œë”©ë˜ì§€ ì•ŠìŒ - ì´ˆê¸°í™” ì‹œë„');
            showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'warning');
            await initializeKakao();
            return;
          }
          
          // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹¤í–‰
          window.Kakao.Auth.login({
            success: function(authObj) {
              console.log('ì¹´ì¹´ì˜¤ ì¸ì¦ ì„±ê³µ:', authObj);
              
              // ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
              window.Kakao.API.request({
                url: '/v2/user/me',
                success: function(res) {
                  const userInfo = res.kakao_account;
                  console.log('ì¹´ì¹´ì˜¤ ì‚¬ìš©ì ì •ë³´:', userInfo);
                  
                  // ì‚¬ìš©ì ì •ë³´ êµ¬ì„± (í˜„ì¬ ìˆ˜ì§‘ ê°€ëŠ¥í•œ ì •ë³´ë§Œ)
                  const userData = {
                    name: userInfo.profile?.nickname || 'ì¹´ì¹´ì˜¤ ì‚¬ìš©ì',
                    email: userInfo.email || `kakao_${res.id}@pricehunter.com`,
                    phone: '', // ì¶”ê°€ ì •ë³´ ì…ë ¥ìœ¼ë¡œ ë°›ê¸°
                    birth: '', // ì¶”ê°€ ì •ë³´ ì…ë ¥ìœ¼ë¡œ ë°›ê¸°
                    kakaoId: res.id,
                    loginType: 'kakao',
                    loginTime: Date.now()
                  };
                  
                  // ì¶”ê°€ ì •ë³´ ì…ë ¥ì´ í•„ìš”í•œì§€ í™•ì¸
                  if (!userData.phone || !userData.birth) {
                    showAdditionalInfoModal(userData);
                  } else {
                    completeKakaoLogin(userData);
                  }
                },
                fail: function(err) {
                  console.error('ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨:', err);
                  showToast('ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¼ë°˜ ë¡œê·¸ì¸ì„ ì´ìš©í•´ì£¼ì„¸ìš”.', 'error');
                }
              });
            },
            fail: function(err) {
              console.error('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹¤íŒ¨:', err);
              showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì¼ë°˜ ë¡œê·¸ì¸ì„ ì´ìš©í•´ì£¼ì„¸ìš”.', 'error');
            }
          });
        } catch (error) {
          console.error('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
          showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¼ë°˜ ë¡œê·¸ì¸ì„ ì´ìš©í•´ì£¼ì„¸ìš”.', 'error');
        }
      }
      
      // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì™„ë£Œ ì²˜ë¦¬
      function completeKakaoLogin(userData) {
        // ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„°ì™€ ë³‘í•©
        const existingUsers = JSON.parse(localStorage.getItem('users') || '[]');
        const existingUserIndex = existingUsers.findIndex(user => user.email === userData.email);
        
        if (existingUserIndex >= 0) {
          // ê¸°ì¡´ ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
          existingUsers[existingUserIndex] = { ...existingUsers[existingUserIndex], ...userData };
        } else {
          // ìƒˆ ì‚¬ìš©ì ì¶”ê°€
          existingUsers.push(userData);
        }
        
        localStorage.setItem('users', JSON.stringify(existingUsers));
        localStorage.setItem('loggedIn', userData.email);
        localStorage.setItem('currentUser', JSON.stringify(userData));
        
        // UI ì—…ë°ì´íŠ¸
        updateAuthUI();
        
        // ì„±ê³µ ë©”ì‹œì§€
        showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
        
        // ë§ˆì´í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸
        updateMyPageInfo(userData);
        
        // ëª¨ë‹¬ ë‹«ê¸°
        const signupModal = document.getElementById('signup-modal');
        const loginModal = document.getElementById('login-modal');
        if (signupModal) signupModal.classList.add('hidden');
        if (loginModal) loginModal.classList.add('hidden');
      }
      
      // ì¶”ê°€ ì •ë³´ ì…ë ¥ ëª¨ë‹¬ í‘œì‹œ
      function showAdditionalInfoModal(userData) {
        // ëª¨ë‹¬ HTML ìƒì„±
        const modalHTML = `
          <div id="additional-info-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
              <h3 class="text-xl font-bold mb-4">ì¶”ê°€ ì •ë³´ ì…ë ¥</h3>
              <p class="text-gray-600 mb-4">ì„œë¹„ìŠ¤ ì´ìš©ì„ ìœ„í•´ ì¶”ê°€ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
              
              <div class="space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">íœ´ëŒ€í°ë²ˆí˜¸</label>
                  <input type="tel" id="additional-phone" placeholder="010-1234-5678" 
                         class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">ìƒë…„ì›”ì¼</label>
                  <input type="date" id="additional-birth" 
                         class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
              </div>
              
              <div class="flex gap-3 mt-6">
                <button id="save-additional-info" class="flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">
                  ì €ì¥
                </button>
                <button id="cancel-additional-info" class="flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400">
                  ì·¨ì†Œ
                </button>
              </div>
            </div>
          </div>
        `;
        
        // ê¸°ì¡´ ëª¨ë‹¬ ì œê±°
        const existingModal = document.getElementById('additional-info-modal');
        if (existingModal) existingModal.remove();
        
        // ìƒˆ ëª¨ë‹¬ ì¶”ê°€
        document.body.insertAdjacentHTML('beforeend', modalHTML);
        
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.getElementById('save-additional-info').onclick = function() {
          const phone = document.getElementById('additional-phone').value;
          const birth = document.getElementById('additional-birth').value;
          
          if (!phone || !birth) {
            showToast('ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
            return;
          }
          
          userData.phone = phone;
          userData.birth = birth;
          
          document.getElementById('additional-info-modal').remove();
          completeKakaoLogin(userData);
        };
        
        document.getElementById('cancel-additional-info').onclick = function() {
          document.getElementById('additional-info-modal').remove();
          showToast('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
        };
      }
      
      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´ì¹´ì˜¤ ì´ˆê¸°í™”
      document.addEventListener('DOMContentLoaded', function() {
        initializeKakao();
      });
      
      // ëª¨ë“  ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸ ì„¤ì •
      document.addEventListener('DOMContentLoaded', function() {
        // ë©”ì¸ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼
        const kakaoBtn = document.getElementById('kakao-login-btn');
        if (kakaoBtn) {
          kakaoBtn.addEventListener('click', performKakaoLogin);
        }
        
        // íšŒì›ê°€ì… ëª¨ë‹¬ì˜ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼
        const signupKakaoBtn = document.getElementById('signup-kakao-login-btn');
        if (signupKakaoBtn) {
          signupKakaoBtn.addEventListener('click', performKakaoLogin);
        }
        
        // ë¡œê·¸ì¸ ëª¨ë‹¬ì˜ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼
        const loginKakaoBtn = document.getElementById('login-kakao-login-btn');
        if (loginKakaoBtn) {
          loginKakaoBtn.addEventListener('click', performKakaoLogin);
        }
        
        console.log('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ì™„ë£Œ');
      });
      
      // ë§ˆì´í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
      function updateMyPageInfo(userData) {
        const mypageName = document.getElementById('mypage-name');
        const mypageEmail = document.getElementById('mypage-email');
        const mypagePhone = document.getElementById('mypage-phone');
        const mypageKakao = document.getElementById('mypage-kakao');
        
        if (mypageName) mypageName.value = userData.name || '';
        if (mypageEmail) mypageEmail.value = userData.email || '';
        if (mypagePhone) mypagePhone.value = userData.phone || '';
        if (mypageKakao) mypageKakao.value = userData.kakaoId || '';
      }
      
      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
      window.addEventListener('load', function() {
        const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
        if (currentUser.loginType === 'kakao') {
          // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‚¬ìš©ìì˜ ê²½ìš° í† í° ìœ íš¨ì„± í™•ì¸
          if (Kakao.Auth.getAccessToken()) {
            console.log('ì¹´ì¹´ì˜¤ í† í° ìœ íš¨');
          } else {
            console.log('ì¹´ì¹´ì˜¤ í† í° ë§Œë£Œ');
            // í† í°ì´ ë§Œë£Œëœ ê²½ìš° ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
            localStorage.removeItem('loggedIn');
            localStorage.removeItem('currentUser');
            updateAuthUI();
          }
        }
      });
    </script>
    <!-- í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ í•¨ìˆ˜ -->
    <script>
      // í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ í•¨ìˆ˜
      function cleanupTestData() {
        console.log('=== ë©”ì¸ í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ ì‹œì‘ ===');
        const allKeys = Object.keys(localStorage);
        let deletedCount = 0;
        
        allKeys.forEach(key => {
          // í…ŒìŠ¤íŠ¸ ë°ì´í„° íŒ¨í„´ë“¤
          const isTestData = 
            key.includes('TEST') || 
            key.startsWith('requestCount-') ||
            key.includes('#PH-') ||
            key.includes('result-#PH-') ||
            key.includes('order-#PH-') ||
            key.includes('notify-#PH-') ||
            key.includes('inquiry-#PH-');
          
          if (isTestData) {
            localStorage.removeItem(key);
            deletedCount++;
            console.log(`í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚­ì œ: ${key}`);
          }
        });
        
        if (deletedCount > 0) {
          console.log(`ì´ ${deletedCount}ê°œì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`);
          showToast(`í…ŒìŠ¤íŠ¸ ë°ì´í„° ${deletedCount}ê°œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
        } else {
          console.log('ì‚­ì œí•  í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
          showToast('ì‚­ì œí•  í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.', 'info');
        }
      }
    </script>
  </body>
</html>



